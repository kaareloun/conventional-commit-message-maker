#!/usr/bin/env node
"use strict";var lD=Object.create;var Uo=Object.defineProperty;var DD=Object.getOwnPropertyDescriptor;var fD=Object.getOwnPropertyNames;var pD=Object.getPrototypeOf,dD=Object.prototype.hasOwnProperty;var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var mD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fD(t))!dD.call(e,i)&&i!==r&&Uo(e,i,{get:()=>t[i],enumerable:!(n=DD(t,i))||n.enumerable});return e};var y=(e,t,r)=>(r=e!=null?lD(pD(e)):{},mD(t||!e||!e.__esModule?Uo(r,"default",{value:e,enumerable:!0}):r,e));var kr=O((Sb,Go)=>{"use strict";var _r="\x1B",S=`${_r}[`,hD="\x07",Nr={to(e,t){return t?`${S}${t+1};${e+1}H`:`${S}${e+1}G`},move(e,t){let r="";return e<0?r+=`${S}${-e}D`:e>0&&(r+=`${S}${e}C`),t<0?r+=`${S}${-t}A`:t>0&&(r+=`${S}${t}B`),r},up:(e=1)=>`${S}${e}A`,down:(e=1)=>`${S}${e}B`,forward:(e=1)=>`${S}${e}C`,backward:(e=1)=>`${S}${e}D`,nextLine:(e=1)=>`${S}E`.repeat(e),prevLine:(e=1)=>`${S}F`.repeat(e),left:`${S}G`,hide:`${S}?25l`,show:`${S}?25h`,save:`${_r}7`,restore:`${_r}8`},gD={up:(e=1)=>`${S}S`.repeat(e),down:(e=1)=>`${S}T`.repeat(e)},bD={screen:`${S}2J`,up:(e=1)=>`${S}1J`.repeat(e),down:(e=1)=>`${S}J`.repeat(e),line:`${S}2K`,lineEnd:`${S}K`,lineStart:`${S}1K`,lines(e){let t="";for(let r=0;r<e;r++)t+=this.line+(r<e-1?Nr.up():"");return e&&(t+=Nr.left),t}};Go.exports={cursor:Nr,scroll:gD,erase:bD,beep:hD}});var Ur=O((wb,jr)=>{var Wo=process.argv||[],ct=process.env,ED=!("NO_COLOR"in ct||Wo.includes("--no-color"))&&("FORCE_COLOR"in ct||Wo.includes("--color")||process.platform==="win32"||require!=null&&require("tty").isatty(1)&&ct.TERM!=="dumb"||"CI"in ct),yD=(e,t,r=e)=>n=>{let i=""+n,s=i.indexOf(t,e.length);return~s?e+CD(i,t,r,s)+t:e+i+t},CD=(e,t,r,n)=>{let i="",s=0;do i+=e.substring(s,n)+r,s=n+t.length,n=e.indexOf(t,s);while(~n);return i+e.substring(s)},zo=(e=ED)=>{let t=e?yD:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m"),blackBright:t("\x1B[90m","\x1B[39m"),redBright:t("\x1B[91m","\x1B[39m"),greenBright:t("\x1B[92m","\x1B[39m"),yellowBright:t("\x1B[93m","\x1B[39m"),blueBright:t("\x1B[94m","\x1B[39m"),magentaBright:t("\x1B[95m","\x1B[39m"),cyanBright:t("\x1B[96m","\x1B[39m"),whiteBright:t("\x1B[97m","\x1B[39m"),bgBlackBright:t("\x1B[100m","\x1B[49m"),bgRedBright:t("\x1B[101m","\x1B[49m"),bgGreenBright:t("\x1B[102m","\x1B[49m"),bgYellowBright:t("\x1B[103m","\x1B[49m"),bgBlueBright:t("\x1B[104m","\x1B[49m"),bgMagentaBright:t("\x1B[105m","\x1B[49m"),bgCyanBright:t("\x1B[106m","\x1B[49m"),bgWhiteBright:t("\x1B[107m","\x1B[49m")}};jr.exports=zo();jr.exports.createColors=zo});var ss=O((TE,is)=>{is.exports=os;os.sync=ip;var rs=require("fs");function op(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function ns(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:op(t,r)}function os(e,t,r){rs.stat(e,function(n,i){r(n,n?!1:ns(i,e,t))})}function ip(e,t){return ns(rs.statSync(e),e,t)}});var Ds=O((vE,ls)=>{ls.exports=as;as.sync=sp;var us=require("fs");function as(e,t,r){us.stat(e,function(n,i){r(n,n?!1:cs(i,t))})}function sp(e,t){return cs(us.statSync(e),t)}function cs(e,t){return e.isFile()&&up(e,t)}function up(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),u=parseInt("100",8),a=parseInt("010",8),c=parseInt("001",8),l=u|a,D=r&c||r&a&&i===o||r&u&&n===s||r&l&&s===0;return D}});var ps=O((RE,fs)=>{var OE=require("fs"),Pt;process.platform==="win32"||global.TESTING_WINDOWS?Pt=ss():Pt=Ds();fs.exports=Dn;Dn.sync=ap;function Dn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Dn(e,t||{},function(s,o){s?i(s):n(o)})})}Pt(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function ap(e,t){try{return Pt.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ys=O((IE,Es)=>{var Se=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ds=require("path"),cp=Se?";":":",ms=ps(),hs=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),gs=(e,t)=>{let r=t.colon||cp,n=e.match(/\//)||Se&&e.match(/\\/)?[""]:[...Se?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=Se?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Se?i.split(r):[""];return Se&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},bs=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:s}=gs(e,t),o=[],u=c=>new Promise((l,D)=>{if(c===n.length)return t.all&&o.length?l(o):D(hs(e));let f=n[c],p=/^".*"$/.test(f)?f.slice(1,-1):f,m=ds.join(p,e),g=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;l(a(g,c,0))}),a=(c,l,D)=>new Promise((f,p)=>{if(D===i.length)return f(u(l+1));let m=i[D];ms(c+m,{pathExt:s},(g,E)=>{if(!g&&E)if(t.all)o.push(c+m);else return f(c+m);return f(a(c,l,D+1))})});return r?u(0).then(c=>r(null,c),r):u(0)},lp=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=gs(e,t),s=[];for(let o=0;o<r.length;o++){let u=r[o],a=/^".*"$/.test(u)?u.slice(1,-1):u,c=ds.join(a,e),l=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let D=0;D<n.length;D++){let f=l+n[D];try{if(ms.sync(f,{pathExt:i}))if(t.all)s.push(f);else return f}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw hs(e)};Es.exports=bs;bs.sync=lp});var Fs=O((ME,fn)=>{"use strict";var Cs=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};fn.exports=Cs;fn.exports.default=Cs});var Bs=O((PE,xs)=>{"use strict";var Ss=require("path"),Dp=ys(),fp=Fs();function ws(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let o;try{o=Dp.sync(e.command,{path:r[fp({env:r})],pathExt:t?Ss.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=Ss.resolve(i?e.options.cwd:"",o)),o}function pp(e){return ws(e)||ws(e,!0)}xs.exports=pp});var As=O((LE,dn)=>{"use strict";var pn=/([()\][%!^"`<>&|;, *?])/g;function dp(e){return e=e.replace(pn,"^$1"),e}function mp(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(pn,"^$1"),t&&(e=e.replace(pn,"^$1")),e}dn.exports.command=dp;dn.exports.argument=mp});var Ts=O((_E,$s)=>{"use strict";$s.exports=/^#!(.*)/});var Os=O((NE,vs)=>{"use strict";var hp=Ts();vs.exports=(e="")=>{let t=e.match(hp);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Is=O((kE,Rs)=>{"use strict";var mn=require("fs"),gp=Os();function bp(e){let r=Buffer.alloc(150),n;try{n=mn.openSync(e,"r"),mn.readSync(n,r,0,150,0),mn.closeSync(n)}catch{}return gp(r.toString())}Rs.exports=bp});var _s=O((jE,Ls)=>{"use strict";var Ep=require("path"),Ms=Bs(),Ps=As(),yp=Is(),Cp=process.platform==="win32",Fp=/\.(?:com|exe)$/i,Sp=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function wp(e){e.file=Ms(e);let t=e.file&&yp(e.file);return t?(e.args.unshift(e.file),e.command=t,Ms(e)):e.file}function xp(e){if(!Cp)return e;let t=wp(e),r=!Fp.test(t);if(e.options.forceShell||r){let n=Sp.test(t);e.command=Ep.normalize(e.command),e.command=Ps.command(e.command),e.args=e.args.map(s=>Ps.argument(s,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Bp(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:xp(n)}Ls.exports=Bp});var js=O((UE,ks)=>{"use strict";var hn=process.platform==="win32";function gn(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Ap(e,t){if(!hn)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let s=Ns(i,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function Ns(e,t){return hn&&e===1&&!t.file?gn(t.original,"spawn"):null}function $p(e,t){return hn&&e===1&&!t.file?gn(t.original,"spawnSync"):null}ks.exports={hookChildProcess:Ap,verifyENOENT:Ns,verifyENOENTSync:$p,notFoundError:gn}});var Ws=O((GE,we)=>{"use strict";var Us=require("child_process"),bn=_s(),En=js();function Gs(e,t,r){let n=bn(e,t,r),i=Us.spawn(n.command,n.args,n.options);return En.hookChildProcess(i,n),i}function Tp(e,t,r){let n=bn(e,t,r),i=Us.spawnSync(n.command,n.args,n.options);return i.error=i.error||En.verifyENOENTSync(i.status,n),i}we.exports=Gs;we.exports.spawn=Gs;we.exports.sync=Tp;we.exports._parse=bn;we.exports._enoent=En});var R=y(kr(),1),dt=require("node:process");var zr=y(require("node:readline"),1),Qo=require("node:tty"),Dt=y(Ur(),1);function FD({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function ei(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(FD(),"")}function ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ri={exports:{}};(function(e){var t={};e.exports=t,t.eastAsianWidth=function(n){var i=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,o=i;return 55296<=i&&i<=56319&&56320<=s&&s<=57343&&(i&=1023,s&=1023,o=i<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},t.characterLength=function(n){var i=this.eastAsianWidth(n);return i=="F"||i=="W"||i=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.length=function(n){for(var i=r(n),s=0,o=0;o<i.length;o++)s=s+this.characterLength(i[o]);return s},t.slice=function(n,i,s){textLen=t.length(n),i=i||0,s=s||1,i<0&&(i=textLen+i),s<0&&(s=textLen+s);for(var o="",u=0,a=r(n),c=0;c<a.length;c++){var l=a[c],D=t.length(l);if(u>=i-(D==2?1:0))if(u+D<=s)o+=l;else break;u+=D}return o}})(ri);var SD=ri.exports,wD=ti(SD),xD=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},BD=ti(xD);function ke(e,t={}){if(typeof e!="string"||e.length===0||(t={ambiguousIsNarrow:!0,...t},e=ei(e),e.length===0))return 0;e=e.replace(BD(),"  ");let r=t.ambiguousIsNarrow?1:2,n=0;for(let i of e){let s=i.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(wD.eastAsianWidth(i)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var Gr=10,Vo=(e=0)=>t=>`\x1B[${t+e}m`,Yo=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,qo=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,C={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(C.modifier);var AD=Object.keys(C.color),$D=Object.keys(C.bgColor);[...AD,...$D];function TD(){let e=new Map;for(let[t,r]of Object.entries(C)){for(let[n,i]of Object.entries(r))C[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=C[n],e.set(i[0],i[1]);Object.defineProperty(C,t,{value:r,enumerable:!1})}return Object.defineProperty(C,"codes",{value:e,enumerable:!1}),C.color.close="\x1B[39m",C.bgColor.close="\x1B[49m",C.color.ansi=Vo(),C.color.ansi256=Yo(),C.color.ansi16m=qo(),C.bgColor.ansi=Vo(Gr),C.bgColor.ansi256=Yo(Gr),C.bgColor.ansi16m=qo(Gr),Object.defineProperties(C,{rgbToAnsi256:{value:(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>C.rgbToAnsi256(...C.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let u=t%36;r=Math.floor(t/36)/5,n=Math.floor(u/6)/5,i=u%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>C.ansi256ToAnsi(C.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>C.ansi256ToAnsi(C.hexToAnsi256(t)),enumerable:!1}}),C}var vD=TD(),mt=new Set(["\x1B","\x9B"]),OD=39,Vr="\x07",ni="[",RD="]",oi="m",Yr=`${RD}8;;`,Ho=e=>`${mt.values().next().value}${ni}${e}${oi}`,Ko=e=>`${mt.values().next().value}${Yr}${e}${Vr}`,ID=e=>e.split(" ").map(t=>ke(t)),Wr=(e,t,r)=>{let n=[...t],i=!1,s=!1,o=ke(ei(e[e.length-1]));for(let[u,a]of n.entries()){let c=ke(a);if(o+c<=r?e[e.length-1]+=a:(e.push(a),o=0),mt.has(a)&&(i=!0,s=n.slice(u+1).join("").startsWith(Yr)),i){s?a===Vr&&(i=!1,s=!1):a===oi&&(i=!1);continue}o+=c,o===r&&u<n.length-1&&(e.push(""),o=0)}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},MD=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(ke(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},PD=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return"";let n="",i,s,o=ID(e),u=[""];for(let[c,l]of e.split(" ").entries()){r.trim!==!1&&(u[u.length-1]=u[u.length-1].trimStart());let D=ke(u[u.length-1]);if(c!==0&&(D>=t&&(r.wordWrap===!1||r.trim===!1)&&(u.push(""),D=0),(D>0||r.trim===!1)&&(u[u.length-1]+=" ",D++)),r.hard&&o[c]>t){let f=t-D,p=1+Math.floor((o[c]-f-1)/t);Math.floor((o[c]-1)/t)<p&&u.push(""),Wr(u,l,t);continue}if(D+o[c]>t&&D>0&&o[c]>0){if(r.wordWrap===!1&&D<t){Wr(u,l,t);continue}u.push("")}if(D+o[c]>t&&r.wordWrap===!1){Wr(u,l,t);continue}u[u.length-1]+=l}r.trim!==!1&&(u=u.map(c=>MD(c)));let a=[...u.join(`
`)];for(let[c,l]of a.entries()){if(n+=l,mt.has(l)){let{groups:f}=new RegExp(`(?:\\${ni}(?<code>\\d+)m|\\${Yr}(?<uri>.*)${Vr})`).exec(a.slice(c).join(""))||{groups:{}};if(f.code!==void 0){let p=Number.parseFloat(f.code);i=p===OD?void 0:p}else f.uri!==void 0&&(s=f.uri.length===0?void 0:f.uri)}let D=vD.codes.get(Number(i));a[c+1]===`
`?(s&&(n+=Ko("")),i&&D&&(n+=Ho(D))):l===`
`&&(i&&D&&(n+=Ho(i)),s&&(n+=Ko(s)))}return n};function Zo(e,t,r){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>PD(n,t,r)).join(`
`)}var LD=Object.defineProperty,_D=(e,t,r)=>t in e?LD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t,r)=>(_D(e,typeof t!="symbol"?t+"":t,r),r);function ND(e,t){if(e===t)return;let r=e.split(`
`),n=t.split(`
`),i=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&i.push(s);return i}var ii=Symbol("clack:cancel");function ht(e){return e===ii}function lt(e,t){e.isTTY&&e.setRawMode(t)}var Xo=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),kD=new Set(["up","down","left","right","space","enter"]),je=class{constructor({render:t,input:r=dt.stdin,output:n=dt.stdout,...i},s=!0){P(this,"input"),P(this,"output"),P(this,"rl"),P(this,"opts"),P(this,"_track",!1),P(this,"_render"),P(this,"_cursor",0),P(this,"state","initial"),P(this,"value"),P(this,"error",""),P(this,"subscribers",new Map),P(this,"_prevFrame",""),this.opts=i,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=t.bind(this),this._track=s,this.input=r,this.output=n}prompt(){let t=new Qo.WriteStream(0);return t._write=(r,n,i)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),i()},this.input.pipe(t),this.rl=zr.default.createInterface({input:this.input,output:t,tabSize:2,prompt:"",escapeCodeTimeout:50}),zr.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),lt(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((r,n)=>{this.once("submit",()=>{this.output.write(R.cursor.show),this.output.off("resize",this.render),lt(this.input,!1),r(this.value)}),this.once("cancel",()=>{this.output.write(R.cursor.show),this.output.off("resize",this.render),lt(this.input,!1),r(ii)})})}on(t,r){let n=this.subscribers.get(t)??[];n.push({cb:r}),this.subscribers.set(t,n)}once(t,r){let n=this.subscribers.get(t)??[];n.push({cb:r,once:!0}),this.subscribers.set(t,n)}emit(t,...r){let n=this.subscribers.get(t)??[],i=[];for(let s of n)s.cb(...r),s.once&&i.push(()=>n.splice(n.indexOf(s),1));for(let s of i)s()}unsubscribe(){this.subscribers.clear()}onKeypress(t,r){if(this.state==="error"&&(this.state="active"),r?.name&&!this._track&&Xo.has(r.name)&&this.emit("cursor",Xo.get(r.name)),r?.name&&kD.has(r.name)&&this.emit("cursor",r.name),t&&(t.toLowerCase()==="y"||t.toLowerCase()==="n")&&this.emit("confirm",t.toLowerCase()==="y"),t==="	"&&this.opts.placeholder&&(this.value||(this.rl.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),t&&this.emit("key",t.toLowerCase()),r?.name==="return"){if(this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}t===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),lt(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let t=Zo(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(R.cursor.move(-999,t*-1))}render(){let t=Zo(this._render(this)??"",process.stdout.columns,{hard:!0});if(t!==this._prevFrame){if(this.state==="initial")this.output.write(R.cursor.hide);else{let r=ND(this._prevFrame,t);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(R.cursor.move(0,n)),this.output.write(R.erase.lines(1));let i=t.split(`
`);this.output.write(i[n]),this._prevFrame=t,this.output.write(R.cursor.move(0,i.length-n-1));return}else if(r&&r?.length>1){let n=r[0];this.output.write(R.cursor.move(0,n)),this.output.write(R.erase.down());let i=t.split(`
`).slice(n);this.output.write(i.join(`
`)),this._prevFrame=t;return}this.output.write(R.erase.down())}this.output.write(t),this.state==="initial"&&(this.state="active"),this._prevFrame=t}}},ft=class extends je{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(t){super(t,!1),this.value=!!t.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",r=>{this.output.write(R.cursor.move(0,-1)),this.value=r,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var jD=Object.defineProperty,UD=(e,t,r)=>t in e?jD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jo=(e,t,r)=>(UD(e,typeof t!="symbol"?t+"":t,r),r),si=class extends je{constructor(e){super(e,!1),Jo(this,"options"),Jo(this,"cursor",0),this.options=e.options,this.cursor=this.options.findIndex(({value:t})=>t===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",t=>{switch(t){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var GD=Object.defineProperty,WD=(e,t,r)=>t in e?GD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zD=(e,t,r)=>(WD(e,typeof t!="symbol"?t+"":t,r),r),pt=class extends je{constructor(t){super(t),zD(this,"valueWithCursor",""),this.on("finalize",()=>{this.value||(this.value=t.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${Dt.default.inverse(Dt.default.hidden("_"))}`;else{let r=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.valueWithCursor=`${r}${Dt.default.inverse(n[0])}${n.slice(1)}`}})}get cursor(){return this._cursor}},xb=globalThis.process.platform.startsWith("win");var L=y(require("node:process"),1),d=y(Ur(),1),ui=y(kr(),1);function VD(){return L.default.platform!=="win32"?L.default.env.TERM!=="linux":!!L.default.env.CI||!!L.default.env.WT_SESSION||!!L.default.env.TERMINUS_SUBLIME||L.default.env.ConEmuTask==="{cmd::Cmder}"||L.default.env.TERM_PROGRAM==="Terminus-Sublime"||L.default.env.TERM_PROGRAM==="vscode"||L.default.env.TERM==="xterm-256color"||L.default.env.TERM==="alacritty"||L.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var YD=VD(),x=(e,t)=>YD?e:t,qD=x("\u25C6","*"),HD=x("\u25A0","x"),KD=x("\u25B2","x"),ZD=x("\u25C7","o"),XD=x("\u250C","T"),T=x("\u2502","|"),Ue=x("\u2514","\u2014"),qr=x("\u25CF",">"),Hr=x("\u25CB"," "),Mb=x("\u25FB","[\u2022]"),Pb=x("\u25FC","[+]"),Lb=x("\u25FB","[ ]"),_b=x("\u25AA","\u2022"),Nb=x("\u2500","-"),kb=x("\u256E","+"),jb=x("\u251C","+"),Ub=x("\u256F","+"),Gb=x("\u25CF","\u2022"),Wb=x("\u25C6","*"),zb=x("\u25B2","!"),Vb=x("\u25A0","x"),Kr=e=>{switch(e){case"initial":case"active":return d.default.cyan(qD);case"cancel":return d.default.red(HD);case"error":return d.default.yellow(KD);case"submit":return d.default.green(ZD)}},gt=e=>new pt({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let t=`${d.default.gray(T)}
${Kr(this.state)}  ${e.message}
`,r=e.placeholder?d.default.inverse(e.placeholder[0])+d.default.dim(e.placeholder.slice(1)):d.default.inverse(d.default.hidden("_")),n=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${t.trim()}
${d.default.yellow(T)}  ${n}
${d.default.yellow(Ue)}  ${d.default.yellow(this.error)}
`;case"submit":return`${t}${d.default.gray(T)}  ${d.default.dim(this.value||e.placeholder)}`;case"cancel":return`${t}${d.default.gray(T)}  ${d.default.strikethrough(d.default.dim(this.value??""))}${this.value?.trim()?`
`+d.default.gray(T):""}`;default:return`${t}${d.default.cyan(T)}  ${n}
${d.default.cyan(Ue)}
`}}}).prompt();var ai=e=>{let t=e.active??"Yes",r=e.inactive??"No";return new ft({active:t,inactive:r,initialValue:e.initialValue??!0,render(){let n=`${d.default.gray(T)}
${Kr(this.state)}  ${e.message}
`,i=this.value?t:r;switch(this.state){case"submit":return`${n}${d.default.gray(T)}  ${d.default.dim(i)}`;case"cancel":return`${n}${d.default.gray(T)}  ${d.default.strikethrough(d.default.dim(i))}
${d.default.gray(T)}`;default:return`${n}${d.default.cyan(T)}  ${this.value?`${d.default.green(qr)} ${t}`:`${d.default.dim(Hr)} ${d.default.dim(t)}`} ${d.default.dim("/")} ${this.value?`${d.default.dim(Hr)} ${d.default.dim(r)}`:`${d.default.green(qr)} ${r}`}
${d.default.cyan(Ue)}
`}}}).prompt()},ci=e=>{let t=(n,i)=>{let s=n.label??String(n.value);return i==="active"?`${d.default.green(qr)} ${s} ${n.hint?d.default.dim(`(${n.hint})`):""}`:i==="selected"?`${d.default.dim(s)}`:i==="cancelled"?`${d.default.strikethrough(d.default.dim(s))}`:`${d.default.dim(Hr)} ${d.default.dim(s)}`},r=0;return new si({options:e.options,initialValue:e.initialValue,render(){let n=`${d.default.gray(T)}
${Kr(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${n}${d.default.gray(T)}  ${t(this.options[this.cursor],"selected")}`;case"cancel":return`${n}${d.default.gray(T)}  ${t(this.options[this.cursor],"cancelled")}
${d.default.gray(T)}`;default:{let i=e.maxItems===void 0?1/0:Math.max(e.maxItems,5);this.cursor>=r+i-3?r=Math.max(Math.min(this.cursor-i+3,this.options.length-i),0):this.cursor<r+2&&(r=Math.max(this.cursor-2,0));let s=i<this.options.length&&r>0,o=i<this.options.length&&r+i<this.options.length;return`${n}${d.default.cyan(T)}  ${this.options.slice(r,r+i).map((u,a,c)=>a===0&&s?d.default.dim("..."):a===c.length-1&&o?d.default.dim("..."):t(u,a+r===this.cursor?"active":"inactive")).join(`
${d.default.cyan(T)}  `)}
${d.default.cyan(Ue)}
`}}}}).prompt()};var li=(e="")=>{process.stdout.write(`${d.default.gray(XD)}  ${e}
`)},Ge=(e="")=>{process.stdout.write(`${d.default.gray(T)}
${d.default.gray(Ue)}  ${e}

`)};var Di=(e=0)=>t=>`\x1B[${t+e}m`,fi=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,pi=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,F={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},Hb=Object.keys(F.modifier),JD=Object.keys(F.color),QD=Object.keys(F.bgColor),Kb=[...JD,...QD];function ef(){let e=new Map;for(let[t,r]of Object.entries(F)){for(let[n,i]of Object.entries(r))F[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=F[n],e.set(i[0],i[1]);Object.defineProperty(F,t,{value:r,enumerable:!1})}return Object.defineProperty(F,"codes",{value:e,enumerable:!1}),F.color.close="\x1B[39m",F.bgColor.close="\x1B[49m",F.color.ansi=Di(),F.color.ansi256=fi(),F.color.ansi16m=pi(),F.bgColor.ansi=Di(10),F.bgColor.ansi256=fi(10),F.bgColor.ansi16m=pi(10),Object.defineProperties(F,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>F.rgbToAnsi256(...F.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let u=t%36;r=Math.floor(t/36)/5,n=Math.floor(u/6)/5,i=u%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>F.ansi256ToAnsi(F.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>F.ansi256ToAnsi(F.hexToAnsi256(t)),enumerable:!1}}),F}var tf=ef(),j=tf;var Et=y(require("node:process"),1),mi=y(require("node:os"),1),Zr=y(require("node:tty"),1);function _(e,t=globalThis.Deno?globalThis.Deno.args:Et.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:w}=Et.default,bt;_("no-color")||_("no-colors")||_("color=false")||_("color=never")?bt=0:(_("color")||_("colors")||_("color=true")||_("color=always"))&&(bt=1);function rf(){if("FORCE_COLOR"in w)return w.FORCE_COLOR==="true"?1:w.FORCE_COLOR==="false"?0:w.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(w.FORCE_COLOR,10),3)}function nf(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function of(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=rf();n!==void 0&&(bt=n);let i=r?bt:n;if(i===0)return 0;if(r){if(_("color=16m")||_("color=full")||_("color=truecolor"))return 3;if(_("color=256"))return 2}if("TF_BUILD"in w&&"AGENT_NAME"in w)return 1;if(e&&!t&&i===void 0)return 0;let s=i||0;if(w.TERM==="dumb")return s;if(Et.default.platform==="win32"){let o=mi.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in w)return"GITHUB_ACTIONS"in w||"GITEA_ACTIONS"in w?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in w)||w.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in w)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(w.TEAMCITY_VERSION)?1:0;if(w.COLORTERM==="truecolor"||w.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in w){let o=Number.parseInt((w.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(w.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(w.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(w.TERM)||"COLORTERM"in w?1:s}function di(e,t={}){let r=of(e,{streamIsTTY:e&&e.isTTY,...t});return nf(r)}var sf={stdout:di({isTTY:Zr.default.isatty(1)}),stderr:di({isTTY:Zr.default.isatty(2)})},hi=sf;function gi(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let i=t.length,s=0,o="";do o+=e.slice(s,n)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.slice(s),o}function bi(e,t,r,n){let i=0,s="";do{let o=e[n-1]==="\r";s+=e.slice(i,o?n-1:n)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.slice(i),s}var{stdout:Ei,stderr:yi}=hi,Xr=Symbol("GENERATOR"),be=Symbol("STYLER"),We=Symbol("IS_EMPTY"),Ci=["ansi","ansi","ansi256","ansi16m"],Ee=Object.create(null),uf=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Ei?Ei.level:0;e.level=t.level===void 0?r:t.level};var af=e=>{let t=(...r)=>r.join(" ");return uf(t,e),Object.setPrototypeOf(t,ze.prototype),t};function ze(e){return af(e)}Object.setPrototypeOf(ze.prototype,Function.prototype);for(let[e,t]of Object.entries(j))Ee[e]={get(){let r=yt(this,Qr(t.open,t.close,this[be]),this[We]);return Object.defineProperty(this,e,{value:r}),r}};Ee.visible={get(){let e=yt(this,this[be],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Jr=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?j[r].ansi16m(...n):t==="ansi256"?j[r].ansi256(j.rgbToAnsi256(...n)):j[r].ansi(j.rgbToAnsi(...n)):e==="hex"?Jr("rgb",t,r,...j.hexToRgb(...n)):j[r][e](...n),cf=["rgb","hex","ansi256"];for(let e of cf){Ee[e]={get(){let{level:r}=this;return function(...n){let i=Qr(Jr(e,Ci[r],"color",...n),j.color.close,this[be]);return yt(this,i,this[We])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);Ee[t]={get(){let{level:r}=this;return function(...n){let i=Qr(Jr(e,Ci[r],"bgColor",...n),j.bgColor.close,this[be]);return yt(this,i,this[We])}}}}var lf=Object.defineProperties(()=>{},{...Ee,level:{enumerable:!0,get(){return this[Xr].level},set(e){this[Xr].level=e}}}),Qr=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},yt=(e,t,r)=>{let n=(...i)=>Df(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,lf),n[Xr]=e,n[be]=t,n[We]=r,n},Df=(e,t)=>{if(e.level<=0||!t)return e[We]?"":t;let r=e[be];if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=gi(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=bi(t,i,n,s)),n+t+i};Object.defineProperties(ze.prototype,Ee);var ff=ze(),r0=ze({level:yi?yi.level:0});var Ct=ff;function B(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var Fi=require("node:url"),ye=(e,t)=>{let r=en(e);if(typeof r!="string")throw new TypeError(`${t} must be a string or a file URL: ${r}.`);return r},en=e=>e instanceof URL?(0,Fi.fileURLToPath)(e):e;var Ft=(e,t=[],r={})=>{let n=ye(e,"First argument"),[i,s]=B(t)?[[],t]:[t,r];if(!Array.isArray(i))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${i}`);if(i.some(a=>typeof a=="object"&&a!==null))throw new TypeError(`Second argument must be an array of strings: ${i}`);let o=i.map(String),u=o.find(a=>a.includes("\0"));if(u!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${u}`);if(!B(s))throw new TypeError(`Last argument must be an options object: ${s}`);return[n,o,s]};var Oi=require("node:child_process");var Si=require("node:string_decoder"),{toString:wi}=Object.prototype,xi=e=>wi.call(e)==="[object ArrayBuffer]",A=e=>wi.call(e)==="[object Uint8Array]",J=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),pf=new TextEncoder,Bi=e=>pf.encode(e),df=new TextDecoder,St=e=>df.decode(e),Ai=(e,t)=>mf(e,t).join(""),mf=(e,t)=>{if(t==="utf8"&&e.every(s=>typeof s=="string"))return e;let r=new Si.StringDecoder(t),n=e.map(s=>typeof s=="string"?Bi(s):s).map(s=>r.write(s)),i=r.end();return i===""?n:[...n,i]},Ve=e=>e.length===1&&A(e[0])?e[0]:tn(hf(e)),hf=e=>e.map(t=>typeof t=="string"?Bi(t):t),tn=e=>{let t=new Uint8Array(gf(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t},gf=e=>{let t=0;for(let r of e)t+=r.length;return t};var Ri=e=>Array.isArray(e)&&Array.isArray(e.raw),Ii=(e,t)=>{let r=[];for(let[s,o]of e.entries())r=bf({templates:e,expressions:t,tokens:r,index:s,template:o});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...i]=r;return[n,i,{}]},bf=({templates:e,expressions:t,tokens:r,index:n,template:i})=>{if(i===void 0)throw new TypeError(`Invalid backslash sequence: ${e.raw[n]}`);let{nextTokens:s,leadingWhitespaces:o,trailingWhitespaces:u}=Ef(i,e.raw[n]),a=Ti(r,s,o);if(n===t.length)return a;let c=t[n],l=Array.isArray(c)?c.map(D=>vi(D)):[vi(c)];return Ti(a,l,u)},Ef=(e,t)=>{if(t.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,i=$i.has(t[0]);for(let o=0,u=0;o<e.length;o+=1,u+=1){let a=t[u];if($i.has(a))n!==o&&r.push(e.slice(n,o)),n=o+1;else if(a==="\\"){let c=t[u+1];c==="u"&&t[u+2]==="{"?u=t.indexOf("}",u+3):u+=yf[c]??1}}let s=n===e.length;return s||r.push(e.slice(n)),{nextTokens:r,leadingWhitespaces:i,trailingWhitespaces:s}},$i=new Set([" ","	","\r",`
`]),yf={x:3,u:5},Ti=(e,t,r)=>r||e.length===0||t.length===0?[...e,...t]:[...e.slice(0,-1),`${e.at(-1)}${t[0]}`,...t.slice(1)],vi=e=>{let t=typeof e;if(t==="string")return e;if(t==="number")return String(e);if(B(e)&&("stdout"in e||"isMaxBuffer"in e))return Cf(e);throw e instanceof Oi.ChildProcess||Object.prototype.toString.call(e)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${t}" in template expression`)},Cf=({stdout:e})=>{if(typeof e=="string")return e;if(A(e))return St(e);throw e===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof e}" stdout in template expression`)};var zc=require("node:child_process");var Pi=require("node:util");var wt=y(require("node:process"),1),U=e=>xt.includes(e),xt=[wt.default.stdin,wt.default.stdout,wt.default.stderr],N=["stdin","stdout","stderr"],Bt=e=>N[e]??`stdio[${e}]`;var Li=e=>{let t={...e};for(let r of on)t[r]=rn(e,r);return t},rn=(e,t)=>{let r=Array.from({length:Ff(e)+1}),n=Sf(e[t],r,t);return $f(n,t)},Ff=({stdio:e})=>Array.isArray(e)?Math.max(e.length,N.length):N.length,Sf=(e,t,r)=>B(e)?wf(e,t,r):t.fill(e),wf=(e,t,r)=>{for(let n of Object.keys(e).sort(xf))for(let i of Bf(n,r,t))t[i]=e[n];return t},xf=(e,t)=>Mi(e)<Mi(t)?1:-1,Mi=e=>e==="stdout"||e==="stderr"?0:e==="all"?2:1,Bf=(e,t,r)=>{if(e==="ipc")return[r.length-1];let n=nn(e);if(n===void 0||n===0)throw new TypeError(`"${t}.${e}" is invalid.
It must be "${t}.stdout", "${t}.stderr", "${t}.all", "${t}.ipc", or "${t}.fd3", "${t}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${t}.${e}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},nn=e=>{if(e==="all")return e;if(N.includes(e))return N.indexOf(e);let t=Af.exec(e);if(t!==null)return Number(t[1])},Af=/^fd(\d+)$/,$f=(e,t)=>e.map(r=>r===void 0?vf[t]:r),Tf=(0,Pi.debuglog)("execa").enabled?"full":"none",vf={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:Tf,stripFinalNewline:!0},on=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],Q=(e,t)=>t==="ipc"?e.at(-1):e[t];var Ce=({verbose:e},t)=>sn(e,t)!=="none",Fe=({verbose:e},t)=>!["none","short"].includes(sn(e,t)),_i=({verbose:e},t)=>{let r=sn(e,t);return At(r)?r:void 0},sn=(e,t)=>t===void 0?Of(e):Q(e,t),Of=e=>e.find(t=>At(t))??$t.findLast(t=>e.includes(t)),At=e=>typeof e=="function",$t=["none","short","full"];var Ji=require("node:fs"),Qi=require("node:util");var Ni=require("node:process"),ki=require("node:util"),ji=(e,t)=>{let r=[e,...t],n=r.join(" "),i=r.map(s=>_f(Ui(s))).join(" ");return{command:n,escapedCommand:i}},Ye=e=>(0,ki.stripVTControlCharacters)(e).split(`
`).map(t=>Ui(t)).join(`
`),Ui=e=>e.replaceAll(Mf,t=>Rf(t)),Rf=e=>{let t=Pf[e];if(t!==void 0)return t;let r=e.codePointAt(0),n=r.toString(16);return r<=Lf?`\\u${n.padStart(4,"0")}`:`\\U${n}`},If=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},Mf=If(),Pf={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Lf=65535,_f=e=>Nf.test(e)?e:Ni.platform==="win32"?`"${e.replaceAll('"','""')}"`:`'${e.replaceAll("'","'\\''")}'`,Nf=/^[\w./-]+$/;var un=y(require("node:process"),1);function an(){let{env:e}=un.default,{TERM:t,TERM_PROGRAM:r}=e;return un.default.platform!=="win32"?t!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||t==="xterm-256color"||t==="alacritty"||t==="rxvt-unicode"||t==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Gi={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},Wi={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},kf={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},jf={...Gi,...Wi},Uf={...Gi,...kf},Gf=an(),Wf=Gf?jf:Uf,Tt=Wf,F0=Object.entries(Wi);var zi=y(require("node:tty"),1),zf=zi.default?.WriteStream?.prototype?.hasColors?.()??!1,h=(e,t)=>{if(!zf)return i=>i;let r=`\x1B[${e}m`,n=`\x1B[${t}m`;return i=>{let s=i+"",o=s.indexOf(n);if(o===-1)return r+s+n;let u=r,a=0;for(;o!==-1;)u+=s.slice(a,o)+r,a=o+n.length,o=s.indexOf(n,a);return u+=s.slice(a)+n,u}},w0=h(0,0),Vi=h(1,22),x0=h(2,22),B0=h(3,23),A0=h(4,24),$0=h(53,55),T0=h(7,27),v0=h(8,28),O0=h(9,29),R0=h(30,39),I0=h(31,39),M0=h(32,39),P0=h(33,39),L0=h(34,39),_0=h(35,39),N0=h(36,39),k0=h(37,39),vt=h(90,39),j0=h(40,49),U0=h(41,49),G0=h(42,49),W0=h(43,49),z0=h(44,49),V0=h(45,49),Y0=h(46,49),q0=h(47,49),H0=h(100,49),Yi=h(91,39),K0=h(92,39),qi=h(93,39),Z0=h(94,39),X0=h(95,39),J0=h(96,39),Q0=h(97,39),eE=h(101,49),tE=h(102,49),rE=h(103,49),nE=h(104,49),oE=h(105,49),iE=h(106,49),sE=h(107,49);var Zi=({type:e,message:t,timestamp:r,piped:n,commandId:i,result:{failed:s=!1}={},options:{reject:o=!0}})=>{let u=Vf(r),a=Yf[e]({failed:s,reject:o,piped:n}),c=qf[e]({reject:o});return`${vt(`[${u}]`)} ${vt(`[${i}]`)} ${c(a)} ${c(t)}`},Vf=e=>`${Ot(e.getHours(),2)}:${Ot(e.getMinutes(),2)}:${Ot(e.getSeconds(),2)}.${Ot(e.getMilliseconds(),3)}`,Ot=(e,t)=>String(e).padStart(t,"0"),Hi=({failed:e,reject:t})=>e?t?Tt.cross:Tt.warning:Tt.tick,Yf={command:({piped:e})=>e?"|":"$",output:()=>" ",ipc:()=>"*",error:Hi,duration:Hi},Ki=e=>e,qf={command:()=>Vi,output:()=>Ki,ipc:()=>Ki,error:({reject:e})=>e?Yi:qi,duration:()=>vt};var Xi=(e,t,r)=>{let n=_i(t,r);return e.map(({verboseLine:i,verboseObject:s})=>Hf(i,s,n)).filter(i=>i!==void 0).map(i=>Kf(i)).join("")},Hf=(e,t,r)=>{if(r===void 0)return e;let n=r(e,t);if(typeof n=="string")return n},Kf=e=>e.endsWith(`
`)?e:`${e}
`;var V=({type:e,verboseMessage:t,fdNumber:r,verboseInfo:n,result:i})=>{let s=Zf({type:e,result:i,verboseInfo:n}),o=Xf(t,s),u=Xi(o,n,r);(0,Ji.writeFileSync)(Qf,u)},Zf=({type:e,result:t,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:i=!1,...s}}})=>({type:e,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:i,result:t,options:s}),Xf=(e,t)=>e.split(`
`).map(r=>Jf({...t,message:r})),Jf=e=>({verboseLine:Zi(e),verboseObject:e}),Qf=2,Rt=e=>{let t=typeof e=="string"?e:(0,Qi.inspect)(e);return Ye(t).replaceAll("	"," ".repeat(ep))},ep=2;var es=(e,t)=>{Ce(t)&&V({type:"command",verboseMessage:e,verboseInfo:t})};var ts=(e,t,r)=>{np(e);let n=tp(e);return{verbose:e,escapedCommand:t,commandId:n,rawOptions:r}},tp=e=>Ce({verbose:e})?rp++:void 0,rp=0n,np=e=>{for(let t of e){if(t===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(t===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!$t.includes(t)&&!At(t)){let r=$t.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${t}. Allowed values are: ${r} or a function.`)}}};var cn=require("node:process"),It=()=>cn.hrtime.bigint(),ln=e=>Number(cn.hrtime.bigint()-e)/1e6;var Mt=(e,t,r)=>{let n=It(),{command:i,escapedCommand:s}=ji(e,t),o=rn(r,"verbose"),u=ts(o,s,{...r});return es(s,u),{command:i,escapedCommand:s,startTime:n,verboseInfo:u}};var ma=y(require("node:path"),1),Mn=y(require("node:process"),1),ha=y(Ws(),1);var qe=y(require("node:process"),1),oe=y(require("node:path"),1);function Lt(e={}){let{env:t=process.env,platform:r=process.platform}=e;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}var zs=require("node:util"),Cn=require("node:child_process"),yn=y(require("node:path"),1),Vs=require("node:url"),zE=(0,zs.promisify)(Cn.execFile);function _t(e){return e instanceof URL?(0,Vs.fileURLToPath)(e):e}function Ys(e){return{*[Symbol.iterator](){let t=yn.default.resolve(_t(e)),r;for(;r!==t;)yield t,r=t,t=yn.default.resolve(t,"..")}}}var VE=10*1024*1024;var vp=({cwd:e=qe.default.cwd(),path:t=qe.default.env[Lt()],preferLocal:r=!0,execPath:n=qe.default.execPath,addExecPath:i=!0}={})=>{let s=oe.default.resolve(_t(e)),o=[],u=t.split(oe.default.delimiter);return r&&Op(o,u,s),i&&Rp(o,u,n,s),t===""||t===oe.default.delimiter?`${o.join(oe.default.delimiter)}${t}`:[...o,t].join(oe.default.delimiter)},Op=(e,t,r)=>{for(let n of Ys(r)){let i=oe.default.join(n,"node_modules/.bin");t.includes(i)||e.push(i)}},Rp=(e,t,r,n)=>{let i=oe.default.resolve(n,_t(r),"..");t.includes(i)||e.push(i)},qs=({env:e=qe.default.env,...t}={})=>{e={...e};let r=Lt({env:e});return t.path=e[r],e[r]=vp(t),e};var cu=require("node:timers/promises");var Hs=(e,t,r)=>{let n=r?Ke:He,i=e instanceof G?{}:{cause:e};return new n(t,i)},G=class extends Error{},Ks=(e,t)=>{Object.defineProperty(e.prototype,"name",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Xs,{value:!0,writable:!1,enumerable:!1,configurable:!1})},Zs=e=>Nt(e)&&Xs in e,Xs=Symbol("isExecaError"),Nt=e=>Object.prototype.toString.call(e)==="[object Error]",He=class extends Error{};Ks(He,He.name);var Ke=class extends Error{};Ks(Ke,Ke.name);var xe=require("node:os");var nu=require("node:os");var Js=()=>{let e=eu-Qs+1;return Array.from({length:e},Ip)},Ip=(e,t)=>({name:`SIGRT${t+1}`,number:Qs+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Qs=34,eu=64;var ru=require("node:os");var tu=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Fn=()=>{let e=Js();return[...tu,...e].map(Mp)},Mp=({name:e,number:t,description:r,action:n,forced:i=!1,standard:s})=>{let{signals:{[e]:o}}=ru.constants,u=o!==void 0;return{name:e,number:u?o:t,description:r,supported:u,action:n,forced:i,standard:s}};var Pp=()=>{let e=Fn();return Object.fromEntries(e.map(Lp))},Lp=({name:e,number:t,description:r,supported:n,action:i,forced:s,standard:o})=>[e,{name:e,number:t,description:r,supported:n,action:i,forced:s,standard:o}],ou=Pp(),_p=()=>{let e=Fn(),t=65,r=Array.from({length:t},(n,i)=>Np(i,e));return Object.assign({},...r)},Np=(e,t)=>{let r=kp(e,t);if(r===void 0)return{};let{name:n,description:i,supported:s,action:o,forced:u,standard:a}=r;return{[e]:{name:n,number:e,description:i,supported:s,action:o,forced:u,standard:a}}},kp=(e,t)=>{let r=t.find(({name:n})=>nu.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},oy=_p();var su=e=>{let t="option `killSignal`";if(e===0)throw new TypeError(`Invalid ${t}: 0 cannot be used.`);return au(e,t)},uu=e=>e===0?e:au(e,"`subprocess.kill()`'s argument"),au=(e,t)=>{if(Number.isInteger(e))return jp(e,t);if(typeof e=="string")return Gp(e,t);throw new TypeError(`Invalid ${t} ${String(e)}: it must be a string or an integer.
${Sn()}`)},jp=(e,t)=>{if(iu.has(e))return iu.get(e);throw new TypeError(`Invalid ${t} ${e}: this signal integer does not exist.
${Sn()}`)},Up=()=>new Map(Object.entries(xe.constants.signals).reverse().map(([e,t])=>[t,e])),iu=Up(),Gp=(e,t)=>{if(e in xe.constants.signals)return e;throw e.toUpperCase()in xe.constants.signals?new TypeError(`Invalid ${t} '${e}': please rename it to '${e.toUpperCase()}'.`):new TypeError(`Invalid ${t} '${e}': this signal name does not exist.
${Sn()}`)},Sn=()=>`Available signal names: ${Wp()}.
Available signal numbers: ${zp()}.`,Wp=()=>Object.keys(xe.constants.signals).sort().map(e=>`'${e}'`).join(", "),zp=()=>[...new Set(Object.values(xe.constants.signals).sort((e,t)=>e-t))].join(", "),kt=e=>ou[e].description;var lu=e=>{if(e===!1)return e;if(e===!0)return Vp;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Vp=1e3*5,Du=({kill:e,options:{forceKillAfterDelay:t,killSignal:r},onInternalError:n,context:i,controller:s},o,u)=>{let{signal:a,error:c}=Yp(o,u,r);qp(c,n);let l=e(a);return Hp({kill:e,signal:a,forceKillAfterDelay:t,killSignal:r,killResult:l,context:i,controller:s}),l},Yp=(e,t,r)=>{let[n=r,i]=Nt(e)?[void 0,e]:[e,t];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(i!==void 0&&!Nt(i))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${i}`);return{signal:uu(n),error:i}},qp=(e,t)=>{e!==void 0&&t.reject(e)},Hp=async({kill:e,signal:t,forceKillAfterDelay:r,killSignal:n,killResult:i,context:s,controller:o})=>{t===n&&i&&wn({kill:e,forceKillAfterDelay:r,context:s,controllerSignal:o.signal})},wn=async({kill:e,forceKillAfterDelay:t,context:r,controllerSignal:n})=>{if(t!==!1)try{await(0,cu.setTimeout)(t,void 0,{signal:n}),e("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};var fu=require("node:events"),jt=async(e,t)=>{e.aborted||await(0,fu.once)(e,"abort",{signal:t})};var pu=({cancelSignal:e})=>{if(e!==void 0&&Object.prototype.toString.call(e)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(e)}`)},du=({subprocess:e,cancelSignal:t,gracefulCancel:r,context:n,controller:i})=>t===void 0||r?[]:[Kp(e,t,n,i)],Kp=async(e,t,r,{signal:n})=>{throw await jt(t,n),r.terminationReason??="cancel",e.kill(),t.reason};var qu=require("node:timers/promises");var Vu=require("node:util");var Be=({methodName:e,isSubprocess:t,ipc:r,isConnected:n})=>{Zp(e,t,r),xn(e,t,n)},Zp=(e,t,r)=>{if(!r)throw new Error(`${W(e,t)} can only be used if the \`ipc\` option is \`true\`.`)},xn=(e,t,r)=>{if(!r)throw new Error(`${W(e,t)} cannot be used: the ${ie(t)} has already exited or disconnected.`)},mu=e=>{throw new Error(`${W("getOneMessage",e)} could not complete: the ${ie(e)} exited or disconnected.`)},hu=e=>{throw new Error(`${W("sendMessage",e)} failed: the ${ie(e)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${W("getOneMessage",e)},
	${W("sendMessage",e,"message, {strict: true}")},
]);`)},Ut=(e,t)=>new Error(`${W("sendMessage",t)} failed when sending an acknowledgment response to the ${ie(t)}.`,{cause:e}),gu=e=>{throw new Error(`${W("sendMessage",e)} failed: the ${ie(e)} is not listening to incoming messages.`)},bu=e=>{throw new Error(`${W("sendMessage",e)} failed: the ${ie(e)} exited without listening to incoming messages.`)},Eu=()=>new Error(`\`cancelSignal\` aborted: the ${ie(!0)} disconnected.`),yu=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},Cu=({error:e,methodName:t,isSubprocess:r})=>{if(e.code==="EPIPE")throw new Error(`${W(t,r)} cannot be used: the ${ie(r)} is disconnecting.`,{cause:e})},Fu=({error:e,methodName:t,isSubprocess:r,message:n})=>{if(Xp(e))throw new Error(`${W(t,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:e})},Xp=({code:e,message:t})=>Jp.has(e)||Qp.some(r=>t.includes(r)),Jp=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),Qp=["could not be cloned","circular structure","call stack size exceeded"],W=(e,t,r="")=>e==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${ed(t)}${e}(${r})`,ed=e=>e?"":"subprocess.",ie=e=>e?"parent process":"subprocess",Ae=e=>{e.connected&&e.disconnect()};var Y=()=>{let e={},t=new Promise((r,n)=>{Object.assign(e,{resolve:r,reject:n})});return Object.assign(t,e)};var Wt=(e,t="stdin")=>{let{options:n,fileDescriptors:i}=q.get(e),s=Su(i,t,!0),o=e.stdio[s];if(o===null)throw new TypeError(wu(s,t,n,!0));return o},$e=(e,t="stdout")=>{let{options:n,fileDescriptors:i}=q.get(e),s=Su(i,t,!1),o=s==="all"?e.all:e.stdio[s];if(o==null)throw new TypeError(wu(s,t,n,!1));return o},q=new WeakMap,Su=(e,t,r)=>{let n=td(t,r);return rd(n,t,r,e),n},td=(e,t)=>{let r=nn(e);if(r!==void 0)return r;let{validOptions:n,defaultValue:i}=t?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${Ze(t)}" must not be "${e}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${i}".`)},rd=(e,t,r,n)=>{let i=n[xu(e)];if(i===void 0)throw new TypeError(`"${Ze(r)}" must not be ${t}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(i.direction==="input"&&!r)throw new TypeError(`"${Ze(r)}" must not be ${t}. It must be a readable stream, not writable.`);if(i.direction!=="input"&&r)throw new TypeError(`"${Ze(r)}" must not be ${t}. It must be a writable stream, not readable.`)},wu=(e,t,r,n)=>{if(e==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:i,optionValue:s}=nd(e,r);return`The "${i}: ${Gt(s)}" option is incompatible with using "${Ze(n)}: ${Gt(t)}".
Please set this option with "pipe" instead.`},nd=(e,{stdin:t,stdout:r,stderr:n,stdio:i})=>{let s=xu(e);return s===0&&t!==void 0?{optionName:"stdin",optionValue:t}:s===1&&r!==void 0?{optionName:"stdout",optionValue:r}:s===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${s}]`,optionValue:i[s]}},xu=e=>e==="all"?1:e,Ze=e=>e?"to":"from",Gt=e=>typeof e=="string"?`'${e}'`:typeof e=="number"?`${e}`:"Stream";var Nu=require("node:events");var Bu=require("node:events"),De=(e,t,r)=>{let n=e.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(e.setMaxListeners(n+t),(0,Bu.addAbortListener)(r,()=>{e.setMaxListeners(e.getMaxListeners()-t)}))};var _u=require("node:events");var Tu=require("node:events"),vu=require("node:timers/promises");var zt=(e,t)=>{t&&Bn(e)},Bn=e=>{e.refCounted()},Vt=(e,t)=>{t&&An(e)},An=e=>{e.unrefCounted()},Au=(e,t)=>{t&&(An(e),An(e))},$u=(e,t)=>{t&&(Bn(e),Bn(e))};var Ou=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n},i)=>{if(Mu(i)||Lu(i))return;Yt.has(e)||Yt.set(e,[]);let s=Yt.get(e);if(s.push(i),!(s.length>1))for(;s.length>0;){await Pu(e,n,i),await vu.scheduler.yield();let o=await Iu({wrappedMessage:s[0],anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n});s.shift(),n.emit("message",o),n.emit("message:done")}},Ru=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n,boundOnMessage:i})=>{$n();let s=Yt.get(e);for(;s?.length>0;)await(0,Tu.once)(n,"message:done");e.removeListener("message",i),$u(t,r),n.connected=!1,n.emit("disconnect")},Yt=new WeakMap;var se=(e,t,r)=>{if(qt.has(e))return qt.get(e);let n=new _u.EventEmitter;return n.connected=!0,qt.set(e,n),od({ipcEmitter:n,anyProcess:e,channel:t,isSubprocess:r}),n},qt=new WeakMap,od=({ipcEmitter:e,anyProcess:t,channel:r,isSubprocess:n})=>{let i=Ou.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e});t.on("message",i),t.once("disconnect",Ru.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e,boundOnMessage:i})),Au(r,n)},Ht=e=>{let t=qt.get(e);return t===void 0?e.channel!==null:t.connected};var ku=({anyProcess:e,channel:t,isSubprocess:r,message:n,strict:i})=>{if(!i)return n;let s=se(e,t,r),o=Xt(e,s);return{id:id++,type:Zt,message:n,hasListeners:o}},id=0n,ju=(e,t)=>{if(!(t?.type!==Zt||t.hasListeners))for(let{id:r}of e)r!==void 0&&Kt[r].resolve({isDeadlock:!0,hasListeners:!1})},Iu=async({wrappedMessage:e,anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:i})=>{if(e?.type!==Zt||!t.connected)return e;let{id:s,message:o}=e,u={id:s,type:Gu,message:Xt(t,i)};try{await Jt({anyProcess:t,channel:r,isSubprocess:n,ipc:!0},u)}catch(a){i.emit("strict:error",a)}return o},Mu=e=>{if(e?.type!==Gu)return!1;let{id:t,message:r}=e;return Kt[t]?.resolve({isDeadlock:!1,hasListeners:r}),!0},Uu=async(e,t,r)=>{if(e?.type!==Zt)return;let n=Y();Kt[e.id]=n;let i=new AbortController;try{let{isDeadlock:s,hasListeners:o}=await Promise.race([n,sd(t,r,i)]);s&&hu(r),o||gu(r)}finally{i.abort(),delete Kt[e.id]}},Kt={},sd=async(e,t,{signal:r})=>{De(e,1,r),await(0,Nu.once)(e,"disconnect",{signal:r}),bu(t)},Zt="execa:ipc:request",Gu="execa:ipc:response";var Wu=(e,t,r)=>{Xe.has(e)||Xe.set(e,new Set);let n=Xe.get(e),i=Y(),s=r?t.id:void 0,o={onMessageSent:i,id:s};return n.add(o),{outgoingMessages:n,outgoingMessage:o}},zu=({outgoingMessages:e,outgoingMessage:t})=>{e.delete(t),t.onMessageSent.resolve()},Pu=async(e,t,r)=>{for(;!Xt(e,t)&&Xe.get(e)?.size>0;){let n=[...Xe.get(e)];ju(n,r),await Promise.all(n.map(({onMessageSent:i})=>i))}},Xe=new WeakMap,Xt=(e,t)=>t.listenerCount("message")>ud(e),ud=e=>q.has(e)&&!Q(q.get(e).options.buffer,"ipc")?1:0;var Jt=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},i,{strict:s=!1}={})=>{let o="sendMessage";return Be({methodName:o,isSubprocess:r,ipc:n,isConnected:e.connected}),ad({anyProcess:e,channel:t,methodName:o,isSubprocess:r,message:i,strict:s})},ad=async({anyProcess:e,channel:t,methodName:r,isSubprocess:n,message:i,strict:s})=>{let o=ku({anyProcess:e,channel:t,isSubprocess:n,message:i,strict:s}),u=Wu(e,o,s);try{await vn({anyProcess:e,methodName:r,isSubprocess:n,wrappedMessage:o,message:i})}catch(a){throw Ae(e),a}finally{zu(u)}},vn=async({anyProcess:e,methodName:t,isSubprocess:r,wrappedMessage:n,message:i})=>{let s=cd(e);try{await Promise.all([Uu(n,e,r),s(n)])}catch(o){throw Cu({error:o,methodName:t,isSubprocess:r}),Fu({error:o,methodName:t,isSubprocess:r,message:i}),o}},cd=e=>{if(Tn.has(e))return Tn.get(e);let t=(0,Vu.promisify)(e.send.bind(e));return Tn.set(e,t),t},Tn=new WeakMap;var Hu=(e,t)=>{let r="cancelSignal";return xn(r,!1,e.connected),vn({anyProcess:e,methodName:r,isSubprocess:!1,wrappedMessage:{type:Zu,message:t},message:t})},Ku=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>(await ld({anyProcess:e,channel:t,isSubprocess:r,ipc:n}),On.signal),ld=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>{if(!Yu){if(Yu=!0,!n){yu();return}if(t===null){$n();return}se(e,t,r),await qu.scheduler.yield()}},Yu=!1,Lu=e=>e?.type!==Zu?!1:(On.abort(e.message),!0),Zu="execa:ipc:cancel",$n=()=>{On.abort(Eu())},On=new AbortController;var Xu=({gracefulCancel:e,cancelSignal:t,ipc:r,serialization:n})=>{if(e){if(t===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},Ju=({subprocess:e,cancelSignal:t,gracefulCancel:r,forceKillAfterDelay:n,context:i,controller:s})=>r?[Dd({subprocess:e,cancelSignal:t,forceKillAfterDelay:n,context:i,controller:s})]:[],Dd=async({subprocess:e,cancelSignal:t,forceKillAfterDelay:r,context:n,controller:{signal:i}})=>{await jt(t,i);let s=fd(t);throw await Hu(e,s),wn({kill:e.kill,forceKillAfterDelay:r,context:n,controllerSignal:i}),n.terminationReason??="gracefulCancel",t.reason},fd=({reason:e})=>{if(!(e instanceof DOMException))return e;let t=new Error(e.message);return Object.defineProperty(t,"stack",{value:e.stack,enumerable:!1,configurable:!0,writable:!0}),t};var Qu=require("node:timers/promises");var ea=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},ta=(e,t,r,n)=>t===0||t===void 0?[]:[pd(e,t,r,n)],pd=async(e,t,r,{signal:n})=>{throw await(0,Qu.setTimeout)(t,void 0,{signal:n}),r.terminationReason??="timeout",e.kill(),new G};var Qt=require("node:process"),Rn=y(require("node:path"),1);var ra=({options:e})=>{if(e.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...e,node:!0}}},na=(e,t,{node:r=!1,nodePath:n=Qt.execPath,nodeOptions:i=Qt.execArgv.filter(a=>!a.startsWith("--inspect")),cwd:s,execPath:o,...u})=>{if(o!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let a=ye(n,'The "nodePath" option'),c=Rn.default.resolve(s,a),l={...u,nodePath:c,node:r,cwd:s};if(!r)return[e,t,l];if(Rn.default.basename(e,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[c,[...i,e,...t],{ipc:!0,...l,shell:!1}]};var oa=require("node:v8"),ia=({ipcInput:e,ipc:t,serialization:r})=>{if(e!==void 0){if(!t)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");hd[r](e)}},dd=e=>{try{(0,oa.serialize)(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:t})}},md=e=>{try{JSON.stringify(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:t})}},hd={advanced:dd,json:md},sa=async(e,t)=>{t!==void 0&&await e.sendMessage(t)};var aa=({encoding:e})=>{if(In.has(e))return;let t=bd(e);if(t!==void 0)throw new TypeError(`Invalid option \`encoding: ${er(e)}\`.
Please rename it to ${er(t)}.`);let r=[...In].map(n=>er(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${er(e)}\`.
Please rename it to one of: ${r}.`)},gd=new Set(["utf8","utf16le"]),I=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),In=new Set([...gd,...I]),bd=e=>{if(e===null)return"buffer";if(typeof e!="string")return;let t=e.toLowerCase();if(t in ua)return ua[t];if(In.has(t))return t},ua={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},er=e=>typeof e=="string"?`"${e}"`:String(e);var ca=require("node:fs"),la=y(require("node:path"),1),Da=y(require("node:process"),1);var fa=(e=pa())=>{let t=ye(e,'The "cwd" option');return la.default.resolve(t)},pa=()=>{try{return Da.default.cwd()}catch(e){throw e.message=`The current directory does not exist.
${e.message}`,e}},da=(e,t)=>{if(t===pa())return e;let r;try{r=(0,ca.statSync)(t)}catch(n){return`The "cwd" option is invalid: ${t}.
${n.message}
${e}`}return r.isDirectory()?e:`The "cwd" option is not a directory: ${t}.
${e}`};var tr=(e,t,r)=>{r.cwd=fa(r.cwd);let[n,i,s]=na(e,t,r),{command:o,args:u,options:a}=ha.default._parse(n,i,s),c=Li(a),l=Ed(c);return ea(l),aa(l),ia(l),pu(l),Xu(l),l.shell=en(l.shell),l.env=yd(l),l.killSignal=su(l.killSignal),l.forceKillAfterDelay=lu(l.forceKillAfterDelay),l.lines=l.lines.map((D,f)=>D&&!I.has(l.encoding)&&l.buffer[f]),Mn.default.platform==="win32"&&ma.default.basename(o,".exe")==="cmd"&&u.unshift("/q"),{file:o,commandArguments:u,options:l}},Ed=({extendEnv:e=!0,preferLocal:t=!1,cwd:r,localDir:n=r,encoding:i="utf8",reject:s=!0,cleanup:o=!0,all:u=!1,windowsHide:a=!0,killSignal:c="SIGTERM",forceKillAfterDelay:l=!0,gracefulCancel:D=!1,ipcInput:f,ipc:p=f!==void 0||D,serialization:m="advanced",...g})=>({...g,extendEnv:e,preferLocal:t,cwd:r,localDirectory:n,encoding:i,reject:s,cleanup:o,all:u,windowsHide:a,killSignal:c,forceKillAfterDelay:l,gracefulCancel:D,ipcInput:f,ipc:p,serialization:m}),yd=({env:e,extendEnv:t,preferLocal:r,node:n,localDirectory:i,nodePath:s})=>{let o=t?{...Mn.default.env,...e}:e;return r||n?qs({env:o,cwd:i,execPath:s,preferLocal:r,addExecPath:n}):o};var Na=require("node:util");function Te(e){if(typeof e=="string")return Cd(e);if(!(ArrayBuffer.isView(e)&&e.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return Fd(e)}var Cd=e=>e.at(-1)===ga?e.slice(0,e.at(-2)===ba?-2:-1):e,Fd=e=>e.at(-1)===Sd?e.subarray(0,e.at(-2)===wd?-2:-1):e,ga=`
`,Sd=ga.codePointAt(0),ba="\r",wd=ba.codePointAt(0);var va=require("node:events"),Oa=require("node:stream/promises");function z(e,{checkOpen:t=!0}={}){return e!==null&&typeof e=="object"&&(e.writable||e.readable||!t||e.writable===void 0&&e.readable===void 0)&&typeof e.pipe=="function"}function Pn(e,{checkOpen:t=!0}={}){return z(e,{checkOpen:t})&&(e.writable||!t)&&typeof e.write=="function"&&typeof e.end=="function"&&typeof e.writable=="boolean"&&typeof e.writableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function fe(e,{checkOpen:t=!0}={}){return z(e,{checkOpen:t})&&(e.readable||!t)&&typeof e.read=="function"&&typeof e.readable=="boolean"&&typeof e.readableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function Ln(e,t){return Pn(e,t)&&fe(e,t)}var xd=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),_n=class{#t;#r;#e=!1;#n=void 0;constructor(t,r){this.#t=t,this.#r=r}next(){let t=()=>this.#i();return this.#n=this.#n?this.#n.then(t,t):t(),this.#n}return(t){let r=()=>this.#o(t);return this.#n?this.#n.then(r,r):r()}async#i(){if(this.#e)return{done:!0,value:void 0};let t;try{t=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return t.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),t}async#o(t){if(this.#e)return{done:!0,value:t};if(this.#e=!0,!this.#r){let r=this.#t.cancel(t);return this.#t.releaseLock(),await r,{done:!0,value:t}}return this.#t.releaseLock(),{done:!0,value:t}}},Nn=Symbol();function Ea(){return this[Nn].next()}Object.defineProperty(Ea,"name",{value:"next"});function ya(e){return this[Nn].return(e)}Object.defineProperty(ya,"name",{value:"return"});var Bd=Object.create(xd,{next:{enumerable:!0,configurable:!0,writable:!0,value:Ea},return:{enumerable:!0,configurable:!0,writable:!0,value:ya}});function kn({preventCancel:e=!1}={}){let t=this.getReader(),r=new _n(t,e),n=Object.create(Bd);return n[Nn]=r,n}var Ca=e=>{if(fe(e,{checkOpen:!1})&&Je.on!==void 0)return $d(e);if(typeof e?.[Symbol.asyncIterator]=="function")return e;if(Ad.call(e)==="[object ReadableStream]")return kn.call(e);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:Ad}=Object.prototype,$d=async function*(e){let t=new AbortController,r={};Td(e,t,r);try{for await(let[n]of Je.on(e,"data",{signal:t.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!t.signal.aborted)throw n}finally{e.destroy()}},Td=async(e,t,r)=>{try{await Je.finished(e,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{t.abort()}},Je={};var ve=async(e,{init:t,convertChunk:r,getSize:n,truncateChunk:i,addChunk:s,getFinalChunk:o,finalize:u},{maxBuffer:a=Number.POSITIVE_INFINITY}={})=>{let c=Ca(e),l=t();l.length=0;try{for await(let D of c){let f=Od(D),p=r[f](D,l);wa({convertedChunk:p,state:l,getSize:n,truncateChunk:i,addChunk:s,maxBuffer:a})}return vd({state:l,convertChunk:r,getSize:n,truncateChunk:i,addChunk:s,getFinalChunk:o,maxBuffer:a}),u(l)}catch(D){let f=typeof D=="object"&&D!==null?D:new Error(D);throw f.bufferedData=u(l),f}},vd=({state:e,getSize:t,truncateChunk:r,addChunk:n,getFinalChunk:i,maxBuffer:s})=>{let o=i(e);o!==void 0&&wa({convertedChunk:o,state:e,getSize:t,truncateChunk:r,addChunk:n,maxBuffer:s})},wa=({convertedChunk:e,state:t,getSize:r,truncateChunk:n,addChunk:i,maxBuffer:s})=>{let o=r(e),u=t.length+o;if(u<=s){Fa(e,t,i,u);return}let a=n(e,s-t.length);throw a!==void 0&&Fa(a,t,i,s),new H},Fa=(e,t,r,n)=>{t.contents=r(e,t,n),t.length=n},Od=e=>{let t=typeof e;if(t==="string")return"string";if(t!=="object"||e===null)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";let r=Sa.call(e);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&Sa.call(e.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Sa}=Object.prototype,H=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var ee=e=>e,Qe=()=>{},rr=({contents:e})=>e,nr=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)},or=e=>e.length;async function ir(e,t){return ve(e,Pd,t)}var Rd=()=>({contents:[]}),Id=()=>1,Md=(e,{contents:t})=>(t.push(e),t),Pd={init:Rd,convertChunk:{string:ee,buffer:ee,arrayBuffer:ee,dataView:ee,typedArray:ee,others:ee},getSize:Id,truncateChunk:Qe,addChunk:Md,getFinalChunk:Qe,finalize:rr};async function sr(e,t){return ve(e,zd,t)}var Ld=()=>({contents:new ArrayBuffer(0)}),_d=e=>Nd.encode(e),Nd=new TextEncoder,xa=e=>new Uint8Array(e),Ba=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),kd=(e,t)=>e.slice(0,t),jd=(e,{contents:t,length:r},n)=>{let i=Ta()?Gd(t,n):Ud(t,n);return new Uint8Array(i).set(e,r),i},Ud=(e,t)=>{if(t<=e.byteLength)return e;let r=new ArrayBuffer($a(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},Gd=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;let r=new ArrayBuffer(t,{maxByteLength:$a(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},$a=e=>Aa**Math.ceil(Math.log(e)/Math.log(Aa)),Aa=2,Wd=({contents:e,length:t})=>Ta()?e:e.slice(0,t),Ta=()=>"resize"in ArrayBuffer.prototype,zd={init:Ld,convertChunk:{string:_d,buffer:xa,arrayBuffer:xa,dataView:Ba,typedArray:Ba,others:nr},getSize:or,truncateChunk:kd,addChunk:jd,getFinalChunk:Qe,finalize:Wd};async function ar(e,t){return ve(e,Kd,t)}var Vd=()=>({contents:"",textDecoder:new TextDecoder}),ur=(e,{textDecoder:t})=>t.decode(e,{stream:!0}),Yd=(e,{contents:t})=>t+e,qd=(e,t)=>e.slice(0,t),Hd=({textDecoder:e})=>{let t=e.decode();return t===""?void 0:t},Kd={init:Vd,convertChunk:{string:ee,buffer:ur,arrayBuffer:ur,dataView:ur,typedArray:ur,others:nr},getSize:or,truncateChunk:qd,addChunk:Yd,getFinalChunk:Hd,finalize:rr};Object.assign(Je,{on:va.on,finished:Oa.finished});var Ra=({error:e,stream:t,readableObjectMode:r,lines:n,encoding:i,fdNumber:s})=>{if(!(e instanceof H))throw e;if(s==="all")return e;let o=Zd(r,n,i);throw e.maxBufferInfo={fdNumber:s,unit:o},t.destroy(),e},Zd=(e,t,r)=>e?"objects":t?"lines":r==="buffer"?"bytes":"characters",Ia=(e,t,r)=>{if(t.length!==r)return;let n=new H;throw n.maxBufferInfo={fdNumber:"ipc"},n},Ma=(e,t)=>{let{streamName:r,threshold:n,unit:i}=Xd(e,t);return`Command's ${r} was larger than ${n} ${i}`},Xd=(e,t)=>{if(e?.maxBufferInfo===void 0)return{streamName:"output",threshold:t[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=e;delete e.maxBufferInfo;let i=Q(t,r);return r==="ipc"?{streamName:"IPC output",threshold:i,unit:"messages"}:{streamName:Bt(r),threshold:i,unit:n}},Pa=(e,t,r)=>e?.code==="ENOBUFS"&&t!==null&&t.some(n=>n!==null&&n.length>cr(r)),La=(e,t,r)=>{if(!t)return e;let n=cr(r);return e.length>n?e.slice(0,n):e},cr=([,e])=>e;var ka=({stdio:e,all:t,ipcOutput:r,originalError:n,signal:i,signalDescription:s,exitCode:o,escapedCommand:u,timedOut:a,isCanceled:c,isGracefullyCanceled:l,isMaxBuffer:D,isForcefullyTerminated:f,forceKillAfterDelay:p,killSignal:m,maxBuffer:g,timeout:E,cwd:b})=>{let $=n?.code,v=Jd({originalError:n,timedOut:a,timeout:E,isMaxBuffer:D,maxBuffer:g,errorCode:$,signal:i,signalDescription:s,exitCode:o,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:f,forceKillAfterDelay:p,killSignal:m}),M=em(n,b),X=M===void 0?"":`
${M}`,re=`${v}: ${u}${X}`,le=t===void 0?[e[2],e[1]]:[t],ge=[re,...le,...e.slice(3),r.map(ne=>tm(ne)).join(`
`)].map(ne=>Ye(Te(rm(ne)))).filter(Boolean).join(`

`);return{originalMessage:M,shortMessage:re,message:ge}},Jd=({originalError:e,timedOut:t,timeout:r,isMaxBuffer:n,maxBuffer:i,errorCode:s,signal:o,signalDescription:u,exitCode:a,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:D,forceKillAfterDelay:f,killSignal:p})=>{let m=Qd(D,f);return t?`Command timed out after ${r} milliseconds${m}`:l?o===void 0?`Command was gracefully canceled with exit code ${a}`:D?`Command was gracefully canceled${m}`:`Command was gracefully canceled with ${o} (${u})`:c?`Command was canceled${m}`:n?`${Ma(e,i)}${m}`:s!==void 0?`Command failed with ${s}${m}`:D?`Command was killed with ${p} (${kt(p)})${m}`:o!==void 0?`Command was killed with ${o} (${u})`:a!==void 0?`Command failed with exit code ${a}`:"Command failed"},Qd=(e,t)=>e?` and was forcefully terminated after ${t} milliseconds`:"",em=(e,t)=>{if(e instanceof G)return;let r=Zs(e)?e.originalMessage:String(e?.message??e),n=Ye(da(r,t));return n===""?void 0:n},tm=e=>typeof e=="string"?e:(0,Na.inspect)(e),rm=e=>Array.isArray(e)?e.map(t=>Te(_a(t))).filter(Boolean).join(`
`):_a(e),_a=e=>typeof e=="string"?e:A(e)?St(e):"";var lr=({command:e,escapedCommand:t,stdio:r,all:n,ipcOutput:i,options:{cwd:s},startTime:o})=>ja({command:e,escapedCommand:t,cwd:s,durationMs:ln(o),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:i,pipedFrom:[]}),Oe=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,isSync:o})=>et({error:e,command:t,escapedCommand:r,startTime:s,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:i,isSync:o}),et=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:c,signal:l,stdio:D,all:f,ipcOutput:p,options:{timeoutDuration:m,timeout:g=m,forceKillAfterDelay:E,killSignal:b,cwd:$,maxBuffer:v},isSync:M})=>{let{exitCode:X,signal:re,signalDescription:le}=om(c,l),{originalMessage:ge,shortMessage:ne,message:Lr}=ka({stdio:D,all:f,ipcOutput:p,originalError:e,signal:re,signalDescription:le,exitCode:X,escapedCommand:r,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,forceKillAfterDelay:E,killSignal:b,maxBuffer:v,timeout:g,cwd:$}),Ne=Hs(e,Lr,M);return Object.assign(Ne,nm({error:Ne,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:X,signal:re,signalDescription:le,stdio:D,all:f,ipcOutput:p,cwd:$,originalMessage:ge,shortMessage:ne})),Ne},nm=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:c,signal:l,signalDescription:D,stdio:f,all:p,ipcOutput:m,cwd:g,originalMessage:E,shortMessage:b})=>ja({shortMessage:b,originalMessage:E,command:t,escapedCommand:r,cwd:g,durationMs:ln(n),failed:!0,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isTerminated:l!==void 0,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:c,signal:l,signalDescription:D,code:e.cause?.code,stdout:f[1],stderr:f[2],all:p,stdio:f,ipcOutput:m,pipedFrom:[]}),ja=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),om=(e,t)=>{let r=e===null?void 0:e,n=t===null?void 0:t,i=n===void 0?void 0:kt(t);return{exitCode:r,signal:n,signalDescription:i}};var Ua=e=>Number.isFinite(e)?e:0;function im(e){return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(Ua(e*1e3)%1e3),nanoseconds:Math.trunc(Ua(e*1e6)%1e3)}}function sm(e){return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}function jn(e){switch(typeof e){case"number":{if(Number.isFinite(e))return im(e);break}case"bigint":return sm(e)}throw new TypeError("Expected a finite number or bigint")}var um=e=>e===0||e===0n,am=(e,t)=>t===1||t===1n?e:`${e}s`,cm=1e-7,lm=24n*60n*60n*1000n;function Un(e,t){let r=typeof e=="bigint";if(!r&&!Number.isFinite(e))throw new TypeError("Expected a finite number or bigint");t={...t};let n=e<0?"-":"";e=e<0?-e:e,t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let i=[],s=(l,D)=>{let f=Math.floor(l*10**D+cm);return(Math.round(f)/10**D).toFixed(D)},o=(l,D,f,p)=>{if(!((i.length===0||!t.colonNotation)&&um(l)&&!(t.colonNotation&&f==="m"))){if(p??=String(l),t.colonNotation){let m=p.includes(".")?p.split(".")[0].length:p.length,g=i.length>0?2:1;p="0".repeat(Math.max(0,g-m))+p}else p+=t.verbose?" "+am(D,l):f;i.push(p)}},u=jn(e),a=BigInt(u.days);if(o(a/365n,"year","y"),o(a%365n,"day","d"),o(Number(u.hours),"hour","h"),o(Number(u.minutes),"minute","m"),t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3){let l=Number(u.seconds),D=Number(u.milliseconds),f=Number(u.microseconds),p=Number(u.nanoseconds);if(o(l,"second","s"),t.formatSubMilliseconds)o(D,"millisecond","ms"),o(f,"microsecond","\xB5s"),o(p,"nanosecond","ns");else{let m=D+f/1e3+p/1e6,g=typeof t.millisecondsDecimalDigits=="number"?t.millisecondsDecimalDigits:0,E=m>=1?Math.round(m):Math.ceil(m),b=g?m.toFixed(g):E;o(Number.parseFloat(b),"millisecond","ms",b)}}else{let l=(r?Number(e%lm):e)/1e3%60,D=typeof t.secondsDecimalDigits=="number"?t.secondsDecimalDigits:1,f=s(l,D),p=t.keepDecimalsOnWholeSeconds?f:f.replace(/\.0+$/,"");o(Number.parseFloat(p),"second","s",p)}if(i.length===0)return n+"0"+(t.verbose?" milliseconds":"ms");let c=t.colonNotation?":":" ";return typeof t.unitCount=="number"&&(i=i.slice(0,Math.max(t.unitCount,1))),n+i.join(c)}var Ga=(e,t)=>{e.failed&&V({type:"error",verboseMessage:e.shortMessage,verboseInfo:t,result:e})};var Wa=(e,t)=>{Ce(t)&&(Ga(e,t),Dm(e,t))},Dm=(e,t)=>{let r=`(done in ${Un(e.durationMs)})`;V({type:"duration",verboseMessage:r,verboseInfo:t,result:e})};var Re=(e,t,{reject:r})=>{if(Wa(e,t),e.failed&&r)throw e;return e};var Kn=require("node:fs");var Ya=(e,t)=>pe(e)?"asyncGenerator":Ka(e)?"generator":Dr(e)?"fileUrl":hm(e)?"filePath":bm(e)?"webStream":z(e,{checkOpen:!1})?"native":A(e)?"uint8Array":Em(e)?"asyncIterable":ym(e)?"iterable":zn(e)?qa({transform:e},t):mm(e)?fm(e,t):"native",fm=(e,t)=>Ln(e.transform,{checkOpen:!1})?pm(e,t):zn(e.transform)?qa(e,t):dm(e,t),pm=(e,t)=>(Ha(e,t,"Duplex stream"),"duplex"),qa=(e,t)=>(Ha(e,t,"web TransformStream"),"webTransform"),Ha=({final:e,binary:t,objectMode:r},n,i)=>{za(e,`${n}.final`,i),za(t,`${n}.binary`,i),Gn(r,`${n}.objectMode`)},za=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${t}\` option can only be defined when using a generator, not a ${r}.`)},dm=({transform:e,final:t,binary:r,objectMode:n},i)=>{if(e!==void 0&&!Va(e))throw new TypeError(`The \`${i}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(Ln(t,{checkOpen:!1}))throw new TypeError(`The \`${i}.final\` option must not be a Duplex stream.`);if(zn(t))throw new TypeError(`The \`${i}.final\` option must not be a web TransformStream.`);if(t!==void 0&&!Va(t))throw new TypeError(`The \`${i}.final\` option must be a generator.`);return Gn(r,`${i}.binary`),Gn(n,`${i}.objectMode`),pe(e)||pe(t)?"asyncGenerator":"generator"},Gn=(e,t)=>{if(e!==void 0&&typeof e!="boolean")throw new TypeError(`The \`${t}\` option must use a boolean.`)},Va=e=>pe(e)||Ka(e),pe=e=>Object.prototype.toString.call(e)==="[object AsyncGeneratorFunction]",Ka=e=>Object.prototype.toString.call(e)==="[object GeneratorFunction]",mm=e=>B(e)&&(e.transform!==void 0||e.final!==void 0),Dr=e=>Object.prototype.toString.call(e)==="[object URL]",Za=e=>Dr(e)&&e.protocol!=="file:",hm=e=>B(e)&&Object.keys(e).length===1&&Wn(e.file),Wn=e=>typeof e=="string",Xa=(e,t)=>e==="native"&&typeof t=="string"&&!gm.has(t),gm=new Set(["ipc","ignore","inherit","overlapped","pipe"]),Ja=e=>Object.prototype.toString.call(e)==="[object ReadableStream]",fr=e=>Object.prototype.toString.call(e)==="[object WritableStream]",bm=e=>Ja(e)||fr(e),zn=e=>Ja(e?.readable)&&fr(e?.writable),Em=e=>Qa(e)&&typeof e[Symbol.asyncIterator]=="function",ym=e=>Qa(e)&&typeof e[Symbol.iterator]=="function",Qa=e=>typeof e=="object"&&e!==null,k=new Set(["generator","asyncGenerator","duplex","webTransform"]),pr=new Set(["fileUrl","filePath","fileNumber"]),Vn=new Set(["fileUrl","filePath"]),ec=new Set([...Vn,"webStream","nodeStream"]),tc=new Set(["webTransform","duplex"]),ue={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"};var Yn=(e,t,r,n)=>n==="output"?Cm(e,t,r):Fm(e,t,r),Cm=(e,t,r)=>{let n=t!==0&&r[t-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:e??n}},Fm=(e,t,r)=>{let n=t===0?e===!0:r[t-1].value.readableObjectMode,i=t!==r.length-1&&(e??n);return{writableObjectMode:n,readableObjectMode:i}},rc=(e,t)=>{let r=e.findLast(({type:n})=>k.has(n));return r===void 0?!1:t==="input"?r.value.writableObjectMode:r.value.readableObjectMode};var nc=(e,t,r,n)=>[...e.filter(({type:i})=>!k.has(i)),...Sm(e,t,r,n)],Sm=(e,t,r,{encoding:n})=>{let i=e.filter(({type:o})=>k.has(o)),s=Array.from({length:i.length});for(let[o,u]of Object.entries(i))s[o]=wm({stdioItem:u,index:Number(o),newTransforms:s,optionName:t,direction:r,encoding:n});return $m(s,r)},wm=({stdioItem:e,stdioItem:{type:t},index:r,newTransforms:n,optionName:i,direction:s,encoding:o})=>t==="duplex"?xm({stdioItem:e,optionName:i}):t==="webTransform"?Bm({stdioItem:e,index:r,newTransforms:n,direction:s}):Am({stdioItem:e,index:r,newTransforms:n,direction:s,encoding:o}),xm=({stdioItem:e,stdioItem:{value:{transform:t,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:i=n}},optionName:s})=>{if(i&&!n)throw new TypeError(`The \`${s}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!i&&n)throw new TypeError(`The \`${s}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...e,value:{transform:t,writableObjectMode:r,readableObjectMode:n}}},Bm=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:i})=>{let{transform:s,objectMode:o}=B(t)?t:{transform:t},{writableObjectMode:u,readableObjectMode:a}=Yn(o,r,n,i);return{...e,value:{transform:s,writableObjectMode:u,readableObjectMode:a}}},Am=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:i,encoding:s})=>{let{transform:o,final:u,binary:a=!1,preserveNewlines:c=!1,objectMode:l}=B(t)?t:{transform:t},D=a||I.has(s),{writableObjectMode:f,readableObjectMode:p}=Yn(l,r,n,i);return{...e,value:{transform:o,final:u,binary:D,preserveNewlines:c,writableObjectMode:f,readableObjectMode:p}}},$m=(e,t)=>t==="input"?e.reverse():e;var dr=y(require("node:process"),1);var oc=(e,t,r)=>{let n=e.map(i=>Tm(i,t));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??Rm},Tm=({type:e,value:t},r)=>vm[r]??ic[e](t),vm=["input","output","output"],Ie=()=>{},qn=()=>"input",ic={generator:Ie,asyncGenerator:Ie,fileUrl:Ie,filePath:Ie,iterable:qn,asyncIterable:qn,uint8Array:qn,webStream:e=>fr(e)?"output":"input",nodeStream(e){return fe(e,{checkOpen:!1})?Pn(e,{checkOpen:!1})?void 0:"input":"output"},webTransform:Ie,duplex:Ie,native(e){let t=Om(e);if(t!==void 0)return t;if(z(e,{checkOpen:!1}))return ic.nodeStream(e)}},Om=e=>{if([0,dr.default.stdin].includes(e))return"input";if([1,2,dr.default.stdout,dr.default.stderr].includes(e))return"output"},Rm="output";var sc=(e,t)=>t&&!e.includes("ipc")?[...e,"ipc"]:e;var uc=({stdio:e,ipc:t,buffer:r,...n},i,s)=>{let o=Im(e,n).map((u,a)=>ac(u,a));return s?Pm(o,r,i):sc(o,t)},Im=(e,t)=>{if(e===void 0)return N.map(n=>t[n]);if(Mm(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${N.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return[e,e,e];if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,N.length);return Array.from({length:r},(n,i)=>e[i])},Mm=e=>N.some(t=>e[t]!==void 0),ac=(e,t)=>Array.isArray(e)?e.map(r=>ac(r,t)):e??(t>=N.length?"ignore":"pipe"),Pm=(e,t,r)=>e.map((n,i)=>!t[i]&&i!==0&&!Fe(r,i)&&Lm(n)?"ignore":n),Lm=e=>e==="pipe"||Array.isArray(e)&&e.every(t=>t==="pipe");var lc=require("node:fs"),Dc=y(require("node:tty"),1);var fc=({stdioItem:e,stdioItem:{type:t},isStdioArray:r,fdNumber:n,direction:i,isSync:s})=>!r||t!=="native"?e:s?_m({stdioItem:e,fdNumber:n,direction:i}):jm({stdioItem:e,fdNumber:n}),_m=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n,direction:i})=>{let s=Nm({value:t,optionName:r,fdNumber:n,direction:i});if(s!==void 0)return s;if(z(t,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return e},Nm=({value:e,optionName:t,fdNumber:r,direction:n})=>{let i=km(e,r);if(i!==void 0){if(n==="output")return{type:"fileNumber",value:i,optionName:t};if(Dc.default.isatty(i))throw new TypeError(`The \`${t}: ${Gt(e)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:J((0,lc.readFileSync)(i)),optionName:t}}},km=(e,t)=>{if(e==="inherit")return t;if(typeof e=="number")return e;let r=xt.indexOf(e);if(r!==-1)return r},jm=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n})=>t==="inherit"?{type:"nodeStream",value:cc(n,t,r),optionName:r}:typeof t=="number"?{type:"nodeStream",value:cc(t,t,r),optionName:r}:z(t,{checkOpen:!1})?{type:"nodeStream",value:t,optionName:r}:e,cc=(e,t,r)=>{let n=xt[e];if(n===void 0)throw new TypeError(`The \`${r}: ${t}\` option is invalid: no such standard stream.`);return n};var pc=({input:e,inputFile:t},r)=>r===0?[...Um(e),...Wm(t)]:[],Um=e=>e===void 0?[]:[{type:Gm(e),value:e,optionName:"input"}],Gm=e=>{if(fe(e,{checkOpen:!1}))return"nodeStream";if(typeof e=="string")return"string";if(A(e))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},Wm=e=>e===void 0?[]:[{...zm(e),optionName:"inputFile"}],zm=e=>{if(Dr(e))return{type:"fileUrl",value:e};if(Wn(e))return{type:"filePath",value:{file:e}};throw new Error("The `inputFile` option must be a file path string or a file URL.")};var dc=e=>e.filter((t,r)=>e.every((n,i)=>t.value!==n.value||r>=i||t.type==="generator"||t.type==="asyncGenerator")),mc=({stdioItem:{type:e,value:t,optionName:r},direction:n,fileDescriptors:i,isSync:s})=>{let o=Vm(i,e);if(o.length!==0){if(s){Ym({otherStdioItems:o,type:e,value:t,optionName:r,direction:n});return}if(ec.has(e))return hc({otherStdioItems:o,type:e,value:t,optionName:r,direction:n});tc.has(e)&&Hm({otherStdioItems:o,type:e,value:t,optionName:r})}},Vm=(e,t)=>e.flatMap(({direction:r,stdioItems:n})=>n.filter(i=>i.type===t).map(i=>({...i,direction:r}))),Ym=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{Vn.has(t)&&hc({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})},hc=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{let s=e.filter(u=>qm(u,r));if(s.length===0)return;let o=s.find(u=>u.direction!==i);return gc(o,n,t),i==="output"?s[0].stream:void 0},qm=({type:e,value:t},r)=>e==="filePath"?t.file===r.file:e==="fileUrl"?t.href===r.href:t===r,Hm=({otherStdioItems:e,type:t,value:r,optionName:n})=>{let i=e.find(({value:{transform:s}})=>s===r.transform);gc(i,n,t)},gc=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${e.optionName}\` and \`${t}\` options must not target ${ue[r]} that is the same.`)};var mr=(e,t,r,n)=>{let s=uc(t,r,n).map((u,a)=>Km({stdioOption:u,fdNumber:a,options:t,isSync:n})),o=nh({initialFileDescriptors:s,addProperties:e,options:t,isSync:n});return t.stdio=o.map(({stdioItems:u})=>sh(u)),o},Km=({stdioOption:e,fdNumber:t,options:r,isSync:n})=>{let i=Bt(t),{stdioItems:s,isStdioArray:o}=Zm({stdioOption:e,fdNumber:t,options:r,optionName:i}),u=oc(s,t,i),a=s.map(D=>fc({stdioItem:D,isStdioArray:o,fdNumber:t,direction:u,isSync:n})),c=nc(a,i,u,r),l=rc(c,u);return rh(c,l),{direction:u,objectMode:l,stdioItems:c}},Zm=({stdioOption:e,fdNumber:t,options:r,optionName:n})=>{let s=[...(Array.isArray(e)?e:[e]).map(a=>Xm(a,n)),...pc(r,t)],o=dc(s),u=o.length>1;return Jm(o,u,n),eh(o),{stdioItems:o,isStdioArray:u}},Xm=(e,t)=>({type:Ya(e,t),value:e,optionName:t}),Jm=(e,t,r)=>{if(e.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(t){for(let{value:n,optionName:i}of e)if(Qm.has(n))throw new Error(`The \`${i}\` option must not include \`${n}\`.`)}},Qm=new Set(["ignore","ipc"]),eh=e=>{for(let t of e)th(t)},th=({type:e,value:t,optionName:r})=>{if(Za(t))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(Xa(e,t))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},rh=(e,t)=>{if(!t)return;let r=e.find(({type:n})=>pr.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},nh=({initialFileDescriptors:e,addProperties:t,options:r,isSync:n})=>{let i=[];try{for(let s of e)i.push(oh({fileDescriptor:s,fileDescriptors:i,addProperties:t,options:r,isSync:n}));return i}catch(s){throw Hn(i),s}},oh=({fileDescriptor:{direction:e,objectMode:t,stdioItems:r},fileDescriptors:n,addProperties:i,options:s,isSync:o})=>{let u=r.map(a=>ih({stdioItem:a,addProperties:i,direction:e,options:s,fileDescriptors:n,isSync:o}));return{direction:e,objectMode:t,stdioItems:u}},ih=({stdioItem:e,addProperties:t,direction:r,options:n,fileDescriptors:i,isSync:s})=>{let o=mc({stdioItem:e,direction:r,fileDescriptors:i,isSync:s});return o!==void 0?{...e,stream:o}:{...e,...t[r][e.type](e,n)}},Hn=e=>{for(let{stdioItems:t}of e)for(let{stream:r}of t)r!==void 0&&!U(r)&&r.destroy()},sh=e=>{if(e.length>1)return e.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:t,value:r}]=e;return t==="native"?r:"pipe"};var Ec=(e,t)=>mr(ah,e,t,!0),K=({type:e,optionName:t})=>{yc(t,ue[e])},uh=({optionName:e,value:t})=>((t==="ipc"||t==="overlapped")&&yc(e,`"${t}"`),{}),yc=(e,t)=>{throw new TypeError(`The \`${e}\` option cannot be ${t} with synchronous methods.`)},bc={generator(){},asyncGenerator:K,webStream:K,nodeStream:K,webTransform:K,duplex:K,asyncIterable:K,native:uh},ah={input:{...bc,fileUrl:({value:e})=>({contents:[J((0,Kn.readFileSync)(e))]}),filePath:({value:{file:e}})=>({contents:[J((0,Kn.readFileSync)(e))]}),fileNumber:K,iterable:({value:e})=>({contents:[...e]}),string:({value:e})=>({contents:[e]}),uint8Array:({value:e})=>({contents:[e]})},output:{...bc,fileUrl:({value:e})=>({path:e}),filePath:({value:{file:e}})=>({path:e}),fileNumber:({value:e})=>({path:e}),iterable:K,string:K,uint8Array:K}};var te=(e,{stripFinalNewline:t},r)=>Zn(t,r)&&e!==void 0&&!Array.isArray(e)?Te(e):e,Zn=(e,t)=>t==="all"?e[1]||e[2]:e[t];var rt=require("node:stream");var hr=(e,t,r,n)=>e||r?void 0:Fc(t,n),Jn=(e,t,r)=>r?e.flatMap(n=>Cc(n,t)):Cc(e,t),Cc=(e,t)=>{let{transform:r,final:n}=Fc(t,{});return[...r(e),...n()]},Fc=(e,t)=>(t.previousChunks="",{transform:ch.bind(void 0,t,e),final:Dh.bind(void 0,t)}),ch=function*(e,t,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=e,i=-1;for(let s=0;s<r.length;s+=1)if(r[s]===`
`){let o=lh(r,s,t,e),u=r.slice(i+1,s+1-o);n.length>0&&(u=Xn(n,u),n=""),yield u,i=s}i!==r.length-1&&(n=Xn(n,r.slice(i+1))),e.previousChunks=n},lh=(e,t,r,n)=>r?0:(n.isWindowsNewline=t!==0&&e[t-1]==="\r",n.isWindowsNewline?2:1),Dh=function*({previousChunks:e}){e.length>0&&(yield e)},Sc=({binary:e,preserveNewlines:t,readableObjectMode:r,state:n})=>e||t||r?void 0:{transform:fh.bind(void 0,n)},fh=function*({isWindowsNewline:e=!1},t){let{unixNewline:r,windowsNewline:n,LF:i,concatBytes:s}=typeof t=="string"?ph:mh;if(t.at(-1)===i){yield t;return}yield s(t,e?n:r)},Xn=(e,t)=>`${e}${t}`,ph={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:Xn},dh=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},mh={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:dh};var wc=require("node:buffer");var xc=(e,t)=>e?void 0:hh.bind(void 0,t),hh=function*(e,t){if(typeof t!="string"&&!A(t)&&!wc.Buffer.isBuffer(t))throw new TypeError(`The \`${e}\` option's transform must use "objectMode: true" to receive as input: ${typeof t}.`);yield t},Bc=(e,t)=>e?gh.bind(void 0,t):bh.bind(void 0,t),gh=function*(e,t){Ac(e,t),yield t},bh=function*(e,t){if(Ac(e,t),typeof t!="string"&&!A(t))throw new TypeError(`The \`${e}\` option's function must yield a string or an Uint8Array, not ${typeof t}.`);yield t},Ac=(e,t)=>{if(t==null)throw new TypeError(`The \`${e}\` option's function must not call \`yield ${t}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)};var $c=require("node:buffer"),Tc=require("node:string_decoder");var gr=(e,t,r)=>{if(r)return;if(e)return{transform:Eh.bind(void 0,new TextEncoder)};let n=new Tc.StringDecoder(t);return{transform:yh.bind(void 0,n),final:Ch.bind(void 0,n)}},Eh=function*(e,t){$c.Buffer.isBuffer(t)?yield J(t):typeof t=="string"?yield e.encode(t):yield t},yh=function*(e,t){yield A(t)?e.write(t):t},Ch=function*(e){let t=e.end();t!==""&&(yield t)};var Qn=require("node:util"),eo=(0,Qn.callbackify)(async(e,t,r,n)=>{t.currentIterable=e(...r);try{for await(let i of t.currentIterable)n.push(i)}finally{delete t.currentIterable}}),br=async function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=Sh}=t[r];for await(let i of n(e))yield*br(i,t,r+1)},vc=async function*(e){for(let[t,{final:r}]of Object.entries(e))yield*Fh(r,Number(t),e)},Fh=async function*(e,t,r){if(e!==void 0)for await(let n of e())yield*br(n,r,t+1)},Oc=(0,Qn.callbackify)(async({currentIterable:e},t)=>{if(e!==void 0){await(t?e.throw(t):e.return());return}if(t)throw t}),Sh=function*(e){yield e};var to=(e,t,r,n)=>{try{for(let i of e(...t))r.push(i);n()}catch(i){n(i)}},Rc=(e,t)=>[...t.flatMap(r=>[...de(r,e,0)]),...tt(e)],de=function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=xh}=t[r];for(let i of n(e))yield*de(i,t,r+1)},tt=function*(e){for(let[t,{final:r}]of Object.entries(e))yield*wh(r,Number(t),e)},wh=function*(e,t,r){if(e!==void 0)for(let n of e())yield*de(n,r,t+1)},xh=function*(e){yield e};var ro=({value:e,value:{transform:t,final:r,writableObjectMode:n,readableObjectMode:i},optionName:s},{encoding:o})=>{let u={},a=Ic(e,o,s),c=pe(t),l=pe(r),D=c?eo.bind(void 0,br,u):to.bind(void 0,de),f=c||l?eo.bind(void 0,vc,u):to.bind(void 0,tt),p=c||l?Oc.bind(void 0,u):void 0;return{stream:new rt.Transform({writableObjectMode:n,writableHighWaterMark:(0,rt.getDefaultHighWaterMark)(n),readableObjectMode:i,readableHighWaterMark:(0,rt.getDefaultHighWaterMark)(i),transform(g,E,b){D([g,a,0],this,b)},flush(g){f([a],this,g)},destroy:p})}},Er=(e,t,r,n)=>{let i=t.filter(({type:o})=>o==="generator"),s=n?i.reverse():i;for(let{value:o,optionName:u}of s){let a=Ic(o,r,u);e=Rc(a,e)}return e},Ic=({transform:e,final:t,binary:r,writableObjectMode:n,readableObjectMode:i,preserveNewlines:s},o,u)=>{let a={};return[{transform:xc(n,u)},gr(r,o,n),hr(r,s,n,a),{transform:e,final:t},{transform:Bc(i,u)},Sc({binary:r,preserveNewlines:s,readableObjectMode:i,state:a})].filter(Boolean)};var Mc=(e,t)=>{for(let r of Bh(e))Ah(e,r,t)},Bh=e=>new Set(Object.entries(e).filter(([,{direction:t}])=>t==="input").map(([t])=>Number(t))),Ah=(e,t,r)=>{let{stdioItems:n}=e[t],i=n.filter(({contents:u})=>u!==void 0);if(i.length===0)return;if(t!==0){let[{type:u,optionName:a}]=i;throw new TypeError(`Only the \`stdin\` option, not \`${a}\`, can be ${ue[u]} with synchronous methods.`)}let o=i.map(({contents:u})=>u).map(u=>$h(u,n));r.input=Ve(o)},$h=(e,t)=>{let r=Er(e,t,"utf8",!0);return Th(r),Ve(r)},Th=e=>{let t=e.find(r=>typeof r!="string"&&!A(r));if(t!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${t}.`)};var Cr=require("node:fs");var yr=({stdioItems:e,encoding:t,verboseInfo:r,fdNumber:n})=>n!=="all"&&Fe(r,n)&&!I.has(t)&&vh(n)&&(e.some(({type:i,value:s})=>i==="native"&&Oh.has(s))||e.every(({type:i})=>k.has(i))),vh=e=>e===1||e===2,Oh=new Set(["pipe","overlapped"]),Pc=async(e,t,r,n)=>{for await(let i of e)Rh(t)||_c(i,r,n)},Lc=(e,t,r)=>{for(let n of e)_c(n,t,r)},Rh=e=>e._readableState.pipes.length>0,_c=(e,t,r)=>{let n=Rt(e);V({type:"output",verboseMessage:n,fdNumber:t,verboseInfo:r})};var Nc=({fileDescriptors:e,syncResult:{output:t},options:r,isMaxBuffer:n,verboseInfo:i})=>{if(t===null)return{output:Array.from({length:3})};let s={},o=new Set([]);return{output:t.map((a,c)=>Ih({result:a,fileDescriptors:e,fdNumber:c,state:s,outputFiles:o,isMaxBuffer:n,verboseInfo:i},r)),...s}},Ih=({result:e,fileDescriptors:t,fdNumber:r,state:n,outputFiles:i,isMaxBuffer:s,verboseInfo:o},{buffer:u,encoding:a,lines:c,stripFinalNewline:l,maxBuffer:D})=>{if(e===null)return;let f=La(e,s,D),p=J(f),{stdioItems:m,objectMode:g}=t[r],E=Mh([p],m,a,n),{serializedResult:b,finalResult:$=b}=Ph({chunks:E,objectMode:g,encoding:a,lines:c,stripFinalNewline:l,fdNumber:r});Lh({serializedResult:b,fdNumber:r,state:n,verboseInfo:o,encoding:a,stdioItems:m,objectMode:g});let v=u[r]?$:void 0;try{return n.error===void 0&&_h(b,m,i),v}catch(M){return n.error=M,v}},Mh=(e,t,r,n)=>{try{return Er(e,t,r,!1)}catch(i){return n.error=i,e}},Ph=({chunks:e,objectMode:t,encoding:r,lines:n,stripFinalNewline:i,fdNumber:s})=>{if(t)return{serializedResult:e};if(r==="buffer")return{serializedResult:Ve(e)};let o=Ai(e,r);return n[s]?{serializedResult:o,finalResult:Jn(o,!i[s],t)}:{serializedResult:o}},Lh=({serializedResult:e,fdNumber:t,state:r,verboseInfo:n,encoding:i,stdioItems:s,objectMode:o})=>{if(!yr({stdioItems:s,encoding:i,verboseInfo:n,fdNumber:t}))return;let u=Jn(e,!1,o);try{Lc(u,t,n)}catch(a){r.error??=a}},_h=(e,t,r)=>{for(let{path:n}of t.filter(({type:i})=>pr.has(i))){let i=typeof n=="string"?n:n.toString();r.has(i)?(0,Cr.appendFileSync)(n,e):(r.add(i),(0,Cr.writeFileSync)(n,e))}};var kc=([,e,t],r)=>{if(r.all)return e===void 0?t:t===void 0?e:Array.isArray(e)?Array.isArray(t)?[...e,...t]:[...e,te(t,r,"all")]:Array.isArray(t)?[te(e,r,"all"),...t]:A(e)&&A(t)?tn([e,t]):`${e}${t}`};var Fr=require("node:events");var jc=async(e,t)=>{let[r,n]=await Nh(e);return t.isForcefullyTerminated??=!1,[r,n]},Nh=async e=>{let[t,r]=await Promise.allSettled([(0,Fr.once)(e,"spawn"),(0,Fr.once)(e,"exit")]);return t.status==="rejected"?[]:r.status==="rejected"?Uc(e):r.value},Uc=async e=>{try{return await(0,Fr.once)(e,"exit")}catch{return Uc(e)}},Gc=async e=>{let[t,r]=await e;if(!kh(t,r)&&no(t,r))throw new G;return[t,r]},kh=(e,t)=>e===void 0&&t===void 0,no=(e,t)=>e!==0||t!==null;var Wc=({error:e,status:t,signal:r,output:n},{maxBuffer:i})=>{let s=jh(e,t,r),o=s?.code==="ETIMEDOUT",u=Pa(s,n,i);return{resultError:s,exitCode:t,signal:r,timedOut:o,isMaxBuffer:u}},jh=(e,t,r)=>e!==void 0?e:no(t,r)?new G:void 0;var Vc=(e,t,r)=>{let{file:n,commandArguments:i,command:s,escapedCommand:o,startTime:u,verboseInfo:a,options:c,fileDescriptors:l}=Uh(e,t,r),D=zh({file:n,commandArguments:i,options:c,command:s,escapedCommand:o,verboseInfo:a,fileDescriptors:l,startTime:u});return Re(D,a,c)},Uh=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:s,verboseInfo:o}=Mt(e,t,r),u=Gh(r),{file:a,commandArguments:c,options:l}=tr(e,t,u);Wh(l);let D=Ec(l,o);return{file:a,commandArguments:c,command:n,escapedCommand:i,startTime:s,verboseInfo:o,options:l,fileDescriptors:D}},Gh=e=>e.node&&!e.ipc?{...e,ipc:!1}:e,Wh=({ipc:e,ipcInput:t,detached:r,cancelSignal:n})=>{t&&Sr("ipcInput"),e&&Sr("ipc: true"),r&&Sr("detached: true"),n&&Sr("cancelSignal")},Sr=e=>{throw new TypeError(`The "${e}" option cannot be used with synchronous methods.`)},zh=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,verboseInfo:s,fileDescriptors:o,startTime:u})=>{let a=Vh({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:o,startTime:u});if(a.failed)return a;let{resultError:c,exitCode:l,signal:D,timedOut:f,isMaxBuffer:p}=Wc(a,r),{output:m,error:g=c}=Nc({fileDescriptors:o,syncResult:a,options:r,isMaxBuffer:p,verboseInfo:s}),E=m.map(($,v)=>te($,r,v)),b=te(kc(m,r),r,"all");return qh({error:g,exitCode:l,signal:D,timedOut:f,isMaxBuffer:p,stdio:E,all:b,options:r,command:n,escapedCommand:i,startTime:u})},Vh=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:s,startTime:o})=>{try{Mc(s,r);let u=Yh(r);return(0,zc.spawnSync)(e,t,u)}catch(u){return Oe({error:u,command:n,escapedCommand:i,fileDescriptors:s,options:r,startTime:o,isSync:!0})}},Yh=({encoding:e,maxBuffer:t,...r})=>({...r,encoding:"buffer",maxBuffer:cr(t)}),qh=({error:e,exitCode:t,signal:r,timedOut:n,isMaxBuffer:i,stdio:s,all:o,options:u,command:a,escapedCommand:c,startTime:l})=>e===void 0?lr({command:a,escapedCommand:c,stdio:s,all:o,ipcOutput:[],options:u,startTime:l}):et({error:e,command:a,escapedCommand:c,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:i,isForcefullyTerminated:!1,exitCode:t,signal:r,stdio:s,all:o,ipcOutput:[],options:u,startTime:l,isSync:!0});var Ql=require("node:events"),eD=require("node:child_process");var io=y(require("node:process"),1);var Me=require("node:events");var Yc=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0,filter:s}={})=>(Be({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:Ht(e)}),Hh({anyProcess:e,channel:t,isSubprocess:r,filter:s,reference:i})),Hh=async({anyProcess:e,channel:t,isSubprocess:r,filter:n,reference:i})=>{zt(t,i);let s=se(e,t,r),o=new AbortController;try{return await Promise.race([Kh(s,n,o),Zh(s,r,o),Xh(s,r,o)])}catch(u){throw Ae(e),u}finally{o.abort(),Vt(t,i)}},Kh=async(e,t,{signal:r})=>{if(t===void 0){let[n]=await(0,Me.once)(e,"message",{signal:r});return n}for await(let[n]of(0,Me.on)(e,"message",{signal:r}))if(t(n))return n},Zh=async(e,t,{signal:r})=>{await(0,Me.once)(e,"disconnect",{signal:r}),mu(t)},Xh=async(e,t,{signal:r})=>{let[n]=await(0,Me.once)(e,"strict:error",{signal:r});throw Ut(n,t)};var nt=require("node:events");var Hc=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0}={})=>oo({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:!r,reference:i}),oo=({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:i,reference:s})=>{Be({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:Ht(e)}),zt(t,s);let o=se(e,t,r),u=new AbortController,a={};return Jh(e,o,u),Qh({ipcEmitter:o,isSubprocess:r,controller:u,state:a}),eg({anyProcess:e,channel:t,ipcEmitter:o,isSubprocess:r,shouldAwait:i,controller:u,state:a,reference:s})},Jh=async(e,t,r)=>{try{await(0,nt.once)(t,"disconnect",{signal:r.signal}),r.abort()}catch{}},Qh=async({ipcEmitter:e,isSubprocess:t,controller:r,state:n})=>{try{let[i]=await(0,nt.once)(e,"strict:error",{signal:r.signal});n.error=Ut(i,t),r.abort()}catch{}},eg=async function*({anyProcess:e,channel:t,ipcEmitter:r,isSubprocess:n,shouldAwait:i,controller:s,state:o,reference:u}){try{for await(let[a]of(0,nt.on)(r,"message",{signal:s.signal}))qc(o),yield a}catch{qc(o)}finally{s.abort(),Vt(t,u),n||Ae(e),i&&await e}},qc=({error:e})=>{if(e)throw e};var Kc=(e,{ipc:t})=>{Object.assign(e,Xc(e,!1,t))},Zc=()=>{let e=io.default,t=!0,r=io.default.channel!==void 0;return{...Xc(e,t,r),getCancelSignal:Ku.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})}},Xc=(e,t,r)=>({sendMessage:Jt.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getOneMessage:Yc.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getEachMessage:Hc.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})});var Jc=require("node:child_process"),ae=require("node:stream");var Qc=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,verboseInfo:o})=>{Hn(n);let u=new Jc.ChildProcess;tg(u,n),Object.assign(u,{readable:rg,writable:ng,duplex:og});let a=Oe({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,isSync:!1}),c=ig(a,o,i);return{subprocess:u,promise:c}},tg=(e,t)=>{let r=ot(),n=ot(),i=ot(),s=Array.from({length:t.length-3},ot),o=ot(),u=[r,n,i,...s];Object.assign(e,{stdin:r,stdout:n,stderr:i,all:o,stdio:u})},ot=()=>{let e=new ae.PassThrough;return e.end(),e},rg=()=>new ae.Readable({read(){}}),ng=()=>new ae.Writable({write(){}}),og=()=>new ae.Duplex({read(){},write(){}}),ig=async(e,t,r)=>Re(e,t,r);var Pe=require("node:fs"),tl=require("node:buffer"),Z=require("node:stream");var rl=(e,t)=>mr(sg,e,t,!1),it=({type:e,optionName:t})=>{throw new TypeError(`The \`${t}\` option cannot be ${ue[e]}.`)},el={fileNumber:it,generator:ro,asyncGenerator:ro,nodeStream:({value:e})=>({stream:e}),webTransform({value:{transform:e,writableObjectMode:t,readableObjectMode:r}}){let n=t||r;return{stream:Z.Duplex.fromWeb(e,{objectMode:n})}},duplex:({value:{transform:e}})=>({stream:e}),native(){}},sg={input:{...el,fileUrl:({value:e})=>({stream:(0,Pe.createReadStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,Pe.createReadStream)(e)}),webStream:({value:e})=>({stream:Z.Readable.fromWeb(e)}),iterable:({value:e})=>({stream:Z.Readable.from(e)}),asyncIterable:({value:e})=>({stream:Z.Readable.from(e)}),string:({value:e})=>({stream:Z.Readable.from(e)}),uint8Array:({value:e})=>({stream:Z.Readable.from(tl.Buffer.from(e))})},output:{...el,fileUrl:({value:e})=>({stream:(0,Pe.createWriteStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,Pe.createWriteStream)(e)}),webStream:({value:e})=>({stream:Z.Writable.fromWeb(e)}),iterable:it,asyncIterable:it,string:it,uint8Array:it}};var st=require("node:events"),xr=require("node:stream"),ao=require("node:stream/promises");function me(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let i of e)uo(i);let t=e.some(({readableObjectMode:i})=>i),r=ug(e,t),n=new so({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let i of e)n.add(i);return n}var ug=(e,t)=>{if(e.length===0)return(0,xr.getDefaultHighWaterMark)(t);let r=e.filter(({readableObjectMode:n})=>n===t).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},so=class extends xr.PassThrough{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#i=Symbol("unpipe");#o=new WeakMap;add(t){if(uo(t),this.#t.has(t))return;this.#t.add(t),this.#n??=ag(this,this.#t,this.#i);let r=Dg({passThroughStream:this,stream:t,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#i});this.#o.set(t,r),t.pipe(this,{end:!1})}async remove(t){if(uo(t),!this.#t.has(t))return!1;let r=this.#o.get(t);return r===void 0?!1:(this.#o.delete(t),t.unpipe(this),await r,!0)}},ag=async(e,t,r)=>{wr(e,nl);let n=new AbortController;try{await Promise.race([cg(e,n),lg(e,t,r,n)])}finally{n.abort(),wr(e,-nl)}},cg=async(e,{signal:t})=>{try{await(0,ao.finished)(e,{signal:t,cleanup:!0})}catch(r){throw il(e,r),r}},lg=async(e,t,r,{signal:n})=>{for await(let[i]of(0,st.on)(e,"unpipe",{signal:n}))t.has(i)&&i.emit(r)},uo=e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},Dg=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,onFinished:s,unpipeEvent:o})=>{wr(e,ol);let u=new AbortController;try{await Promise.race([fg(s,t,u),pg({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:u}),dg({stream:t,streams:r,ended:n,aborted:i,unpipeEvent:o,controller:u})])}finally{u.abort(),wr(e,-ol)}r.size>0&&r.size===n.size+i.size&&(n.size===0&&i.size>0?co(e):mg(e))},fg=async(e,t,{signal:r})=>{try{await e,r.aborted||co(t)}catch(n){r.aborted||il(t,n)}},pg=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:{signal:s}})=>{try{await(0,ao.finished)(t,{signal:s,cleanup:!0,readable:!0,writable:!1}),r.has(t)&&n.add(t)}catch(o){if(s.aborted||!r.has(t))return;sl(o)?i.add(t):ul(e,o)}},dg=async({stream:e,streams:t,ended:r,aborted:n,unpipeEvent:i,controller:{signal:s}})=>{if(await(0,st.once)(e,i,{signal:s}),!e.readable)return(0,st.once)(s,"abort",{signal:s});t.delete(e),r.delete(e),n.delete(e)},mg=e=>{e.writable&&e.end()},il=(e,t)=>{sl(t)?co(e):ul(e,t)},sl=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",co=e=>{(e.readable||e.writable)&&e.destroy()},ul=(e,t)=>{e.destroyed||(e.once("error",hg),e.destroy(t))},hg=()=>{},wr=(e,t)=>{let r=e.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&e.setMaxListeners(r+t)},nl=2,ol=1;var lo=require("node:stream/promises");var Le=(e,t)=>{e.pipe(t),gg(e,t),bg(e,t)},gg=async(e,t)=>{if(!(U(e)||U(t))){try{await(0,lo.finished)(e,{cleanup:!0,readable:!0,writable:!1})}catch{}Do(t)}},Do=e=>{e.writable&&e.end()},bg=async(e,t)=>{if(!(U(e)||U(t))){try{await(0,lo.finished)(t,{cleanup:!0,readable:!1,writable:!0})}catch{}fo(e)}},fo=e=>{e.readable&&e.destroy()};var al=(e,t,r)=>{let n=new Map;for(let[i,{stdioItems:s,direction:o}]of Object.entries(t)){for(let{stream:u}of s.filter(({type:a})=>k.has(a)))Eg(e,u,o,i);for(let{stream:u}of s.filter(({type:a})=>!k.has(a)))Cg({subprocess:e,stream:u,direction:o,fdNumber:i,pipeGroups:n,controller:r})}for(let[i,s]of n.entries()){let o=s.length===1?s[0]:me(s);Le(o,i)}},Eg=(e,t,r,n)=>{r==="output"?Le(e.stdio[n],t):Le(t,e.stdio[n]);let i=yg[n];i!==void 0&&(e[i]=t),e.stdio[n]=t},yg=["stdin","stdout","stderr"],Cg=({subprocess:e,stream:t,direction:r,fdNumber:n,pipeGroups:i,controller:s})=>{if(t===void 0)return;Fg(t,s);let[o,u]=r==="output"?[t,e.stdio[n]]:[e.stdio[n],t],a=i.get(o)??[];i.set(o,[...a,u])},Fg=(e,{signal:t})=>{U(e)&&De(e,Sg,t)},Sg=2;var ll=require("node:events");var he=[];he.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&he.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&he.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var Br=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",po=Symbol.for("signal-exit emitter"),mo=globalThis,wg=Object.defineProperty.bind(Object),ho=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(mo[po])return mo[po];wg(mo,po,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],i=n.indexOf(r);i!==-1&&(i===0&&n.length===1?n.length=0:n.splice(i,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let i=!1;for(let s of this.listeners[t])i=s(r,n)===!0||i;return t==="exit"&&(i=this.emit("afterExit",r,n)||i),i}},Ar=class{},xg=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),go=class extends Ar{onExit(){return()=>{}}load(){}unload(){}},bo=class extends Ar{#t=Eo.platform==="win32"?"SIGINT":"SIGHUP";#r=new ho;#e;#n;#i;#o={};#s=!1;constructor(t){super(),this.#e=t,this.#o={};for(let r of he)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:i}=this.#r,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(i+=s.__signal_exit_emitter__.count),n.length===i){this.unload();let o=this.#r.emit("exit",null,r),u=r==="SIGHUP"?this.#t:r;o||t.kill(t.pid,u)}};this.#i=t.reallyExit,this.#n=t.emit}onExit(t,r){if(!Br(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,t),()=>{this.#r.removeListener(n,t),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let t of he)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#a(t,...r),this.#e.reallyExit=t=>this.#u(t)}}unload(){this.#s&&(this.#s=!1,he.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#i,this.#r.count-=1)}#u(t){return Br(this.#e)?(this.#e.exitCode=t||0,this.#r.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#a(t,...r){let n=this.#n;if(t==="exit"&&Br(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let i=n.call(this.#e,t,...r);return this.#r.emit("exit",this.#e.exitCode,null),i}else return n.call(this.#e,t,...r)}},Eo=globalThis.process,{onExit:cl,load:qS,unload:HS}=xg(Br(Eo)?new bo(Eo):new go);var Dl=(e,{cleanup:t,detached:r},{signal:n})=>{if(!t||r)return;let i=cl(()=>{e.kill()});(0,ll.addAbortListener)(n,()=>{i()})};var pl=({source:e,sourcePromise:t,boundOptions:r,createNested:n},...i)=>{let s=It(),{destination:o,destinationStream:u,destinationError:a,from:c,unpipeSignal:l}=Bg(r,n,i),{sourceStream:D,sourceError:f}=$g(e,c),{options:p,fileDescriptors:m}=q.get(e);return{sourcePromise:t,sourceStream:D,sourceOptions:p,sourceError:f,destination:o,destinationStream:u,destinationError:a,unpipeSignal:l,fileDescriptors:m,startTime:s}},Bg=(e,t,r)=>{try{let{destination:n,pipeOptions:{from:i,to:s,unpipeSignal:o}={}}=Ag(e,t,...r),u=Wt(n,s);return{destination:n,destinationStream:u,from:i,unpipeSignal:o}}catch(n){return{destinationError:n}}},Ag=(e,t,r,...n)=>{if(Array.isArray(r))return{destination:t(fl,e)(r,...n),pipeOptions:e};if(typeof r=="string"||r instanceof URL){if(Object.keys(e).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[i,s,o]=Ft(r,...n);return{destination:t(fl)(i,s,o),pipeOptions:o}}if(q.has(r)){if(Object.keys(e).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},fl=({options:e})=>({options:{...e,stdin:"pipe",piped:!0}}),$g=(e,t)=>{try{return{sourceStream:$e(e,t)}}catch(r){return{sourceError:r}}};var ml=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n,fileDescriptors:i,sourceOptions:s,startTime:o})=>{let u=Tg({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n});if(u!==void 0)throw yo({error:u,fileDescriptors:i,sourceOptions:s,startTime:o})},Tg=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n})=>{if(t!==void 0&&n!==void 0)return n;if(n!==void 0)return fo(e),n;if(t!==void 0)return Do(r),t},yo=({error:e,fileDescriptors:t,sourceOptions:r,startTime:n})=>Oe({error:e,command:dl,escapedCommand:dl,fileDescriptors:t,options:r,startTime:n,isSync:!1}),dl="source.pipe(destination)";var hl=async e=>{let[{status:t,reason:r,value:n=r},{status:i,reason:s,value:o=s}]=await e;if(o.pipedFrom.includes(n)||o.pipedFrom.push(n),i==="rejected")throw o;if(t==="rejected")throw n;return o};var gl=require("node:stream/promises");var bl=(e,t,r)=>{let n=$r.has(t)?Og(e,t):vg(e,t);return De(e,Ig,r.signal),De(t,Mg,r.signal),Rg(t),n},vg=(e,t)=>{let r=me([e]);return Le(r,t),$r.set(t,r),r},Og=(e,t)=>{let r=$r.get(t);return r.add(e),r},Rg=async e=>{try{await(0,gl.finished)(e,{cleanup:!0,readable:!1,writable:!0})}catch{}$r.delete(e)},$r=new WeakMap,Ig=2,Mg=1;var El=require("node:util");var yl=(e,t)=>e===void 0?[]:[Pg(e,t)],Pg=async(e,{sourceStream:t,mergedStream:r,fileDescriptors:n,sourceOptions:i,startTime:s})=>{await(0,El.aborted)(e,t),await r.remove(t);let o=new Error("Pipe canceled by `unpipeSignal` option.");throw yo({error:o,fileDescriptors:n,sourceOptions:i,startTime:s})};var Tr=(e,...t)=>{if(B(t[0]))return Tr.bind(void 0,{...e,boundOptions:{...e.boundOptions,...t[0]}});let{destination:r,...n}=pl(e,...t),i=Lg({...n,destination:r});return i.pipe=Tr.bind(void 0,{...e,source:r,sourcePromise:i,boundOptions:{}}),i},Lg=async({sourcePromise:e,sourceStream:t,sourceOptions:r,sourceError:n,destination:i,destinationStream:s,destinationError:o,unpipeSignal:u,fileDescriptors:a,startTime:c})=>{let l=_g(e,i);ml({sourceStream:t,sourceError:n,destinationStream:s,destinationError:o,fileDescriptors:a,sourceOptions:r,startTime:c});let D=new AbortController;try{let f=bl(t,s,D);return await Promise.race([hl(l),...yl(u,{sourceStream:t,mergedStream:f,sourceOptions:r,fileDescriptors:a,startTime:c})])}finally{D.abort()}},_g=(e,t)=>Promise.allSettled([e,t]);var xl=require("node:timers/promises");var Fl=require("node:events"),Sl=require("node:stream");var vr=({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:n,encoding:i,preserveNewlines:s})=>{let o=new AbortController;return Ng(t,o),wl({stream:e,controller:o,binary:r,shouldEncode:!e.readableObjectMode&&n,encoding:i,shouldSplit:!e.readableObjectMode,preserveNewlines:s})},Ng=async(e,t)=>{try{await e}catch{}finally{t.abort()}},Co=({stream:e,onStreamEnd:t,lines:r,encoding:n,stripFinalNewline:i,allMixed:s})=>{let o=new AbortController;kg(t,o,e);let u=e.readableObjectMode&&!s;return wl({stream:e,controller:o,binary:n==="buffer",shouldEncode:!u,encoding:n,shouldSplit:!u&&r,preserveNewlines:!i})},kg=async(e,t,r)=>{try{await e}catch{r.destroy()}finally{t.abort()}},wl=({stream:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o})=>{let u=(0,Fl.on)(e,"data",{signal:t.signal,highWaterMark:Cl,highWatermark:Cl});return jg({onStdoutChunk:u,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o})},Fo=(0,Sl.getDefaultHighWaterMark)(!0),Cl=Fo,jg=async function*({onStdoutChunk:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o}){let u=Ug({binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o});try{for await(let[a]of e)yield*de(a,u,0)}catch(a){if(!t.signal.aborted)throw a}finally{yield*tt(u)}},Ug=({binary:e,shouldEncode:t,encoding:r,shouldSplit:n,preserveNewlines:i})=>[gr(e,r,!t),hr(e,i,!n,{})].filter(Boolean);var Bl=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,buffer:i,maxBuffer:s,lines:o,allMixed:u,stripFinalNewline:a,verboseInfo:c,streamInfo:l})=>{let D=Gg({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:u,verboseInfo:c,streamInfo:l});if(!i){await Promise.all([Wg(e),D]);return}let f=Zn(a,r),p=Co({stream:e,onStreamEnd:t,lines:o,encoding:n,stripFinalNewline:f,allMixed:u}),[m]=await Promise.all([zg({stream:e,iterable:p,fdNumber:r,encoding:n,maxBuffer:s,lines:o}),D]);return m},Gg=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:i,verboseInfo:s,streamInfo:{fileDescriptors:o}})=>{if(!yr({stdioItems:o[r]?.stdioItems,encoding:n,verboseInfo:s,fdNumber:r}))return;let u=Co({stream:e,onStreamEnd:t,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:i});await Pc(u,e,r,s)},Wg=async e=>{await(0,xl.setImmediate)(),e.readableFlowing===null&&e.resume()},zg=async({stream:e,stream:{readableObjectMode:t},iterable:r,fdNumber:n,encoding:i,maxBuffer:s,lines:o})=>{try{return t||o?await ir(r,{maxBuffer:s}):i==="buffer"?new Uint8Array(await sr(r,{maxBuffer:s})):await ar(r,{maxBuffer:s})}catch(u){return Al(Ra({error:u,stream:e,readableObjectMode:t,lines:o,encoding:i,fdNumber:n}))}},So=async e=>{try{return await e}catch(t){return Al(t)}},Al=({bufferedData:e})=>xi(e)?new Uint8Array(e):e;var Tl=require("node:stream/promises"),ut=async(e,t,r,{isSameDirection:n,stopOnExit:i=!1}={})=>{let s=Vg(e,r),o=new AbortController;try{await Promise.race([...i?[r.exitPromise]:[],(0,Tl.finished)(e,{cleanup:!0,signal:o.signal})])}catch(u){s.stdinCleanedUp||Hg(u,t,r,n)}finally{o.abort()}},Vg=(e,{originalStreams:[t],subprocess:r})=>{let n={stdinCleanedUp:!1};return e===t&&Yg(e,r,n),n},Yg=(e,t,r)=>{let{_destroy:n}=e;e._destroy=(...i)=>{qg(t,r),n.call(e,...i)}},qg=({exitCode:e,signalCode:t},r)=>{(e!==null||t!==null)&&(r.stdinCleanedUp=!0)},Hg=(e,t,r,n)=>{if(!Kg(e,t,r,n))throw e},Kg=(e,t,r,n=!0)=>r.propagating?$l(e)||Or(e):(r.propagating=!0,wo(r,t)===n?$l(e):Or(e)),wo=({fileDescriptors:e},t)=>t!=="all"&&e[t].direction==="input",Or=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",$l=e=>e?.code==="EPIPE";var vl=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:s,verboseInfo:o,streamInfo:u})=>e.stdio.map((a,c)=>xo({stream:a,fdNumber:c,encoding:t,buffer:r[c],maxBuffer:n[c],lines:i[c],allMixed:!1,stripFinalNewline:s,verboseInfo:o,streamInfo:u})),xo=async({stream:e,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:s,allMixed:o,stripFinalNewline:u,verboseInfo:a,streamInfo:c})=>{if(!e)return;let l=ut(e,t,c);if(wo(c,t)){await l;return}let[D]=await Promise.all([Bl({stream:e,onStreamEnd:l,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:s,allMixed:o,stripFinalNewline:u,verboseInfo:a,streamInfo:c}),l]);return D};var Ol=({stdout:e,stderr:t},{all:r})=>r&&(e||t)?me([e,t].filter(Boolean)):void 0,Rl=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:s,verboseInfo:o,streamInfo:u})=>xo({...Zg(e,r),fdNumber:"all",encoding:t,maxBuffer:n[1]+n[2],lines:i[1]||i[2],allMixed:Xg(e),stripFinalNewline:s,verboseInfo:o,streamInfo:u}),Zg=({stdout:e,stderr:t,all:r},[,n,i])=>{let s=n||i;return s?n?i?{stream:r,buffer:s}:{stream:e,buffer:s}:{stream:t,buffer:s}:{stream:r,buffer:s}},Xg=({all:e,stdout:t,stderr:r})=>e&&t&&r&&t.readableObjectMode!==r.readableObjectMode;var _l=require("node:events");var Il=e=>Fe(e,"ipc"),Ml=(e,t)=>{let r=Rt(e);V({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:t})};var Pl=async({subprocess:e,buffer:t,maxBuffer:r,ipc:n,ipcOutput:i,verboseInfo:s})=>{if(!n)return i;let o=Il(s),u=Q(t,"ipc"),a=Q(r,"ipc");for await(let c of oo({anyProcess:e,channel:e.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))u&&(Ia(e,i,a),i.push(c)),o&&Ml(c,s);return i},Ll=async(e,t)=>(await Promise.allSettled([e]),t);var Nl=async({subprocess:e,options:{encoding:t,buffer:r,maxBuffer:n,lines:i,timeoutDuration:s,cancelSignal:o,gracefulCancel:u,forceKillAfterDelay:a,stripFinalNewline:c,ipc:l,ipcInput:D},context:f,verboseInfo:p,fileDescriptors:m,originalStreams:g,onInternalError:E,controller:b})=>{let $=jc(e,f),v={originalStreams:g,fileDescriptors:m,subprocess:e,exitPromise:$,propagating:!1},M=vl({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:c,verboseInfo:p,streamInfo:v}),X=Rl({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:c,verboseInfo:p,streamInfo:v}),re=[],le=Pl({subprocess:e,buffer:r,maxBuffer:n,ipc:l,ipcOutput:re,verboseInfo:p}),ge=Jg(g,e,v),ne=Qg(m,v);try{return await Promise.race([Promise.all([{},Gc($),Promise.all(M),X,le,sa(e,D),...ge,...ne]),E,eb(e,b),...ta(e,s,f,b),...du({subprocess:e,cancelSignal:o,gracefulCancel:u,context:f,controller:b}),...Ju({subprocess:e,cancelSignal:o,gracefulCancel:u,forceKillAfterDelay:a,context:f,controller:b})])}catch(Lr){return f.terminationReason??="other",Promise.all([{error:Lr},$,Promise.all(M.map(Ne=>So(Ne))),So(X),Ll(le,re),Promise.allSettled(ge),Promise.allSettled(ne)])}},Jg=(e,t,r)=>e.map((n,i)=>n===t.stdio[i]?void 0:ut(n,i,r)),Qg=(e,t)=>e.flatMap(({stdioItems:r},n)=>r.filter(({value:i,stream:s=i})=>z(s,{checkOpen:!1})&&!U(s)).map(({type:i,value:s,stream:o=s})=>ut(o,n,t,{isSameDirection:k.has(i),stopOnExit:i==="native"}))),eb=async(e,{signal:t})=>{let[r]=await(0,_l.once)(e,"error",{signal:t});throw r};var kl=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),at=(e,t,r)=>{let n=e[r];n.has(t)||n.set(t,[]);let i=n.get(t),s=Y();return i.push(s),{resolve:s.resolve.bind(s),promises:i}},_e=async({resolve:e,promises:t},r)=>{e();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...t])]);return!n};var Ul=require("node:stream"),Gl=require("node:util");var Bo=require("node:stream/promises");var Ao=async e=>{if(e!==void 0)try{await $o(e)}catch{}},jl=async e=>{if(e!==void 0)try{await To(e)}catch{}},$o=async e=>{await(0,Bo.finished)(e,{cleanup:!0,readable:!1,writable:!0})},To=async e=>{await(0,Bo.finished)(e,{cleanup:!0,readable:!0,writable:!1})},Rr=async(e,t)=>{if(await e,t)throw t},Ir=(e,t,r)=>{r&&!Or(r)?e.destroy(r):t&&e.destroy()};var Wl=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,binary:i=!0,preserveNewlines:s=!0}={})=>{let o=i||I.has(r),{subprocessStdout:u,waitReadableDestroy:a}=vo(e,n,t),{readableEncoding:c,readableObjectMode:l,readableHighWaterMark:D}=Oo(u,o),{read:f,onStdoutDataDone:p}=Ro({subprocessStdout:u,subprocess:e,binary:o,encoding:r,preserveNewlines:s}),m=new Ul.Readable({read:f,destroy:(0,Gl.callbackify)(Mo.bind(void 0,{subprocessStdout:u,subprocess:e,waitReadableDestroy:a})),highWaterMark:D,objectMode:l,encoding:c});return Io({subprocessStdout:u,onStdoutDataDone:p,readable:m,subprocess:e}),m},vo=(e,t,r)=>{let n=$e(e,t),i=at(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:i}},Oo=({readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r},n)=>n?{readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r}:{readableEncoding:e,readableObjectMode:!0,readableHighWaterMark:Fo},Ro=({subprocessStdout:e,subprocess:t,binary:r,encoding:n,preserveNewlines:i})=>{let s=Y(),o=vr({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:i});return{read(){tb(this,o,s)},onStdoutDataDone:s}},tb=async(e,t,r)=>{try{let{value:n,done:i}=await t.next();i?r.resolve():e.push(n)}catch{}},Io=async({subprocessStdout:e,onStdoutDataDone:t,readable:r,subprocess:n,subprocessStdin:i})=>{try{await To(e),await n,await Ao(i),await t,r.readable&&r.push(null)}catch(s){await Ao(i),zl(r,s)}},Mo=async({subprocessStdout:e,subprocess:t,waitReadableDestroy:r},n)=>{await _e(r,t)&&(zl(e,n),await Rr(t,n))},zl=(e,t)=>{Ir(e,e.readable,t)};var Vl=require("node:stream"),Po=require("node:util");var Yl=({subprocess:e,concurrentStreams:t},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:s}=Lo(e,r,t),o=new Vl.Writable({..._o(n,e,i),destroy:(0,Po.callbackify)(ko.bind(void 0,{subprocessStdin:n,subprocess:e,waitWritableFinal:i,waitWritableDestroy:s})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return No(n,o),o},Lo=(e,t,r)=>{let n=Wt(e,t),i=at(r,n,"writableFinal"),s=at(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:s}},_o=(e,t,r)=>({write:rb.bind(void 0,e),final:(0,Po.callbackify)(nb.bind(void 0,e,t,r))}),rb=(e,t,r,n)=>{e.write(t,r)?n():e.once("drain",n)},nb=async(e,t,r)=>{await _e(r,t)&&(e.writable&&e.end(),await t)},No=async(e,t,r)=>{try{await $o(e),t.writable&&t.end()}catch(n){await jl(r),ql(t,n)}},ko=async({subprocessStdin:e,subprocess:t,waitWritableFinal:r,waitWritableDestroy:n},i)=>{await _e(r,t),await _e(n,t)&&(ql(e,i),await Rr(t,i))},ql=(e,t)=>{Ir(e,e.writable,t)};var Hl=require("node:stream"),Kl=require("node:util");var Zl=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,to:i,binary:s=!0,preserveNewlines:o=!0}={})=>{let u=s||I.has(r),{subprocessStdout:a,waitReadableDestroy:c}=vo(e,n,t),{subprocessStdin:l,waitWritableFinal:D,waitWritableDestroy:f}=Lo(e,i,t),{readableEncoding:p,readableObjectMode:m,readableHighWaterMark:g}=Oo(a,u),{read:E,onStdoutDataDone:b}=Ro({subprocessStdout:a,subprocess:e,binary:u,encoding:r,preserveNewlines:o}),$=new Hl.Duplex({read:E,..._o(l,e,D),destroy:(0,Kl.callbackify)(ob.bind(void 0,{subprocessStdout:a,subprocessStdin:l,subprocess:e,waitReadableDestroy:c,waitWritableFinal:D,waitWritableDestroy:f})),readableHighWaterMark:g,writableHighWaterMark:l.writableHighWaterMark,readableObjectMode:m,writableObjectMode:l.writableObjectMode,encoding:p});return Io({subprocessStdout:a,onStdoutDataDone:b,readable:$,subprocess:e,subprocessStdin:l}),No(l,$,a),$},ob=async({subprocessStdout:e,subprocessStdin:t,subprocess:r,waitReadableDestroy:n,waitWritableFinal:i,waitWritableDestroy:s},o)=>{await Promise.all([Mo({subprocessStdout:e,subprocess:r,waitReadableDestroy:n},o),ko({subprocessStdin:t,subprocess:r,waitWritableFinal:i,waitWritableDestroy:s},o)])};var jo=(e,t,{from:r,binary:n=!1,preserveNewlines:i=!1}={})=>{let s=n||I.has(t),o=$e(e,r),u=vr({subprocessStdout:o,subprocess:e,binary:s,shouldEncode:!0,encoding:t,preserveNewlines:i});return ib(u,o,e)},ib=async function*(e,t,r){try{yield*e}finally{t.readable&&t.destroy(),await r}};var Xl=(e,{encoding:t})=>{let r=kl();e.readable=Wl.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.writable=Yl.bind(void 0,{subprocess:e,concurrentStreams:r}),e.duplex=Zl.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.iterable=jo.bind(void 0,e,t),e[Symbol.asyncIterator]=jo.bind(void 0,e,t,{})};var Jl=(e,t)=>{for(let[r,n]of ub){let i=n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}},sb=(async()=>{})().constructor.prototype,ub=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(sb,e)]);var tD=(e,t,r,n)=>{let{file:i,commandArguments:s,command:o,escapedCommand:u,startTime:a,verboseInfo:c,options:l,fileDescriptors:D}=ab(e,t,r),{subprocess:f,promise:p}=lb({file:i,commandArguments:s,options:l,startTime:a,verboseInfo:c,command:o,escapedCommand:u,fileDescriptors:D});return f.pipe=Tr.bind(void 0,{source:f,sourcePromise:p,boundOptions:{},createNested:n}),Jl(f,p),q.set(f,{options:l,fileDescriptors:D}),f},ab=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:s,verboseInfo:o}=Mt(e,t,r),{file:u,commandArguments:a,options:c}=tr(e,t,r),l=cb(c),D=rl(l,o);return{file:u,commandArguments:a,command:n,escapedCommand:i,startTime:s,verboseInfo:o,options:l,fileDescriptors:D}},cb=({timeout:e,signal:t,...r})=>{if(t!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:e}},lb=({file:e,commandArguments:t,options:r,startTime:n,verboseInfo:i,command:s,escapedCommand:o,fileDescriptors:u})=>{let a;try{a=(0,eD.spawn)(e,t,r)}catch(m){return Qc({error:m,command:s,escapedCommand:o,fileDescriptors:u,options:r,startTime:n,verboseInfo:i})}let c=new AbortController;(0,Ql.setMaxListeners)(Number.POSITIVE_INFINITY,c.signal);let l=[...a.stdio];al(a,u,c),Dl(a,r,c);let D={},f=Y();a.kill=Du.bind(void 0,{kill:a.kill.bind(a),options:r,onInternalError:f,context:D,controller:c}),a.all=Ol(a,r),Xl(a,r),Kc(a,r);let p=Db({subprocess:a,options:r,startTime:n,verboseInfo:i,fileDescriptors:u,originalStreams:l,command:s,escapedCommand:o,context:D,onInternalError:f,controller:c});return{subprocess:a,promise:p}},Db=async({subprocess:e,options:t,startTime:r,verboseInfo:n,fileDescriptors:i,originalStreams:s,command:o,escapedCommand:u,context:a,onInternalError:c,controller:l})=>{let[D,[f,p],m,g,E]=await Nl({subprocess:e,options:t,context:a,verboseInfo:n,fileDescriptors:i,originalStreams:s,onInternalError:c,controller:l});l.abort(),c.resolve();let b=m.map((M,X)=>te(M,t,X)),$=te(g,t,"all"),v=fb({errorInfo:D,exitCode:f,signal:p,stdio:b,all:$,ipcOutput:E,context:a,options:t,command:o,escapedCommand:u,startTime:r});return Re(v,n,t)},fb=({errorInfo:e,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:s,context:o,options:u,command:a,escapedCommand:c,startTime:l})=>"error"in e?et({error:e.error,command:a,escapedCommand:c,timedOut:o.terminationReason==="timeout",isCanceled:o.terminationReason==="cancel"||o.terminationReason==="gracefulCancel",isGracefullyCanceled:o.terminationReason==="gracefulCancel",isMaxBuffer:e.error instanceof H,isForcefullyTerminated:o.isForcefullyTerminated,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:s,options:u,startTime:l,isSync:!1}):lr({command:a,escapedCommand:c,stdio:n,all:i,ipcOutput:s,options:u,startTime:l});var Mr=(e,t)=>{let r=Object.fromEntries(Object.entries(t).map(([n,i])=>[n,pb(n,e[n],i)]));return{...e,...r}},pb=(e,t,r)=>db.has(e)&&B(t)&&B(r)?{...t,...r}:r,db=new Set(["env",...on]);var ce=(e,t,r,n)=>{let i=(o,u,a)=>ce(o,u,r,a),s=(...o)=>mb({mapArguments:e,deepOptions:r,boundOptions:t,setBoundExeca:n,createNested:i},...o);return n!==void 0&&n(s,i,t),s},mb=({mapArguments:e,deepOptions:t={},boundOptions:r={},setBoundExeca:n,createNested:i},s,...o)=>{if(B(s))return i(e,Mr(r,s),n);let{file:u,commandArguments:a,options:c,isSync:l}=hb({mapArguments:e,firstArgument:s,nextArguments:o,deepOptions:t,boundOptions:r});return l?Vc(u,a,c):tD(u,a,c,i)},hb=({mapArguments:e,firstArgument:t,nextArguments:r,deepOptions:n,boundOptions:i})=>{let s=Ri(t)?Ii(t,r):[t,...r],[o,u,a]=Ft(...s),c=Mr(Mr(n,i),a),{file:l=o,commandArguments:D=u,options:f=c,isSync:p=!1}=e({file:o,commandArguments:u,options:c});return{file:l,commandArguments:D,options:f,isSync:p}};var rD=({file:e,commandArguments:t})=>oD(e,t),nD=({file:e,commandArguments:t})=>({...oD(e,t),isSync:!0}),oD=(e,t)=>{if(t.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${e} ${t}.`);let[r,...n]=gb(e);return{file:r,commandArguments:n}},gb=e=>{if(typeof e!="string")throw new TypeError(`The command must be a string: ${String(e)}.`);let t=e.trim();if(t==="")return[];let r=[];for(let n of t.split(bb)){let i=r.at(-1);i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${n}`:r.push(n)}return r},bb=/ +/g;var iD=(e,t,r)=>{e.sync=t(Eb,r),e.s=e.sync},sD=({options:e})=>uD(e),Eb=({options:e})=>({...uD(e),isSync:!0}),uD=e=>({options:{...yb(e),...e}}),yb=({input:e,inputFile:t,stdio:r})=>e===void 0&&t===void 0&&r===void 0?{stdin:"inherit"}:{},aD={preferLocal:!0};var Pr=ce(()=>({})),b1=ce(()=>({isSync:!0})),E1=ce(rD),y1=ce(nD),C1=ce(ra),F1=ce(sD,{},aD,iD),{sendMessage:S1,getOneMessage:w1,getEachMessage:x1,getCancelSignal:B1}=Zc();var cD=y(require("fs/promises"));async function Cb(){let[,,...e]=process.argv,t=await cD.default.stat(".husky").then(()=>!0).catch(()=>!1),r=e.includes("--verbose")||t,n=e.includes("--no-breaking"),i=e.includes("--no-task"),s=e.includes("--no-wip"),{stdout:o}=await Pr`git diff --cached --numstat`.pipe`wc -l`,u=Number(o);u<=0&&(Ge("No staged files."),process.exit());let a=async E=>{let b=await E;return ht(b)&&(Ge("Cancelled"),process.exit()),b};li(`Committing ${u} staged file${u>1?"s":""}`);let c=await a(ci({message:"Select the type of change you are commiting",options:[{value:"feat",label:"feat: New feature implementation"},{value:"fix",label:"fix: Bug fixes"},{value:"chore",label:"chore: Maintenance tasks, housekeeping, etc."},{value:"test",label:"test: Adding or modifying tests"},{value:"build",label:"build: Build related changes"},{value:"ci",label:"ci: Changes to CI configuration or scripts"},{value:"docs",label:"docs: Documentation changes"},{value:"perf",label:"perf: Performance improvements"},{value:"refactor",label:"refactor: Code refactoring"},{value:"revert",label:"revert: Reverting changes"},{value:"style",label:"style: Code style changes (e.g formatting)"}],initialValue:"feat"}));(n?!1:await a(gt({message:`Does this change introduce a breaking change? (press ${Ct.cyan("[enter]")} to skip)`})))&&(c=`${c}!`);let D=await a(gt({message:"Write a short & imperative summary of the code changes (lower case and no period)",validate:E=>{if(E.length===0)return"Commit message is required"}})).then(E=>`${E}`.toLowerCase().trim()),f=i?void 0:await a(gt({message:`Provide task number, (press ${Ct.cyan("[enter]")} to skip)`})),p=s?!1:await a(ai({message:"Is this task a WIP?",initialValue:!1})),m=`${c.toString()}: ${D.toString()}${p?" (WIP)":""}${f?` (${f.toString()})`:""}`;await Pr({stdout:r?process.stdout:"ignore",stderr:r?process.stdout:"ignore"})`git commit -m ${m}`,Ge(`Committed "${m}"`);let{stdout:g}=await Pr`git status`;console.log(g)}Cb().catch(e=>{console.error(e),Ge(`${Ct.red("CATASTROPHIC FAILURE")}: Something went wrong committing your spaghetti`)});
