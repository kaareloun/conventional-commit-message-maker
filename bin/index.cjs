#!/usr/bin/env node
"use strict";var fD=Object.create;var Wo=Object.defineProperty;var pD=Object.getOwnPropertyDescriptor;var dD=Object.getOwnPropertyNames;var mD=Object.getPrototypeOf,hD=Object.prototype.hasOwnProperty;var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var gD=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dD(t))!hD.call(e,i)&&i!==r&&Wo(e,i,{get:()=>t[i],enumerable:!(n=pD(t,i))||n.enumerable});return e};var E=(e,t,r)=>(r=e!=null?fD(mD(e)):{},gD(t||!e||!e.__esModule?Wo(r,"default",{value:e,enumerable:!0}):r,e));var Ur=O((vb,zo)=>{"use strict";var kr="\x1B",F=`${kr}[`,bD="\x07",jr={to(e,t){return t?`${F}${t+1};${e+1}H`:`${F}${e+1}G`},move(e,t){let r="";return e<0?r+=`${F}${-e}D`:e>0&&(r+=`${F}${e}C`),t<0?r+=`${F}${-t}A`:t>0&&(r+=`${F}${t}B`),r},up:(e=1)=>`${F}${e}A`,down:(e=1)=>`${F}${e}B`,forward:(e=1)=>`${F}${e}C`,backward:(e=1)=>`${F}${e}D`,nextLine:(e=1)=>`${F}E`.repeat(e),prevLine:(e=1)=>`${F}F`.repeat(e),left:`${F}G`,hide:`${F}?25l`,show:`${F}?25h`,save:`${kr}7`,restore:`${kr}8`},ED={up:(e=1)=>`${F}S`.repeat(e),down:(e=1)=>`${F}T`.repeat(e)},yD={screen:`${F}2J`,up:(e=1)=>`${F}1J`.repeat(e),down:(e=1)=>`${F}J`.repeat(e),line:`${F}2K`,lineEnd:`${F}K`,lineStart:`${F}1K`,lines(e){let t="";for(let r=0;r<e;r++)t+=this.line+(r<e-1?jr.up():"");return e&&(t+=jr.left),t}};zo.exports={cursor:jr,scroll:ED,erase:yD,beep:bD}});var Wr=O((Ob,Gr)=>{var Dt=process||{},Vo=Dt.argv||[],lt=Dt.env||{},CD=!(lt.NO_COLOR||Vo.includes("--no-color"))&&(!!lt.FORCE_COLOR||Vo.includes("--color")||Dt.platform==="win32"||(Dt.stdout||{}).isTTY&&lt.TERM!=="dumb"||!!lt.CI),FD=(e,t,r=e)=>n=>{let i=""+n,s=i.indexOf(t,e.length);return~s?e+wD(i,t,r,s)+t:e+i+t},wD=(e,t,r,n)=>{let i="",s=0;do i+=e.substring(s,n)+r,s=n+t.length,n=e.indexOf(t,s);while(~n);return i+e.substring(s)},Yo=(e=CD)=>{let t=e?FD:()=>String;return{isColorSupported:e,reset:t("\x1B[0m","\x1B[0m"),bold:t("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:t("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:t("\x1B[3m","\x1B[23m"),underline:t("\x1B[4m","\x1B[24m"),inverse:t("\x1B[7m","\x1B[27m"),hidden:t("\x1B[8m","\x1B[28m"),strikethrough:t("\x1B[9m","\x1B[29m"),black:t("\x1B[30m","\x1B[39m"),red:t("\x1B[31m","\x1B[39m"),green:t("\x1B[32m","\x1B[39m"),yellow:t("\x1B[33m","\x1B[39m"),blue:t("\x1B[34m","\x1B[39m"),magenta:t("\x1B[35m","\x1B[39m"),cyan:t("\x1B[36m","\x1B[39m"),white:t("\x1B[37m","\x1B[39m"),gray:t("\x1B[90m","\x1B[39m"),bgBlack:t("\x1B[40m","\x1B[49m"),bgRed:t("\x1B[41m","\x1B[49m"),bgGreen:t("\x1B[42m","\x1B[49m"),bgYellow:t("\x1B[43m","\x1B[49m"),bgBlue:t("\x1B[44m","\x1B[49m"),bgMagenta:t("\x1B[45m","\x1B[49m"),bgCyan:t("\x1B[46m","\x1B[49m"),bgWhite:t("\x1B[47m","\x1B[49m"),blackBright:t("\x1B[90m","\x1B[39m"),redBright:t("\x1B[91m","\x1B[39m"),greenBright:t("\x1B[92m","\x1B[39m"),yellowBright:t("\x1B[93m","\x1B[39m"),blueBright:t("\x1B[94m","\x1B[39m"),magentaBright:t("\x1B[95m","\x1B[39m"),cyanBright:t("\x1B[96m","\x1B[39m"),whiteBright:t("\x1B[97m","\x1B[39m"),bgBlackBright:t("\x1B[100m","\x1B[49m"),bgRedBright:t("\x1B[101m","\x1B[49m"),bgGreenBright:t("\x1B[102m","\x1B[49m"),bgYellowBright:t("\x1B[103m","\x1B[49m"),bgBlueBright:t("\x1B[104m","\x1B[49m"),bgMagentaBright:t("\x1B[105m","\x1B[49m"),bgCyanBright:t("\x1B[106m","\x1B[49m"),bgWhiteBright:t("\x1B[107m","\x1B[49m")}};Gr.exports=Yo();Gr.exports.createColors=Yo});var as=O((LE,us)=>{us.exports=ss;ss.sync=up;var os=require("fs");function sp(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function is(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:sp(t,r)}function ss(e,t,r){os.stat(e,function(n,i){r(n,n?!1:is(i,e,t))})}function up(e,t){return is(os.statSync(e),e,t)}});var ps=O((_E,fs)=>{fs.exports=ls;ls.sync=ap;var cs=require("fs");function ls(e,t,r){cs.stat(e,function(n,i){r(n,n?!1:Ds(i,t))})}function ap(e,t){return Ds(cs.statSync(e),t)}function Ds(e,t){return e.isFile()&&cp(e,t)}function cp(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),u=parseInt("100",8),a=parseInt("010",8),c=parseInt("001",8),l=u|a,D=r&c||r&a&&i===o||r&u&&n===s||r&l&&s===0;return D}});var ms=O((kE,ds)=>{var NE=require("fs"),_t;process.platform==="win32"||global.TESTING_WINDOWS?_t=as():_t=ps();ds.exports=pn;pn.sync=lp;function pn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){pn(e,t||{},function(s,o){s?i(s):n(o)})})}_t(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function lp(e,t){try{return _t.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Fs=O((jE,Cs)=>{var we=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",hs=require("path"),Dp=we?";":":",gs=ms(),bs=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Es=(e,t)=>{let r=t.colon||Dp,n=e.match(/\//)||we&&e.match(/\\/)?[""]:[...we?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=we?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=we?i.split(r):[""];return we&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},ys=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:s}=Es(e,t),o=[],u=c=>new Promise((l,D)=>{if(c===n.length)return t.all&&o.length?l(o):D(bs(e));let f=n[c],p=/^".*"$/.test(f)?f.slice(1,-1):f,m=hs.join(p,e),g=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;l(a(g,c,0))}),a=(c,l,D)=>new Promise((f,p)=>{if(D===i.length)return f(u(l+1));let m=i[D];gs(c+m,{pathExt:s},(g,B)=>{if(!g&&B)if(t.all)o.push(c+m);else return f(c+m);return f(a(c,l,D+1))})});return r?u(0).then(c=>r(null,c),r):u(0)},fp=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Es(e,t),s=[];for(let o=0;o<r.length;o++){let u=r[o],a=/^".*"$/.test(u)?u.slice(1,-1):u,c=hs.join(a,e),l=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let D=0;D<n.length;D++){let f=l+n[D];try{if(gs.sync(f,{pathExt:i}))if(t.all)s.push(f);else return f}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw bs(e)};Cs.exports=ys;ys.sync=fp});var Ss=O((UE,dn)=>{"use strict";var ws=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};dn.exports=ws;dn.exports.default=ws});var Ts=O((GE,As)=>{"use strict";var xs=require("path"),pp=Fs(),dp=Ss();function Bs(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let o;try{o=pp.sync(e.command,{path:r[dp({env:r})],pathExt:t?xs.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=xs.resolve(i?e.options.cwd:"",o)),o}function mp(e){return Bs(e)||Bs(e,!0)}As.exports=mp});var $s=O((WE,hn)=>{"use strict";var mn=/([()\][%!^"`<>&|;, *?])/g;function hp(e){return e=e.replace(mn,"^$1"),e}function gp(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(mn,"^$1"),t&&(e=e.replace(mn,"^$1")),e}hn.exports.command=hp;hn.exports.argument=gp});var Os=O((zE,vs)=>{"use strict";vs.exports=/^#!(.*)/});var Is=O((VE,Rs)=>{"use strict";var bp=Os();Rs.exports=(e="")=>{let t=e.match(bp);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Ps=O((YE,Ms)=>{"use strict";var gn=require("fs"),Ep=Is();function yp(e){let r=Buffer.alloc(150),n;try{n=gn.openSync(e,"r"),gn.readSync(n,r,0,150,0),gn.closeSync(n)}catch{}return Ep(r.toString())}Ms.exports=yp});var ks=O((qE,Ns)=>{"use strict";var Cp=require("path"),Ls=Ts(),_s=$s(),Fp=Ps(),wp=process.platform==="win32",Sp=/\.(?:com|exe)$/i,xp=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Bp(e){e.file=Ls(e);let t=e.file&&Fp(e.file);return t?(e.args.unshift(e.file),e.command=t,Ls(e)):e.file}function Ap(e){if(!wp)return e;let t=Bp(e),r=!Sp.test(t);if(e.options.forceShell||r){let n=xp.test(t);e.command=Cp.normalize(e.command),e.command=_s.command(e.command),e.args=e.args.map(s=>_s.argument(s,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Tp(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:Ap(n)}Ns.exports=Tp});var Gs=O((HE,Us)=>{"use strict";var bn=process.platform==="win32";function En(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function $p(e,t){if(!bn)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let s=js(i,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function js(e,t){return bn&&e===1&&!t.file?En(t.original,"spawn"):null}function vp(e,t){return bn&&e===1&&!t.file?En(t.original,"spawnSync"):null}Us.exports={hookChildProcess:$p,verifyENOENT:js,verifyENOENTSync:vp,notFoundError:En}});var Vs=O((KE,Se)=>{"use strict";var Ws=require("child_process"),yn=ks(),Cn=Gs();function zs(e,t,r){let n=yn(e,t,r),i=Ws.spawn(n.command,n.args,n.options);return Cn.hookChildProcess(i,n),i}function Op(e,t,r){let n=yn(e,t,r),i=Ws.spawnSync(n.command,n.args,n.options);return i.error=i.error||Cn.verifyENOENTSync(i.status,n),i}Se.exports=zs;Se.exports.spawn=zs;Se.exports.sync=Op;Se.exports._parse=yn;Se.exports._enoent=Cn});var R=E(Ur(),1),ht=require("node:process");var Yr=E(require("node:readline"),1),ti=require("node:tty"),pt=E(Wr(),1);function SD({onlyFirst:e=!1}={}){let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}function ri(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(SD(),"")}function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oi={exports:{}};(function(e){var t={};e.exports=t,t.eastAsianWidth=function(n){var i=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,o=i;return 55296<=i&&i<=56319&&56320<=s&&s<=57343&&(i&=1023,s&=1023,o=i<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},t.characterLength=function(n){var i=this.eastAsianWidth(n);return i=="F"||i=="W"||i=="A"?2:1};function r(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}t.length=function(n){for(var i=r(n),s=0,o=0;o<i.length;o++)s=s+this.characterLength(i[o]);return s},t.slice=function(n,i,s){textLen=t.length(n),i=i||0,s=s||1,i<0&&(i=textLen+i),s<0&&(s=textLen+s);for(var o="",u=0,a=r(n),c=0;c<a.length;c++){var l=a[c],D=t.length(l);if(u>=i-(D==2?1:0))if(u+D<=s)o+=l;else break;u+=D}return o}})(oi);var xD=oi.exports,BD=ni(xD),AD=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},TD=ni(AD);function ke(e,t={}){if(typeof e!="string"||e.length===0||(t={ambiguousIsNarrow:!0,...t},e=ri(e),e.length===0))return 0;e=e.replace(TD(),"  ");let r=t.ambiguousIsNarrow?1:2,n=0;for(let i of e){let s=i.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(BD.eastAsianWidth(i)){case"F":case"W":n+=2;break;case"A":n+=r;break;default:n+=1}}return n}var zr=10,qo=(e=0)=>t=>`\x1B[${t+e}m`,Ho=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Ko=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,y={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(y.modifier);var $D=Object.keys(y.color),vD=Object.keys(y.bgColor);[...$D,...vD];function OD(){let e=new Map;for(let[t,r]of Object.entries(y)){for(let[n,i]of Object.entries(r))y[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=y[n],e.set(i[0],i[1]);Object.defineProperty(y,t,{value:r,enumerable:!1})}return Object.defineProperty(y,"codes",{value:e,enumerable:!1}),y.color.close="\x1B[39m",y.bgColor.close="\x1B[49m",y.color.ansi=qo(),y.color.ansi256=Ho(),y.color.ansi16m=Ko(),y.bgColor.ansi=qo(zr),y.bgColor.ansi256=Ho(zr),y.bgColor.ansi16m=Ko(zr),Object.defineProperties(y,{rgbToAnsi256:{value:(t,r,n)=>t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>y.rgbToAnsi256(...y.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let u=t%36;r=Math.floor(t/36)/5,n=Math.floor(u/6)/5,i=u%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>y.ansi256ToAnsi(y.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>y.ansi256ToAnsi(y.hexToAnsi256(t)),enumerable:!1}}),y}var RD=OD(),gt=new Set(["\x1B","\x9B"]),ID=39,qr="\x07",ii="[",MD="]",si="m",Hr=`${MD}8;;`,Zo=e=>`${gt.values().next().value}${ii}${e}${si}`,Xo=e=>`${gt.values().next().value}${Hr}${e}${qr}`,PD=e=>e.split(" ").map(t=>ke(t)),Vr=(e,t,r)=>{let n=[...t],i=!1,s=!1,o=ke(ri(e[e.length-1]));for(let[u,a]of n.entries()){let c=ke(a);if(o+c<=r?e[e.length-1]+=a:(e.push(a),o=0),gt.has(a)&&(i=!0,s=n.slice(u+1).join("").startsWith(Hr)),i){s?a===qr&&(i=!1,s=!1):a===si&&(i=!1);continue}o+=c,o===r&&u<n.length-1&&(e.push(""),o=0)}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},LD=e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(ke(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")},_D=(e,t,r={})=>{if(r.trim!==!1&&e.trim()==="")return"";let n="",i,s,o=PD(e),u=[""];for(let[c,l]of e.split(" ").entries()){r.trim!==!1&&(u[u.length-1]=u[u.length-1].trimStart());let D=ke(u[u.length-1]);if(c!==0&&(D>=t&&(r.wordWrap===!1||r.trim===!1)&&(u.push(""),D=0),(D>0||r.trim===!1)&&(u[u.length-1]+=" ",D++)),r.hard&&o[c]>t){let f=t-D,p=1+Math.floor((o[c]-f-1)/t);Math.floor((o[c]-1)/t)<p&&u.push(""),Vr(u,l,t);continue}if(D+o[c]>t&&D>0&&o[c]>0){if(r.wordWrap===!1&&D<t){Vr(u,l,t);continue}u.push("")}if(D+o[c]>t&&r.wordWrap===!1){Vr(u,l,t);continue}u[u.length-1]+=l}r.trim!==!1&&(u=u.map(c=>LD(c)));let a=[...u.join(`
`)];for(let[c,l]of a.entries()){if(n+=l,gt.has(l)){let{groups:f}=new RegExp(`(?:\\${ii}(?<code>\\d+)m|\\${Hr}(?<uri>.*)${qr})`).exec(a.slice(c).join(""))||{groups:{}};if(f.code!==void 0){let p=Number.parseFloat(f.code);i=p===ID?void 0:p}else f.uri!==void 0&&(s=f.uri.length===0?void 0:f.uri)}let D=RD.codes.get(Number(i));a[c+1]===`
`?(s&&(n+=Xo("")),i&&D&&(n+=Zo(D))):l===`
`&&(i&&D&&(n+=Zo(i)),s&&(n+=Xo(s)))}return n};function Jo(e,t,r){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>_D(n,t,r)).join(`
`)}var ND=Object.defineProperty,kD=(e,t,r)=>t in e?ND(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t,r)=>(kD(e,typeof t!="symbol"?t+"":t,r),r);function jD(e,t){if(e===t)return;let r=e.split(`
`),n=t.split(`
`),i=[];for(let s=0;s<Math.max(r.length,n.length);s++)r[s]!==n[s]&&i.push(s);return i}var ui=Symbol("clack:cancel");function bt(e){return e===ui}function ft(e,t){e.isTTY&&e.setRawMode(t)}var Qo=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),UD=new Set(["up","down","left","right","space","enter"]),je=class{constructor({render:t,input:r=ht.stdin,output:n=ht.stdout,...i},s=!0){P(this,"input"),P(this,"output"),P(this,"rl"),P(this,"opts"),P(this,"_track",!1),P(this,"_render"),P(this,"_cursor",0),P(this,"state","initial"),P(this,"value"),P(this,"error",""),P(this,"subscribers",new Map),P(this,"_prevFrame",""),this.opts=i,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=t.bind(this),this._track=s,this.input=r,this.output=n}prompt(){let t=new ti.WriteStream(0);return t._write=(r,n,i)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),i()},this.input.pipe(t),this.rl=Yr.default.createInterface({input:this.input,output:t,tabSize:2,prompt:"",escapeCodeTimeout:50}),Yr.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),ft(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((r,n)=>{this.once("submit",()=>{this.output.write(R.cursor.show),this.output.off("resize",this.render),ft(this.input,!1),r(this.value)}),this.once("cancel",()=>{this.output.write(R.cursor.show),this.output.off("resize",this.render),ft(this.input,!1),r(ui)})})}on(t,r){let n=this.subscribers.get(t)??[];n.push({cb:r}),this.subscribers.set(t,n)}once(t,r){let n=this.subscribers.get(t)??[];n.push({cb:r,once:!0}),this.subscribers.set(t,n)}emit(t,...r){let n=this.subscribers.get(t)??[],i=[];for(let s of n)s.cb(...r),s.once&&i.push(()=>n.splice(n.indexOf(s),1));for(let s of i)s()}unsubscribe(){this.subscribers.clear()}onKeypress(t,r){if(this.state==="error"&&(this.state="active"),r?.name&&!this._track&&Qo.has(r.name)&&this.emit("cursor",Qo.get(r.name)),r?.name&&UD.has(r.name)&&this.emit("cursor",r.name),t&&(t.toLowerCase()==="y"||t.toLowerCase()==="n")&&this.emit("confirm",t.toLowerCase()==="y"),t==="	"&&this.opts.placeholder&&(this.value||(this.rl.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),t&&this.emit("key",t.toLowerCase()),r?.name==="return"){if(this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}t===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),ft(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let t=Jo(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(R.cursor.move(-999,t*-1))}render(){let t=Jo(this._render(this)??"",process.stdout.columns,{hard:!0});if(t!==this._prevFrame){if(this.state==="initial")this.output.write(R.cursor.hide);else{let r=jD(this._prevFrame,t);if(this.restoreCursor(),r&&r?.length===1){let n=r[0];this.output.write(R.cursor.move(0,n)),this.output.write(R.erase.lines(1));let i=t.split(`
`);this.output.write(i[n]),this._prevFrame=t,this.output.write(R.cursor.move(0,i.length-n-1));return}else if(r&&r?.length>1){let n=r[0];this.output.write(R.cursor.move(0,n)),this.output.write(R.erase.down());let i=t.split(`
`).slice(n);this.output.write(i.join(`
`)),this._prevFrame=t;return}this.output.write(R.erase.down())}this.output.write(t),this.state==="initial"&&(this.state="active"),this._prevFrame=t}}},dt=class extends je{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(t){super(t,!1),this.value=!!t.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",r=>{this.output.write(R.cursor.move(0,-1)),this.value=r,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var GD=Object.defineProperty,WD=(e,t,r)=>t in e?GD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ei=(e,t,r)=>(WD(e,typeof t!="symbol"?t+"":t,r),r),ai=class extends je{constructor(e){super(e,!1),ei(this,"options"),ei(this,"cursor",0),this.options=e.options,this.cursor=this.options.findIndex(({value:t})=>t===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",t=>{switch(t){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var zD=Object.defineProperty,VD=(e,t,r)=>t in e?zD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,YD=(e,t,r)=>(VD(e,typeof t!="symbol"?t+"":t,r),r),mt=class extends je{constructor(t){super(t),YD(this,"valueWithCursor",""),this.on("finalize",()=>{this.value||(this.value=t.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${pt.default.inverse(pt.default.hidden("_"))}`;else{let r=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.valueWithCursor=`${r}${pt.default.inverse(n[0])}${n.slice(1)}`}})}get cursor(){return this._cursor}},Rb=globalThis.process.platform.startsWith("win");var L=E(require("node:process"),1),d=E(Wr(),1),ci=E(Ur(),1);function qD(){return L.default.platform!=="win32"?L.default.env.TERM!=="linux":!!L.default.env.CI||!!L.default.env.WT_SESSION||!!L.default.env.TERMINUS_SUBLIME||L.default.env.ConEmuTask==="{cmd::Cmder}"||L.default.env.TERM_PROGRAM==="Terminus-Sublime"||L.default.env.TERM_PROGRAM==="vscode"||L.default.env.TERM==="xterm-256color"||L.default.env.TERM==="alacritty"||L.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var HD=qD(),S=(e,t)=>HD?e:t,KD=S("\u25C6","*"),ZD=S("\u25A0","x"),XD=S("\u25B2","x"),JD=S("\u25C7","o"),QD=S("\u250C","T"),$=S("\u2502","|"),Ue=S("\u2514","\u2014"),Kr=S("\u25CF",">"),Zr=S("\u25CB"," "),Ub=S("\u25FB","[\u2022]"),Gb=S("\u25FC","[+]"),Wb=S("\u25FB","[ ]"),zb=S("\u25AA","\u2022"),Vb=S("\u2500","-"),Yb=S("\u256E","+"),qb=S("\u251C","+"),Hb=S("\u256F","+"),Kb=S("\u25CF","\u2022"),Zb=S("\u25C6","*"),Xb=S("\u25B2","!"),Jb=S("\u25A0","x"),Xr=e=>{switch(e){case"initial":case"active":return d.default.cyan(KD);case"cancel":return d.default.red(ZD);case"error":return d.default.yellow(XD);case"submit":return d.default.green(JD)}},Et=e=>new mt({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let t=`${d.default.gray($)}
${Xr(this.state)}  ${e.message}
`,r=e.placeholder?d.default.inverse(e.placeholder[0])+d.default.dim(e.placeholder.slice(1)):d.default.inverse(d.default.hidden("_")),n=this.value?this.valueWithCursor:r;switch(this.state){case"error":return`${t.trim()}
${d.default.yellow($)}  ${n}
${d.default.yellow(Ue)}  ${d.default.yellow(this.error)}
`;case"submit":return`${t}${d.default.gray($)}  ${d.default.dim(this.value||e.placeholder)}`;case"cancel":return`${t}${d.default.gray($)}  ${d.default.strikethrough(d.default.dim(this.value??""))}${this.value?.trim()?`
`+d.default.gray($):""}`;default:return`${t}${d.default.cyan($)}  ${n}
${d.default.cyan(Ue)}
`}}}).prompt();var li=e=>{let t=e.active??"Yes",r=e.inactive??"No";return new dt({active:t,inactive:r,initialValue:e.initialValue??!0,render(){let n=`${d.default.gray($)}
${Xr(this.state)}  ${e.message}
`,i=this.value?t:r;switch(this.state){case"submit":return`${n}${d.default.gray($)}  ${d.default.dim(i)}`;case"cancel":return`${n}${d.default.gray($)}  ${d.default.strikethrough(d.default.dim(i))}
${d.default.gray($)}`;default:return`${n}${d.default.cyan($)}  ${this.value?`${d.default.green(Kr)} ${t}`:`${d.default.dim(Zr)} ${d.default.dim(t)}`} ${d.default.dim("/")} ${this.value?`${d.default.dim(Zr)} ${d.default.dim(r)}`:`${d.default.green(Kr)} ${r}`}
${d.default.cyan(Ue)}
`}}}).prompt()},Di=e=>{let t=(n,i)=>{let s=n.label??String(n.value);return i==="active"?`${d.default.green(Kr)} ${s} ${n.hint?d.default.dim(`(${n.hint})`):""}`:i==="selected"?`${d.default.dim(s)}`:i==="cancelled"?`${d.default.strikethrough(d.default.dim(s))}`:`${d.default.dim(Zr)} ${d.default.dim(s)}`},r=0;return new ai({options:e.options,initialValue:e.initialValue,render(){let n=`${d.default.gray($)}
${Xr(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${n}${d.default.gray($)}  ${t(this.options[this.cursor],"selected")}`;case"cancel":return`${n}${d.default.gray($)}  ${t(this.options[this.cursor],"cancelled")}
${d.default.gray($)}`;default:{let i=e.maxItems===void 0?1/0:Math.max(e.maxItems,5);this.cursor>=r+i-3?r=Math.max(Math.min(this.cursor-i+3,this.options.length-i),0):this.cursor<r+2&&(r=Math.max(this.cursor-2,0));let s=i<this.options.length&&r>0,o=i<this.options.length&&r+i<this.options.length;return`${n}${d.default.cyan($)}  ${this.options.slice(r,r+i).map((u,a,c)=>a===0&&s?d.default.dim("..."):a===c.length-1&&o?d.default.dim("..."):t(u,a+r===this.cursor?"active":"inactive")).join(`
${d.default.cyan($)}  `)}
${d.default.cyan(Ue)}
`}}}}).prompt()};var fi=(e="")=>{process.stdout.write(`${d.default.gray(QD)}  ${e}
`)},Ge=(e="")=>{process.stdout.write(`${d.default.gray($)}
${d.default.gray(Ue)}  ${e}

`)};var pi=(e=0)=>t=>`\x1B[${t+e}m`,di=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,mi=(e=0)=>(t,r,n)=>`\x1B[${38+e};2;${t};${r};${n}m`,C={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},t0=Object.keys(C.modifier),ef=Object.keys(C.color),tf=Object.keys(C.bgColor),r0=[...ef,...tf];function rf(){let e=new Map;for(let[t,r]of Object.entries(C)){for(let[n,i]of Object.entries(r))C[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},r[n]=C[n],e.set(i[0],i[1]);Object.defineProperty(C,t,{value:r,enumerable:!1})}return Object.defineProperty(C,"codes",{value:e,enumerable:!1}),C.color.close="\x1B[39m",C.bgColor.close="\x1B[49m",C.color.ansi=pi(),C.color.ansi256=di(),C.color.ansi16m=mi(),C.bgColor.ansi=pi(10),C.bgColor.ansi256=di(10),C.bgColor.ansi16m=mi(10),Object.defineProperties(C,{rgbToAnsi256:{value(t,r,n){return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(t){let r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:t=>C.rgbToAnsi256(...C.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,n,i;if(t>=232)r=((t-232)*10+8)/255,n=r,i=r;else{t-=16;let u=t%36;r=Math.floor(t/36)/5,n=Math.floor(u/6)/5,i=u%6/5}let s=Math.max(r,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(r));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(t,r,n)=>C.ansi256ToAnsi(C.rgbToAnsi256(t,r,n)),enumerable:!1},hexToAnsi:{value:t=>C.ansi256ToAnsi(C.hexToAnsi256(t)),enumerable:!1}}),C}var nf=rf(),j=nf;var Ct=E(require("node:process"),1),gi=E(require("node:os"),1),Jr=E(require("node:tty"),1);function _(e,t=globalThis.Deno?globalThis.Deno.args:Ct.default.argv){let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:w}=Ct.default,yt;_("no-color")||_("no-colors")||_("color=false")||_("color=never")?yt=0:(_("color")||_("colors")||_("color=true")||_("color=always"))&&(yt=1);function of(){if("FORCE_COLOR"in w)return w.FORCE_COLOR==="true"?1:w.FORCE_COLOR==="false"?0:w.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(w.FORCE_COLOR,10),3)}function sf(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function uf(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=of();n!==void 0&&(yt=n);let i=r?yt:n;if(i===0)return 0;if(r){if(_("color=16m")||_("color=full")||_("color=truecolor"))return 3;if(_("color=256"))return 2}if("TF_BUILD"in w&&"AGENT_NAME"in w)return 1;if(e&&!t&&i===void 0)return 0;let s=i||0;if(w.TERM==="dumb")return s;if(Ct.default.platform==="win32"){let o=gi.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in w)return"GITHUB_ACTIONS"in w||"GITEA_ACTIONS"in w?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in w)||w.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in w)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(w.TEAMCITY_VERSION)?1:0;if(w.COLORTERM==="truecolor"||w.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in w){let o=Number.parseInt((w.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(w.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(w.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(w.TERM)||"COLORTERM"in w?1:s}function hi(e,t={}){let r=uf(e,{streamIsTTY:e&&e.isTTY,...t});return sf(r)}var af={stdout:hi({isTTY:Jr.default.isatty(1)}),stderr:hi({isTTY:Jr.default.isatty(2)})},bi=af;function Ei(e,t,r){let n=e.indexOf(t);if(n===-1)return e;let i=t.length,s=0,o="";do o+=e.slice(s,n)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.slice(s),o}function yi(e,t,r,n){let i=0,s="";do{let o=e[n-1]==="\r";s+=e.slice(i,o?n-1:n)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.slice(i),s}var{stdout:Ci,stderr:Fi}=bi,Qr=Symbol("GENERATOR"),be=Symbol("STYLER"),We=Symbol("IS_EMPTY"),wi=["ansi","ansi","ansi256","ansi16m"],Ee=Object.create(null),cf=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Ci?Ci.level:0;e.level=t.level===void 0?r:t.level};var lf=e=>{let t=(...r)=>r.join(" ");return cf(t,e),Object.setPrototypeOf(t,ze.prototype),t};function ze(e){return lf(e)}Object.setPrototypeOf(ze.prototype,Function.prototype);for(let[e,t]of Object.entries(j))Ee[e]={get(){let r=Ft(this,tn(t.open,t.close,this[be]),this[We]);return Object.defineProperty(this,e,{value:r}),r}};Ee.visible={get(){let e=Ft(this,this[be],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var en=(e,t,r,...n)=>e==="rgb"?t==="ansi16m"?j[r].ansi16m(...n):t==="ansi256"?j[r].ansi256(j.rgbToAnsi256(...n)):j[r].ansi(j.rgbToAnsi(...n)):e==="hex"?en("rgb",t,r,...j.hexToRgb(...n)):j[r][e](...n),Df=["rgb","hex","ansi256"];for(let e of Df){Ee[e]={get(){let{level:r}=this;return function(...n){let i=tn(en(e,wi[r],"color",...n),j.color.close,this[be]);return Ft(this,i,this[We])}}};let t="bg"+e[0].toUpperCase()+e.slice(1);Ee[t]={get(){let{level:r}=this;return function(...n){let i=tn(en(e,wi[r],"bgColor",...n),j.bgColor.close,this[be]);return Ft(this,i,this[We])}}}}var ff=Object.defineProperties(()=>{},{...Ee,level:{enumerable:!0,get(){return this[Qr].level},set(e){this[Qr].level=e}}}),tn=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Ft=(e,t,r)=>{let n=(...i)=>pf(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,ff),n[Qr]=e,n[be]=t,n[We]=r,n},pf=(e,t)=>{if(e.level<=0||!t)return e[We]?"":t;let r=e[be];if(r===void 0)return t;let{openAll:n,closeAll:i}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=Ei(t,r.close,r.open),r=r.parent;let s=t.indexOf(`
`);return s!==-1&&(t=yi(t,i,n,s)),n+t+i};Object.defineProperties(ze.prototype,Ee);var df=ze(),c0=ze({level:Fi?Fi.level:0});var wt=df;function x(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}var Si=require("node:url"),ye=(e,t)=>{let r=rn(e);if(typeof r!="string")throw new TypeError(`${t} must be a string or a file URL: ${r}.`);return r},rn=e=>e instanceof URL?(0,Si.fileURLToPath)(e):e;var St=(e,t=[],r={})=>{let n=ye(e,"First argument"),[i,s]=x(t)?[[],t]:[t,r];if(!Array.isArray(i))throw new TypeError(`Second argument must be either an array of arguments or an options object: ${i}`);if(i.some(a=>typeof a=="object"&&a!==null))throw new TypeError(`Second argument must be an array of strings: ${i}`);let o=i.map(String),u=o.find(a=>a.includes("\0"));if(u!==void 0)throw new TypeError(`Arguments cannot contain null bytes ("\\0"): ${u}`);if(!x(s))throw new TypeError(`Last argument must be an options object: ${s}`);return[n,o,s]};var Ii=require("node:child_process");var xi=require("node:string_decoder"),{toString:Bi}=Object.prototype,Ai=e=>Bi.call(e)==="[object ArrayBuffer]",A=e=>Bi.call(e)==="[object Uint8Array]",J=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),mf=new TextEncoder,Ti=e=>mf.encode(e),hf=new TextDecoder,xt=e=>hf.decode(e),$i=(e,t)=>gf(e,t).join(""),gf=(e,t)=>{if(t==="utf8"&&e.every(s=>typeof s=="string"))return e;let r=new xi.StringDecoder(t),n=e.map(s=>typeof s=="string"?Ti(s):s).map(s=>r.write(s)),i=r.end();return i===""?n:[...n,i]},Ve=e=>e.length===1&&A(e[0])?e[0]:nn(bf(e)),bf=e=>e.map(t=>typeof t=="string"?Ti(t):t),nn=e=>{let t=new Uint8Array(Ef(e)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t},Ef=e=>{let t=0;for(let r of e)t+=r.length;return t};var Mi=e=>Array.isArray(e)&&Array.isArray(e.raw),Pi=(e,t)=>{let r=[];for(let[s,o]of e.entries())r=yf({templates:e,expressions:t,tokens:r,index:s,template:o});if(r.length===0)throw new TypeError("Template script must not be empty");let[n,...i]=r;return[n,i,{}]},yf=({templates:e,expressions:t,tokens:r,index:n,template:i})=>{if(i===void 0)throw new TypeError(`Invalid backslash sequence: ${e.raw[n]}`);let{nextTokens:s,leadingWhitespaces:o,trailingWhitespaces:u}=Cf(i,e.raw[n]),a=Oi(r,s,o);if(n===t.length)return a;let c=t[n],l=Array.isArray(c)?c.map(D=>Ri(D)):[Ri(c)];return Oi(a,l,u)},Cf=(e,t)=>{if(t.length===0)return{nextTokens:[],leadingWhitespaces:!1,trailingWhitespaces:!1};let r=[],n=0,i=vi.has(t[0]);for(let o=0,u=0;o<e.length;o+=1,u+=1){let a=t[u];if(vi.has(a))n!==o&&r.push(e.slice(n,o)),n=o+1;else if(a==="\\"){let c=t[u+1];c==="u"&&t[u+2]==="{"?u=t.indexOf("}",u+3):u+=Ff[c]??1}}let s=n===e.length;return s||r.push(e.slice(n)),{nextTokens:r,leadingWhitespaces:i,trailingWhitespaces:s}},vi=new Set([" ","	","\r",`
`]),Ff={x:3,u:5},Oi=(e,t,r)=>r||e.length===0||t.length===0?[...e,...t]:[...e.slice(0,-1),`${e.at(-1)}${t[0]}`,...t.slice(1)],Ri=e=>{let t=typeof e;if(t==="string")return e;if(t==="number")return String(e);if(x(e)&&("stdout"in e||"isMaxBuffer"in e))return wf(e);throw e instanceof Ii.ChildProcess||Object.prototype.toString.call(e)==="[object Promise]"?new TypeError("Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}."):new TypeError(`Unexpected "${t}" in template expression`)},wf=({stdout:e})=>{if(typeof e=="string")return e;if(A(e))return xt(e);throw e===void 0?new TypeError(`Missing result.stdout in template expression. This is probably due to the previous subprocess' "stdout" option.`):new TypeError(`Unexpected "${typeof e}" stdout in template expression`)};var Yc=require("node:child_process");var _i=require("node:util");var Bt=E(require("node:process"),1),U=e=>At.includes(e),At=[Bt.default.stdin,Bt.default.stdout,Bt.default.stderr],N=["stdin","stdout","stderr"],Tt=e=>N[e]??`stdio[${e}]`;var Ni=e=>{let t={...e};for(let r of un)t[r]=on(e,r);return t},on=(e,t)=>{let r=Array.from({length:Sf(e)+1}),n=xf(e[t],r,t);return vf(n,t)},Sf=({stdio:e})=>Array.isArray(e)?Math.max(e.length,N.length):N.length,xf=(e,t,r)=>x(e)?Bf(e,t,r):t.fill(e),Bf=(e,t,r)=>{for(let n of Object.keys(e).sort(Af))for(let i of Tf(n,r,t))t[i]=e[n];return t},Af=(e,t)=>Li(e)<Li(t)?1:-1,Li=e=>e==="stdout"||e==="stderr"?0:e==="all"?2:1,Tf=(e,t,r)=>{if(e==="ipc")return[r.length-1];let n=sn(e);if(n===void 0||n===0)throw new TypeError(`"${t}.${e}" is invalid.
It must be "${t}.stdout", "${t}.stderr", "${t}.all", "${t}.ipc", or "${t}.fd3", "${t}.fd4" (and so on).`);if(n>=r.length)throw new TypeError(`"${t}.${e}" is invalid: that file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);return n==="all"?[1,2]:[n]},sn=e=>{if(e==="all")return e;if(N.includes(e))return N.indexOf(e);let t=$f.exec(e);if(t!==null)return Number(t[1])},$f=/^fd(\d+)$/,vf=(e,t)=>e.map(r=>r===void 0?Rf[t]:r),Of=(0,_i.debuglog)("execa").enabled?"full":"none",Rf={lines:!1,buffer:!0,maxBuffer:1e3*1e3*100,verbose:Of,stripFinalNewline:!0},un=["lines","buffer","maxBuffer","verbose","stripFinalNewline"],Q=(e,t)=>t==="ipc"?e.at(-1):e[t];var Ce=({verbose:e},t)=>an(e,t)!=="none",Fe=({verbose:e},t)=>!["none","short"].includes(an(e,t)),ki=({verbose:e},t)=>{let r=an(e,t);return $t(r)?r:void 0},an=(e,t)=>t===void 0?If(e):Q(e,t),If=e=>e.find(t=>$t(t))??vt.findLast(t=>e.includes(t)),$t=e=>typeof e=="function",vt=["none","short","full"];var es=require("node:fs"),ts=require("node:util");var ji=require("node:process"),Ui=require("node:util"),Gi=(e,t)=>{let r=[e,...t],n=r.join(" "),i=r.map(s=>kf(Wi(s))).join(" ");return{command:n,escapedCommand:i}},Ye=e=>(0,Ui.stripVTControlCharacters)(e).split(`
`).map(t=>Wi(t)).join(`
`),Wi=e=>e.replaceAll(Lf,t=>Mf(t)),Mf=e=>{let t=_f[e];if(t!==void 0)return t;let r=e.codePointAt(0),n=r.toString(16);return r<=Nf?`\\u${n.padStart(4,"0")}`:`\\U${n}`},Pf=()=>{try{return new RegExp("\\p{Separator}|\\p{Other}","gu")}catch{return/[\s\u0000-\u001F\u007F-\u009F\u00AD]/g}},Lf=Pf(),_f={" ":" ","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Nf=65535,kf=e=>jf.test(e)?e:ji.platform==="win32"?`"${e.replaceAll('"','""')}"`:`'${e.replaceAll("'","'\\''")}'`,jf=/^[\w./-]+$/;var cn=E(require("node:process"),1);function ln(){let{env:e}=cn.default,{TERM:t,TERM_PROGRAM:r}=e;return cn.default.platform!=="win32"?t!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||r==="Terminus-Sublime"||r==="vscode"||t==="xterm-256color"||t==="alacritty"||t==="rxvt-unicode"||t==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var zi={circleQuestionMark:"(?)",questionMarkPrefix:"(?)",square:"\u2588",squareDarkShade:"\u2593",squareMediumShade:"\u2592",squareLightShade:"\u2591",squareTop:"\u2580",squareBottom:"\u2584",squareLeft:"\u258C",squareRight:"\u2590",squareCenter:"\u25A0",bullet:"\u25CF",dot:"\u2024",ellipsis:"\u2026",pointerSmall:"\u203A",triangleUp:"\u25B2",triangleUpSmall:"\u25B4",triangleDown:"\u25BC",triangleDownSmall:"\u25BE",triangleLeftSmall:"\u25C2",triangleRightSmall:"\u25B8",home:"\u2302",heart:"\u2665",musicNote:"\u266A",musicNoteBeamed:"\u266B",arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",arrowLeftRight:"\u2194",arrowUpDown:"\u2195",almostEqual:"\u2248",notEqual:"\u2260",lessOrEqual:"\u2264",greaterOrEqual:"\u2265",identical:"\u2261",infinity:"\u221E",subscriptZero:"\u2080",subscriptOne:"\u2081",subscriptTwo:"\u2082",subscriptThree:"\u2083",subscriptFour:"\u2084",subscriptFive:"\u2085",subscriptSix:"\u2086",subscriptSeven:"\u2087",subscriptEight:"\u2088",subscriptNine:"\u2089",oneHalf:"\xBD",oneThird:"\u2153",oneQuarter:"\xBC",oneFifth:"\u2155",oneSixth:"\u2159",oneEighth:"\u215B",twoThirds:"\u2154",twoFifths:"\u2156",threeQuarters:"\xBE",threeFifths:"\u2157",threeEighths:"\u215C",fourFifths:"\u2158",fiveSixths:"\u215A",fiveEighths:"\u215D",sevenEighths:"\u215E",line:"\u2500",lineBold:"\u2501",lineDouble:"\u2550",lineDashed0:"\u2504",lineDashed1:"\u2505",lineDashed2:"\u2508",lineDashed3:"\u2509",lineDashed4:"\u254C",lineDashed5:"\u254D",lineDashed6:"\u2574",lineDashed7:"\u2576",lineDashed8:"\u2578",lineDashed9:"\u257A",lineDashed10:"\u257C",lineDashed11:"\u257E",lineDashed12:"\u2212",lineDashed13:"\u2013",lineDashed14:"\u2010",lineDashed15:"\u2043",lineVertical:"\u2502",lineVerticalBold:"\u2503",lineVerticalDouble:"\u2551",lineVerticalDashed0:"\u2506",lineVerticalDashed1:"\u2507",lineVerticalDashed2:"\u250A",lineVerticalDashed3:"\u250B",lineVerticalDashed4:"\u254E",lineVerticalDashed5:"\u254F",lineVerticalDashed6:"\u2575",lineVerticalDashed7:"\u2577",lineVerticalDashed8:"\u2579",lineVerticalDashed9:"\u257B",lineVerticalDashed10:"\u257D",lineVerticalDashed11:"\u257F",lineDownLeft:"\u2510",lineDownLeftArc:"\u256E",lineDownBoldLeftBold:"\u2513",lineDownBoldLeft:"\u2512",lineDownLeftBold:"\u2511",lineDownDoubleLeftDouble:"\u2557",lineDownDoubleLeft:"\u2556",lineDownLeftDouble:"\u2555",lineDownRight:"\u250C",lineDownRightArc:"\u256D",lineDownBoldRightBold:"\u250F",lineDownBoldRight:"\u250E",lineDownRightBold:"\u250D",lineDownDoubleRightDouble:"\u2554",lineDownDoubleRight:"\u2553",lineDownRightDouble:"\u2552",lineUpLeft:"\u2518",lineUpLeftArc:"\u256F",lineUpBoldLeftBold:"\u251B",lineUpBoldLeft:"\u251A",lineUpLeftBold:"\u2519",lineUpDoubleLeftDouble:"\u255D",lineUpDoubleLeft:"\u255C",lineUpLeftDouble:"\u255B",lineUpRight:"\u2514",lineUpRightArc:"\u2570",lineUpBoldRightBold:"\u2517",lineUpBoldRight:"\u2516",lineUpRightBold:"\u2515",lineUpDoubleRightDouble:"\u255A",lineUpDoubleRight:"\u2559",lineUpRightDouble:"\u2558",lineUpDownLeft:"\u2524",lineUpBoldDownBoldLeftBold:"\u252B",lineUpBoldDownBoldLeft:"\u2528",lineUpDownLeftBold:"\u2525",lineUpBoldDownLeftBold:"\u2529",lineUpDownBoldLeftBold:"\u252A",lineUpDownBoldLeft:"\u2527",lineUpBoldDownLeft:"\u2526",lineUpDoubleDownDoubleLeftDouble:"\u2563",lineUpDoubleDownDoubleLeft:"\u2562",lineUpDownLeftDouble:"\u2561",lineUpDownRight:"\u251C",lineUpBoldDownBoldRightBold:"\u2523",lineUpBoldDownBoldRight:"\u2520",lineUpDownRightBold:"\u251D",lineUpBoldDownRightBold:"\u2521",lineUpDownBoldRightBold:"\u2522",lineUpDownBoldRight:"\u251F",lineUpBoldDownRight:"\u251E",lineUpDoubleDownDoubleRightDouble:"\u2560",lineUpDoubleDownDoubleRight:"\u255F",lineUpDownRightDouble:"\u255E",lineDownLeftRight:"\u252C",lineDownBoldLeftBoldRightBold:"\u2533",lineDownLeftBoldRightBold:"\u252F",lineDownBoldLeftRight:"\u2530",lineDownBoldLeftBoldRight:"\u2531",lineDownBoldLeftRightBold:"\u2532",lineDownLeftRightBold:"\u252E",lineDownLeftBoldRight:"\u252D",lineDownDoubleLeftDoubleRightDouble:"\u2566",lineDownDoubleLeftRight:"\u2565",lineDownLeftDoubleRightDouble:"\u2564",lineUpLeftRight:"\u2534",lineUpBoldLeftBoldRightBold:"\u253B",lineUpLeftBoldRightBold:"\u2537",lineUpBoldLeftRight:"\u2538",lineUpBoldLeftBoldRight:"\u2539",lineUpBoldLeftRightBold:"\u253A",lineUpLeftRightBold:"\u2536",lineUpLeftBoldRight:"\u2535",lineUpDoubleLeftDoubleRightDouble:"\u2569",lineUpDoubleLeftRight:"\u2568",lineUpLeftDoubleRightDouble:"\u2567",lineUpDownLeftRight:"\u253C",lineUpBoldDownBoldLeftBoldRightBold:"\u254B",lineUpDownBoldLeftBoldRightBold:"\u2548",lineUpBoldDownLeftBoldRightBold:"\u2547",lineUpBoldDownBoldLeftRightBold:"\u254A",lineUpBoldDownBoldLeftBoldRight:"\u2549",lineUpBoldDownLeftRight:"\u2540",lineUpDownBoldLeftRight:"\u2541",lineUpDownLeftBoldRight:"\u253D",lineUpDownLeftRightBold:"\u253E",lineUpBoldDownBoldLeftRight:"\u2542",lineUpDownLeftBoldRightBold:"\u253F",lineUpBoldDownLeftBoldRight:"\u2543",lineUpBoldDownLeftRightBold:"\u2544",lineUpDownBoldLeftBoldRight:"\u2545",lineUpDownBoldLeftRightBold:"\u2546",lineUpDoubleDownDoubleLeftDoubleRightDouble:"\u256C",lineUpDoubleDownDoubleLeftRight:"\u256B",lineUpDownLeftDoubleRightDouble:"\u256A",lineCross:"\u2573",lineBackslash:"\u2572",lineSlash:"\u2571"},Vi={tick:"\u2714",info:"\u2139",warning:"\u26A0",cross:"\u2718",squareSmall:"\u25FB",squareSmallFilled:"\u25FC",circle:"\u25EF",circleFilled:"\u25C9",circleDotted:"\u25CC",circleDouble:"\u25CE",circleCircle:"\u24DE",circleCross:"\u24E7",circlePipe:"\u24BE",radioOn:"\u25C9",radioOff:"\u25EF",checkboxOn:"\u2612",checkboxOff:"\u2610",checkboxCircleOn:"\u24E7",checkboxCircleOff:"\u24BE",pointer:"\u276F",triangleUpOutline:"\u25B3",triangleLeft:"\u25C0",triangleRight:"\u25B6",lozenge:"\u25C6",lozengeOutline:"\u25C7",hamburger:"\u2630",smiley:"\u32E1",mustache:"\u0DF4",star:"\u2605",play:"\u25B6",nodejs:"\u2B22",oneSeventh:"\u2150",oneNinth:"\u2151",oneTenth:"\u2152"},Uf={tick:"\u221A",info:"i",warning:"\u203C",cross:"\xD7",squareSmall:"\u25A1",squareSmallFilled:"\u25A0",circle:"( )",circleFilled:"(*)",circleDotted:"( )",circleDouble:"( )",circleCircle:"(\u25CB)",circleCross:"(\xD7)",circlePipe:"(\u2502)",radioOn:"(*)",radioOff:"( )",checkboxOn:"[\xD7]",checkboxOff:"[ ]",checkboxCircleOn:"(\xD7)",checkboxCircleOff:"( )",pointer:">",triangleUpOutline:"\u2206",triangleLeft:"\u25C4",triangleRight:"\u25BA",lozenge:"\u2666",lozengeOutline:"\u25CA",hamburger:"\u2261",smiley:"\u263A",mustache:"\u250C\u2500\u2510",star:"\u2736",play:"\u25BA",nodejs:"\u2666",oneSeventh:"1/7",oneNinth:"1/9",oneTenth:"1/10"},Gf={...zi,...Vi},Wf={...zi,...Uf},zf=ln(),Vf=zf?Gf:Wf,Ot=Vf,$0=Object.entries(Vi);var Yi=E(require("node:tty"),1),Yf=Yi.default?.WriteStream?.prototype?.hasColors?.()??!1,h=(e,t)=>{if(!Yf)return i=>i;let r=`\x1B[${e}m`,n=`\x1B[${t}m`;return i=>{let s=i+"",o=s.indexOf(n);if(o===-1)return r+s+n;let u=r,a=0;for(;o!==-1;)u+=s.slice(a,o)+r,a=o+n.length,o=s.indexOf(n,a);return u+=s.slice(a)+n,u}},O0=h(0,0),qi=h(1,22),R0=h(2,22),I0=h(3,23),M0=h(4,24),P0=h(53,55),L0=h(7,27),_0=h(8,28),N0=h(9,29),k0=h(30,39),j0=h(31,39),U0=h(32,39),G0=h(33,39),W0=h(34,39),z0=h(35,39),V0=h(36,39),Y0=h(37,39),Rt=h(90,39),q0=h(40,49),H0=h(41,49),K0=h(42,49),Z0=h(43,49),X0=h(44,49),J0=h(45,49),Q0=h(46,49),eE=h(47,49),tE=h(100,49),Hi=h(91,39),rE=h(92,39),Ki=h(93,39),nE=h(94,39),oE=h(95,39),iE=h(96,39),sE=h(97,39),uE=h(101,49),aE=h(102,49),cE=h(103,49),lE=h(104,49),DE=h(105,49),fE=h(106,49),pE=h(107,49);var Ji=({type:e,message:t,timestamp:r,piped:n,commandId:i,result:{failed:s=!1}={},options:{reject:o=!0}})=>{let u=qf(r),a=Hf[e]({failed:s,reject:o,piped:n}),c=Kf[e]({reject:o});return`${Rt(`[${u}]`)} ${Rt(`[${i}]`)} ${c(a)} ${c(t)}`},qf=e=>`${It(e.getHours(),2)}:${It(e.getMinutes(),2)}:${It(e.getSeconds(),2)}.${It(e.getMilliseconds(),3)}`,It=(e,t)=>String(e).padStart(t,"0"),Zi=({failed:e,reject:t})=>e?t?Ot.cross:Ot.warning:Ot.tick,Hf={command:({piped:e})=>e?"|":"$",output:()=>" ",ipc:()=>"*",error:Zi,duration:Zi},Xi=e=>e,Kf={command:()=>qi,output:()=>Xi,ipc:()=>Xi,error:({reject:e})=>e?Hi:Ki,duration:()=>Rt};var Qi=(e,t,r)=>{let n=ki(t,r);return e.map(({verboseLine:i,verboseObject:s})=>Zf(i,s,n)).filter(i=>i!==void 0).map(i=>Xf(i)).join("")},Zf=(e,t,r)=>{if(r===void 0)return e;let n=r(e,t);if(typeof n=="string")return n},Xf=e=>e.endsWith(`
`)?e:`${e}
`;var V=({type:e,verboseMessage:t,fdNumber:r,verboseInfo:n,result:i})=>{let s=Jf({type:e,result:i,verboseInfo:n}),o=Qf(t,s),u=Qi(o,n,r);(0,es.writeFileSync)(tp,u)},Jf=({type:e,result:t,verboseInfo:{escapedCommand:r,commandId:n,rawOptions:{piped:i=!1,...s}}})=>({type:e,escapedCommand:r,commandId:`${n}`,timestamp:new Date,piped:i,result:t,options:s}),Qf=(e,t)=>e.split(`
`).map(r=>ep({...t,message:r})),ep=e=>({verboseLine:Ji(e),verboseObject:e}),tp=2,Mt=e=>{let t=typeof e=="string"?e:(0,ts.inspect)(e);return Ye(t).replaceAll("	"," ".repeat(rp))},rp=2;var rs=(e,t)=>{Ce(t)&&V({type:"command",verboseMessage:e,verboseInfo:t})};var ns=(e,t,r)=>{ip(e);let n=np(e);return{verbose:e,escapedCommand:t,commandId:n,rawOptions:r}},np=e=>Ce({verbose:e})?op++:void 0,op=0n,ip=e=>{for(let t of e){if(t===!1)throw new TypeError(`The "verbose: false" option was renamed to "verbose: 'none'".`);if(t===!0)throw new TypeError(`The "verbose: true" option was renamed to "verbose: 'short'".`);if(!vt.includes(t)&&!$t(t)){let r=vt.map(n=>`'${n}'`).join(", ");throw new TypeError(`The "verbose" option must not be ${t}. Allowed values are: ${r} or a function.`)}}};var Dn=require("node:process"),Pt=()=>Dn.hrtime.bigint(),fn=e=>Number(Dn.hrtime.bigint()-e)/1e6;var Lt=(e,t,r)=>{let n=Pt(),{command:i,escapedCommand:s}=Gi(e,t),o=on(r,"verbose"),u=ns(o,s,{...r});return rs(s,u),{command:i,escapedCommand:s,startTime:n,verboseInfo:u}};var ga=E(require("node:path"),1),Ln=E(require("node:process"),1),ba=E(Vs(),1);var qe=E(require("node:process"),1),oe=E(require("node:path"),1);function Nt(e={}){let{env:t=process.env,platform:r=process.platform}=e;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"}var Ys=require("node:util"),wn=require("node:child_process"),Fn=E(require("node:path"),1),qs=require("node:url"),XE=(0,Ys.promisify)(wn.execFile);function kt(e){return e instanceof URL?(0,qs.fileURLToPath)(e):e}function Hs(e){return{*[Symbol.iterator](){let t=Fn.default.resolve(kt(e)),r;for(;r!==t;)yield t,r=t,t=Fn.default.resolve(t,"..")}}}var JE=10*1024*1024;var Rp=({cwd:e=qe.default.cwd(),path:t=qe.default.env[Nt()],preferLocal:r=!0,execPath:n=qe.default.execPath,addExecPath:i=!0}={})=>{let s=oe.default.resolve(kt(e)),o=[],u=t.split(oe.default.delimiter);return r&&Ip(o,u,s),i&&Mp(o,u,n,s),t===""||t===oe.default.delimiter?`${o.join(oe.default.delimiter)}${t}`:[...o,t].join(oe.default.delimiter)},Ip=(e,t,r)=>{for(let n of Hs(r)){let i=oe.default.join(n,"node_modules/.bin");t.includes(i)||e.push(i)}},Mp=(e,t,r,n)=>{let i=oe.default.resolve(n,kt(r),"..");t.includes(i)||e.push(i)},Ks=({env:e=qe.default.env,...t}={})=>{e={...e};let r=Nt({env:e});return t.path=e[r],e[r]=Rp(t),e};var Du=require("node:timers/promises");var Zs=(e,t,r)=>{let n=r?Ke:He,i=e instanceof G?{}:{cause:e};return new n(t,i)},G=class extends Error{},Xs=(e,t)=>{Object.defineProperty(e.prototype,"name",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,Qs,{value:!0,writable:!1,enumerable:!1,configurable:!1})},Js=e=>jt(e)&&Qs in e,Qs=Symbol("isExecaError"),jt=e=>Object.prototype.toString.call(e)==="[object Error]",He=class extends Error{};Xs(He,He.name);var Ke=class extends Error{};Xs(Ke,Ke.name);var xe=require("node:os");var iu=require("node:os");var eu=()=>{let e=ru-tu+1;return Array.from({length:e},Pp)},Pp=(e,t)=>({name:`SIGRT${t+1}`,number:tu+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),tu=34,ru=64;var ou=require("node:os");var nu=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Sn=()=>{let e=eu();return[...nu,...e].map(Lp)},Lp=({name:e,number:t,description:r,action:n,forced:i=!1,standard:s})=>{let{signals:{[e]:o}}=ou.constants,u=o!==void 0;return{name:e,number:u?o:t,description:r,supported:u,action:n,forced:i,standard:s}};var _p=()=>{let e=Sn();return Object.fromEntries(e.map(Np))},Np=({name:e,number:t,description:r,supported:n,action:i,forced:s,standard:o})=>[e,{name:e,number:t,description:r,supported:n,action:i,forced:s,standard:o}],su=_p(),kp=()=>{let e=Sn(),t=65,r=Array.from({length:t},(n,i)=>jp(i,e));return Object.assign({},...r)},jp=(e,t)=>{let r=Up(e,t);if(r===void 0)return{};let{name:n,description:i,supported:s,action:o,forced:u,standard:a}=r;return{[e]:{name:n,number:e,description:i,supported:s,action:o,forced:u,standard:a}}},Up=(e,t)=>{let r=t.find(({name:n})=>iu.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},Dy=kp();var au=e=>{let t="option `killSignal`";if(e===0)throw new TypeError(`Invalid ${t}: 0 cannot be used.`);return lu(e,t)},cu=e=>e===0?e:lu(e,"`subprocess.kill()`'s argument"),lu=(e,t)=>{if(Number.isInteger(e))return Gp(e,t);if(typeof e=="string")return zp(e,t);throw new TypeError(`Invalid ${t} ${String(e)}: it must be a string or an integer.
${xn()}`)},Gp=(e,t)=>{if(uu.has(e))return uu.get(e);throw new TypeError(`Invalid ${t} ${e}: this signal integer does not exist.
${xn()}`)},Wp=()=>new Map(Object.entries(xe.constants.signals).reverse().map(([e,t])=>[t,e])),uu=Wp(),zp=(e,t)=>{if(e in xe.constants.signals)return e;throw e.toUpperCase()in xe.constants.signals?new TypeError(`Invalid ${t} '${e}': please rename it to '${e.toUpperCase()}'.`):new TypeError(`Invalid ${t} '${e}': this signal name does not exist.
${xn()}`)},xn=()=>`Available signal names: ${Vp()}.
Available signal numbers: ${Yp()}.`,Vp=()=>Object.keys(xe.constants.signals).sort().map(e=>`'${e}'`).join(", "),Yp=()=>[...new Set(Object.values(xe.constants.signals).sort((e,t)=>e-t))].join(", "),Ut=e=>su[e].description;var fu=e=>{if(e===!1)return e;if(e===!0)return qp;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterDelay\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},qp=1e3*5,pu=({kill:e,options:{forceKillAfterDelay:t,killSignal:r},onInternalError:n,context:i,controller:s},o,u)=>{let{signal:a,error:c}=Hp(o,u,r);Kp(c,n);let l=e(a);return Zp({kill:e,signal:a,forceKillAfterDelay:t,killSignal:r,killResult:l,context:i,controller:s}),l},Hp=(e,t,r)=>{let[n=r,i]=jt(e)?[void 0,e]:[e,t];if(typeof n!="string"&&!Number.isInteger(n))throw new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(n)}`);if(i!==void 0&&!jt(i))throw new TypeError(`The second argument is optional. If specified, it must be an error instance: ${i}`);return{signal:cu(n),error:i}},Kp=(e,t)=>{e!==void 0&&t.reject(e)},Zp=async({kill:e,signal:t,forceKillAfterDelay:r,killSignal:n,killResult:i,context:s,controller:o})=>{t===n&&i&&Bn({kill:e,forceKillAfterDelay:r,context:s,controllerSignal:o.signal})},Bn=async({kill:e,forceKillAfterDelay:t,context:r,controllerSignal:n})=>{if(t!==!1)try{await(0,Du.setTimeout)(t,void 0,{signal:n}),e("SIGKILL")&&(r.isForcefullyTerminated??=!0)}catch{}};var du=require("node:events"),Gt=async(e,t)=>{e.aborted||await(0,du.once)(e,"abort",{signal:t})};var mu=({cancelSignal:e})=>{if(e!==void 0&&Object.prototype.toString.call(e)!=="[object AbortSignal]")throw new Error(`The \`cancelSignal\` option must be an AbortSignal: ${String(e)}`)},hu=({subprocess:e,cancelSignal:t,gracefulCancel:r,context:n,controller:i})=>t===void 0||r?[]:[Xp(e,t,n,i)],Xp=async(e,t,r,{signal:n})=>{throw await Gt(t,n),r.terminationReason??="cancel",e.kill(),t.reason};var Ku=require("node:timers/promises");var qu=require("node:util");var Be=({methodName:e,isSubprocess:t,ipc:r,isConnected:n})=>{Jp(e,t,r),An(e,t,n)},Jp=(e,t,r)=>{if(!r)throw new Error(`${W(e,t)} can only be used if the \`ipc\` option is \`true\`.`)},An=(e,t,r)=>{if(!r)throw new Error(`${W(e,t)} cannot be used: the ${ie(t)} has already exited or disconnected.`)},gu=e=>{throw new Error(`${W("getOneMessage",e)} could not complete: the ${ie(e)} exited or disconnected.`)},bu=e=>{throw new Error(`${W("sendMessage",e)} failed: the ${ie(e)} is sending a message too, instead of listening to incoming messages.
This can be fixed by both sending a message and listening to incoming messages at the same time:

const [receivedMessage] = await Promise.all([
	${W("getOneMessage",e)},
	${W("sendMessage",e,"message, {strict: true}")},
]);`)},Wt=(e,t)=>new Error(`${W("sendMessage",t)} failed when sending an acknowledgment response to the ${ie(t)}.`,{cause:e}),Eu=e=>{throw new Error(`${W("sendMessage",e)} failed: the ${ie(e)} is not listening to incoming messages.`)},yu=e=>{throw new Error(`${W("sendMessage",e)} failed: the ${ie(e)} exited without listening to incoming messages.`)},Cu=()=>new Error(`\`cancelSignal\` aborted: the ${ie(!0)} disconnected.`),Fu=()=>{throw new Error("`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.")},wu=({error:e,methodName:t,isSubprocess:r})=>{if(e.code==="EPIPE")throw new Error(`${W(t,r)} cannot be used: the ${ie(r)} is disconnecting.`,{cause:e})},Su=({error:e,methodName:t,isSubprocess:r,message:n})=>{if(Qp(e))throw new Error(`${W(t,r)}'s argument type is invalid: the message cannot be serialized: ${String(n)}.`,{cause:e})},Qp=({code:e,message:t})=>ed.has(e)||td.some(r=>t.includes(r)),ed=new Set(["ERR_MISSING_ARGS","ERR_INVALID_ARG_TYPE"]),td=["could not be cloned","circular structure","call stack size exceeded"],W=(e,t,r="")=>e==="cancelSignal"?"`cancelSignal`'s `controller.abort()`":`${rd(t)}${e}(${r})`,rd=e=>e?"":"subprocess.",ie=e=>e?"parent process":"subprocess",Ae=e=>{e.connected&&e.disconnect()};var Y=()=>{let e={},t=new Promise((r,n)=>{Object.assign(e,{resolve:r,reject:n})});return Object.assign(t,e)};var Vt=(e,t="stdin")=>{let{options:n,fileDescriptors:i}=q.get(e),s=xu(i,t,!0),o=e.stdio[s];if(o===null)throw new TypeError(Bu(s,t,n,!0));return o},Te=(e,t="stdout")=>{let{options:n,fileDescriptors:i}=q.get(e),s=xu(i,t,!1),o=s==="all"?e.all:e.stdio[s];if(o==null)throw new TypeError(Bu(s,t,n,!1));return o},q=new WeakMap,xu=(e,t,r)=>{let n=nd(t,r);return od(n,t,r,e),n},nd=(e,t)=>{let r=sn(e);if(r!==void 0)return r;let{validOptions:n,defaultValue:i}=t?{validOptions:'"stdin"',defaultValue:"stdin"}:{validOptions:'"stdout", "stderr", "all"',defaultValue:"stdout"};throw new TypeError(`"${Ze(t)}" must not be "${e}".
It must be ${n} or "fd3", "fd4" (and so on).
It is optional and defaults to "${i}".`)},od=(e,t,r,n)=>{let i=n[Au(e)];if(i===void 0)throw new TypeError(`"${Ze(r)}" must not be ${t}. That file descriptor does not exist.
Please set the "stdio" option to ensure that file descriptor exists.`);if(i.direction==="input"&&!r)throw new TypeError(`"${Ze(r)}" must not be ${t}. It must be a readable stream, not writable.`);if(i.direction!=="input"&&r)throw new TypeError(`"${Ze(r)}" must not be ${t}. It must be a writable stream, not readable.`)},Bu=(e,t,r,n)=>{if(e==="all"&&!r.all)return`The "all" option must be true to use "from: 'all'".`;let{optionName:i,optionValue:s}=id(e,r);return`The "${i}: ${zt(s)}" option is incompatible with using "${Ze(n)}: ${zt(t)}".
Please set this option with "pipe" instead.`},id=(e,{stdin:t,stdout:r,stderr:n,stdio:i})=>{let s=Au(e);return s===0&&t!==void 0?{optionName:"stdin",optionValue:t}:s===1&&r!==void 0?{optionName:"stdout",optionValue:r}:s===2&&n!==void 0?{optionName:"stderr",optionValue:n}:{optionName:`stdio[${s}]`,optionValue:i[s]}},Au=e=>e==="all"?1:e,Ze=e=>e?"to":"from",zt=e=>typeof e=="string"?`'${e}'`:typeof e=="number"?`${e}`:"Stream";var ju=require("node:events");var Tu=require("node:events"),De=(e,t,r)=>{let n=e.getMaxListeners();n===0||n===Number.POSITIVE_INFINITY||(e.setMaxListeners(n+t),(0,Tu.addAbortListener)(r,()=>{e.setMaxListeners(e.getMaxListeners()-t)}))};var ku=require("node:events");var Ou=require("node:events"),Ru=require("node:timers/promises");var Yt=(e,t)=>{t&&Tn(e)},Tn=e=>{e.refCounted()},qt=(e,t)=>{t&&$n(e)},$n=e=>{e.unrefCounted()},$u=(e,t)=>{t&&($n(e),$n(e))},vu=(e,t)=>{t&&(Tn(e),Tn(e))};var Iu=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n},i)=>{if(Lu(i)||Nu(i))return;Ht.has(e)||Ht.set(e,[]);let s=Ht.get(e);if(s.push(i),!(s.length>1))for(;s.length>0;){await _u(e,n,i),await Ru.scheduler.yield();let o=await Pu({wrappedMessage:s[0],anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n});s.shift(),n.emit("message",o),n.emit("message:done")}},Mu=async({anyProcess:e,channel:t,isSubprocess:r,ipcEmitter:n,boundOnMessage:i})=>{vn();let s=Ht.get(e);for(;s?.length>0;)await(0,Ou.once)(n,"message:done");e.removeListener("message",i),vu(t,r),n.connected=!1,n.emit("disconnect")},Ht=new WeakMap;var se=(e,t,r)=>{if(Kt.has(e))return Kt.get(e);let n=new ku.EventEmitter;return n.connected=!0,Kt.set(e,n),sd({ipcEmitter:n,anyProcess:e,channel:t,isSubprocess:r}),n},Kt=new WeakMap,sd=({ipcEmitter:e,anyProcess:t,channel:r,isSubprocess:n})=>{let i=Iu.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e});t.on("message",i),t.once("disconnect",Mu.bind(void 0,{anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:e,boundOnMessage:i})),$u(r,n)},Zt=e=>{let t=Kt.get(e);return t===void 0?e.channel!==null:t.connected};var Uu=({anyProcess:e,channel:t,isSubprocess:r,message:n,strict:i})=>{if(!i)return n;let s=se(e,t,r),o=Qt(e,s);return{id:ud++,type:Jt,message:n,hasListeners:o}},ud=0n,Gu=(e,t)=>{if(!(t?.type!==Jt||t.hasListeners))for(let{id:r}of e)r!==void 0&&Xt[r].resolve({isDeadlock:!0,hasListeners:!1})},Pu=async({wrappedMessage:e,anyProcess:t,channel:r,isSubprocess:n,ipcEmitter:i})=>{if(e?.type!==Jt||!t.connected)return e;let{id:s,message:o}=e,u={id:s,type:zu,message:Qt(t,i)};try{await er({anyProcess:t,channel:r,isSubprocess:n,ipc:!0},u)}catch(a){i.emit("strict:error",a)}return o},Lu=e=>{if(e?.type!==zu)return!1;let{id:t,message:r}=e;return Xt[t]?.resolve({isDeadlock:!1,hasListeners:r}),!0},Wu=async(e,t,r)=>{if(e?.type!==Jt)return;let n=Y();Xt[e.id]=n;let i=new AbortController;try{let{isDeadlock:s,hasListeners:o}=await Promise.race([n,ad(t,r,i)]);s&&bu(r),o||Eu(r)}finally{i.abort(),delete Xt[e.id]}},Xt={},ad=async(e,t,{signal:r})=>{De(e,1,r),await(0,ju.once)(e,"disconnect",{signal:r}),yu(t)},Jt="execa:ipc:request",zu="execa:ipc:response";var Vu=(e,t,r)=>{Xe.has(e)||Xe.set(e,new Set);let n=Xe.get(e),i=Y(),s=r?t.id:void 0,o={onMessageSent:i,id:s};return n.add(o),{outgoingMessages:n,outgoingMessage:o}},Yu=({outgoingMessages:e,outgoingMessage:t})=>{e.delete(t),t.onMessageSent.resolve()},_u=async(e,t,r)=>{for(;!Qt(e,t)&&Xe.get(e)?.size>0;){let n=[...Xe.get(e)];Gu(n,r),await Promise.all(n.map(({onMessageSent:i})=>i))}},Xe=new WeakMap,Qt=(e,t)=>t.listenerCount("message")>cd(e),cd=e=>q.has(e)&&!Q(q.get(e).options.buffer,"ipc")?1:0;var er=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},i,{strict:s=!1}={})=>{let o="sendMessage";return Be({methodName:o,isSubprocess:r,ipc:n,isConnected:e.connected}),ld({anyProcess:e,channel:t,methodName:o,isSubprocess:r,message:i,strict:s})},ld=async({anyProcess:e,channel:t,methodName:r,isSubprocess:n,message:i,strict:s})=>{let o=Uu({anyProcess:e,channel:t,isSubprocess:n,message:i,strict:s}),u=Vu(e,o,s);try{await Rn({anyProcess:e,methodName:r,isSubprocess:n,wrappedMessage:o,message:i})}catch(a){throw Ae(e),a}finally{Yu(u)}},Rn=async({anyProcess:e,methodName:t,isSubprocess:r,wrappedMessage:n,message:i})=>{let s=Dd(e);try{await Promise.all([Wu(n,e,r),s(n)])}catch(o){throw wu({error:o,methodName:t,isSubprocess:r}),Su({error:o,methodName:t,isSubprocess:r,message:i}),o}},Dd=e=>{if(On.has(e))return On.get(e);let t=(0,qu.promisify)(e.send.bind(e));return On.set(e,t),t},On=new WeakMap;var Zu=(e,t)=>{let r="cancelSignal";return An(r,!1,e.connected),Rn({anyProcess:e,methodName:r,isSubprocess:!1,wrappedMessage:{type:Ju,message:t},message:t})},Xu=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>(await fd({anyProcess:e,channel:t,isSubprocess:r,ipc:n}),In.signal),fd=async({anyProcess:e,channel:t,isSubprocess:r,ipc:n})=>{if(!Hu){if(Hu=!0,!n){Fu();return}if(t===null){vn();return}se(e,t,r),await Ku.scheduler.yield()}},Hu=!1,Nu=e=>e?.type!==Ju?!1:(In.abort(e.message),!0),Ju="execa:ipc:cancel",vn=()=>{In.abort(Cu())},In=new AbortController;var Qu=({gracefulCancel:e,cancelSignal:t,ipc:r,serialization:n})=>{if(e){if(t===void 0)throw new Error("The `cancelSignal` option must be defined when setting the `gracefulCancel` option.");if(!r)throw new Error("The `ipc` option cannot be false when setting the `gracefulCancel` option.");if(n==="json")throw new Error("The `serialization` option cannot be 'json' when setting the `gracefulCancel` option.")}},ea=({subprocess:e,cancelSignal:t,gracefulCancel:r,forceKillAfterDelay:n,context:i,controller:s})=>r?[pd({subprocess:e,cancelSignal:t,forceKillAfterDelay:n,context:i,controller:s})]:[],pd=async({subprocess:e,cancelSignal:t,forceKillAfterDelay:r,context:n,controller:{signal:i}})=>{await Gt(t,i);let s=dd(t);throw await Zu(e,s),Bn({kill:e.kill,forceKillAfterDelay:r,context:n,controllerSignal:i}),n.terminationReason??="gracefulCancel",t.reason},dd=({reason:e})=>{if(!(e instanceof DOMException))return e;let t=new Error(e.message);return Object.defineProperty(t,"stack",{value:e.stack,enumerable:!1,configurable:!0,writable:!0}),t};var ta=require("node:timers/promises");var ra=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},na=(e,t,r,n)=>t===0||t===void 0?[]:[md(e,t,r,n)],md=async(e,t,r,{signal:n})=>{throw await(0,ta.setTimeout)(t,void 0,{signal:n}),r.terminationReason??="timeout",e.kill(),new G};var tr=require("node:process"),Mn=E(require("node:path"),1);var oa=({options:e})=>{if(e.node===!1)throw new TypeError('The "node" option cannot be false with `execaNode()`.');return{options:{...e,node:!0}}},ia=(e,t,{node:r=!1,nodePath:n=tr.execPath,nodeOptions:i=tr.execArgv.filter(a=>!a.startsWith("--inspect")),cwd:s,execPath:o,...u})=>{if(o!==void 0)throw new TypeError('The "execPath" option has been removed. Please use the "nodePath" option instead.');let a=ye(n,'The "nodePath" option'),c=Mn.default.resolve(s,a),l={...u,nodePath:c,node:r,cwd:s};if(!r)return[e,t,l];if(Mn.default.basename(e,".exe")==="node")throw new TypeError('When the "node" option is true, the first argument does not need to be "node".');return[c,[...i,e,...t],{ipc:!0,...l,shell:!1}]};var sa=require("node:v8"),ua=({ipcInput:e,ipc:t,serialization:r})=>{if(e!==void 0){if(!t)throw new Error("The `ipcInput` option cannot be set unless the `ipc` option is `true`.");bd[r](e)}},hd=e=>{try{(0,sa.serialize)(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with a structured clone.",{cause:t})}},gd=e=>{try{JSON.stringify(e)}catch(t){throw new Error("The `ipcInput` option is not serializable with JSON.",{cause:t})}},bd={advanced:hd,json:gd},aa=async(e,t)=>{t!==void 0&&await e.sendMessage(t)};var la=({encoding:e})=>{if(Pn.has(e))return;let t=yd(e);if(t!==void 0)throw new TypeError(`Invalid option \`encoding: ${rr(e)}\`.
Please rename it to ${rr(t)}.`);let r=[...Pn].map(n=>rr(n)).join(", ");throw new TypeError(`Invalid option \`encoding: ${rr(e)}\`.
Please rename it to one of: ${r}.`)},Ed=new Set(["utf8","utf16le"]),I=new Set(["buffer","hex","base64","base64url","latin1","ascii"]),Pn=new Set([...Ed,...I]),yd=e=>{if(e===null)return"buffer";if(typeof e!="string")return;let t=e.toLowerCase();if(t in ca)return ca[t];if(Pn.has(t))return t},ca={"utf-8":"utf8","utf-16le":"utf16le","ucs-2":"utf16le",ucs2:"utf16le",binary:"latin1"},rr=e=>typeof e=="string"?`"${e}"`:String(e);var Da=require("node:fs"),fa=E(require("node:path"),1),pa=E(require("node:process"),1);var da=(e=ma())=>{let t=ye(e,'The "cwd" option');return fa.default.resolve(t)},ma=()=>{try{return pa.default.cwd()}catch(e){throw e.message=`The current directory does not exist.
${e.message}`,e}},ha=(e,t)=>{if(t===ma())return e;let r;try{r=(0,Da.statSync)(t)}catch(n){return`The "cwd" option is invalid: ${t}.
${n.message}
${e}`}return r.isDirectory()?e:`The "cwd" option is not a directory: ${t}.
${e}`};var nr=(e,t,r)=>{r.cwd=da(r.cwd);let[n,i,s]=ia(e,t,r),{command:o,args:u,options:a}=ba.default._parse(n,i,s),c=Ni(a),l=Cd(c);return ra(l),la(l),ua(l),mu(l),Qu(l),l.shell=rn(l.shell),l.env=Fd(l),l.killSignal=au(l.killSignal),l.forceKillAfterDelay=fu(l.forceKillAfterDelay),l.lines=l.lines.map((D,f)=>D&&!I.has(l.encoding)&&l.buffer[f]),Ln.default.platform==="win32"&&ga.default.basename(o,".exe")==="cmd"&&u.unshift("/q"),{file:o,commandArguments:u,options:l}},Cd=({extendEnv:e=!0,preferLocal:t=!1,cwd:r,localDir:n=r,encoding:i="utf8",reject:s=!0,cleanup:o=!0,all:u=!1,windowsHide:a=!0,killSignal:c="SIGTERM",forceKillAfterDelay:l=!0,gracefulCancel:D=!1,ipcInput:f,ipc:p=f!==void 0||D,serialization:m="advanced",...g})=>({...g,extendEnv:e,preferLocal:t,cwd:r,localDirectory:n,encoding:i,reject:s,cleanup:o,all:u,windowsHide:a,killSignal:c,forceKillAfterDelay:l,gracefulCancel:D,ipcInput:f,ipc:p,serialization:m}),Fd=({env:e,extendEnv:t,preferLocal:r,node:n,localDirectory:i,nodePath:s})=>{let o=t?{...Ln.default.env,...e}:e;return r||n?Ks({env:o,cwd:i,execPath:s,preferLocal:r,addExecPath:n}):o};var ja=require("node:util");function $e(e){if(typeof e=="string")return wd(e);if(!(ArrayBuffer.isView(e)&&e.BYTES_PER_ELEMENT===1))throw new Error("Input must be a string or a Uint8Array");return Sd(e)}var wd=e=>e.at(-1)===Ea?e.slice(0,e.at(-2)===ya?-2:-1):e,Sd=e=>e.at(-1)===xd?e.subarray(0,e.at(-2)===Bd?-2:-1):e,Ea=`
`,xd=Ea.codePointAt(0),ya="\r",Bd=ya.codePointAt(0);var Ra=require("node:events"),Ia=require("node:stream/promises");function z(e,{checkOpen:t=!0}={}){return e!==null&&typeof e=="object"&&(e.writable||e.readable||!t||e.writable===void 0&&e.readable===void 0)&&typeof e.pipe=="function"}function _n(e,{checkOpen:t=!0}={}){return z(e,{checkOpen:t})&&(e.writable||!t)&&typeof e.write=="function"&&typeof e.end=="function"&&typeof e.writable=="boolean"&&typeof e.writableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function fe(e,{checkOpen:t=!0}={}){return z(e,{checkOpen:t})&&(e.readable||!t)&&typeof e.read=="function"&&typeof e.readable=="boolean"&&typeof e.readableObjectMode=="boolean"&&typeof e.destroy=="function"&&typeof e.destroyed=="boolean"}function Nn(e,t){return _n(e,t)&&fe(e,t)}var Ad=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),kn=class{#t;#r;#e=!1;#n=void 0;constructor(t,r){this.#t=t,this.#r=r}next(){let t=()=>this.#i();return this.#n=this.#n?this.#n.then(t,t):t(),this.#n}return(t){let r=()=>this.#o(t);return this.#n?this.#n.then(r,r):r()}async#i(){if(this.#e)return{done:!0,value:void 0};let t;try{t=await this.#t.read()}catch(r){throw this.#n=void 0,this.#e=!0,this.#t.releaseLock(),r}return t.done&&(this.#n=void 0,this.#e=!0,this.#t.releaseLock()),t}async#o(t){if(this.#e)return{done:!0,value:t};if(this.#e=!0,!this.#r){let r=this.#t.cancel(t);return this.#t.releaseLock(),await r,{done:!0,value:t}}return this.#t.releaseLock(),{done:!0,value:t}}},jn=Symbol();function Ca(){return this[jn].next()}Object.defineProperty(Ca,"name",{value:"next"});function Fa(e){return this[jn].return(e)}Object.defineProperty(Fa,"name",{value:"return"});var Td=Object.create(Ad,{next:{enumerable:!0,configurable:!0,writable:!0,value:Ca},return:{enumerable:!0,configurable:!0,writable:!0,value:Fa}});function Un({preventCancel:e=!1}={}){let t=this.getReader(),r=new kn(t,e),n=Object.create(Td);return n[jn]=r,n}var wa=e=>{if(fe(e,{checkOpen:!1})&&Je.on!==void 0)return vd(e);if(typeof e?.[Symbol.asyncIterator]=="function")return e;if($d.call(e)==="[object ReadableStream]")return Un.call(e);throw new TypeError("The first argument must be a Readable, a ReadableStream, or an async iterable.")},{toString:$d}=Object.prototype,vd=async function*(e){let t=new AbortController,r={};Od(e,t,r);try{for await(let[n]of Je.on(e,"data",{signal:t.signal}))yield n}catch(n){if(r.error!==void 0)throw r.error;if(!t.signal.aborted)throw n}finally{e.destroy()}},Od=async(e,t,r)=>{try{await Je.finished(e,{cleanup:!0,readable:!0,writable:!1,error:!1})}catch(n){r.error=n}finally{t.abort()}},Je={};var ve=async(e,{init:t,convertChunk:r,getSize:n,truncateChunk:i,addChunk:s,getFinalChunk:o,finalize:u},{maxBuffer:a=Number.POSITIVE_INFINITY}={})=>{let c=wa(e),l=t();l.length=0;try{for await(let D of c){let f=Id(D),p=r[f](D,l);Ba({convertedChunk:p,state:l,getSize:n,truncateChunk:i,addChunk:s,maxBuffer:a})}return Rd({state:l,convertChunk:r,getSize:n,truncateChunk:i,addChunk:s,getFinalChunk:o,maxBuffer:a}),u(l)}catch(D){let f=typeof D=="object"&&D!==null?D:new Error(D);throw f.bufferedData=u(l),f}},Rd=({state:e,getSize:t,truncateChunk:r,addChunk:n,getFinalChunk:i,maxBuffer:s})=>{let o=i(e);o!==void 0&&Ba({convertedChunk:o,state:e,getSize:t,truncateChunk:r,addChunk:n,maxBuffer:s})},Ba=({convertedChunk:e,state:t,getSize:r,truncateChunk:n,addChunk:i,maxBuffer:s})=>{let o=r(e),u=t.length+o;if(u<=s){Sa(e,t,i,u);return}let a=n(e,s-t.length);throw a!==void 0&&Sa(a,t,i,s),new H},Sa=(e,t,r,n)=>{t.contents=r(e,t,n),t.length=n},Id=e=>{let t=typeof e;if(t==="string")return"string";if(t!=="object"||e===null)return"others";if(globalThis.Buffer?.isBuffer(e))return"buffer";let r=xa.call(e);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&xa.call(e.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:xa}=Object.prototype,H=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var ee=e=>e,Qe=()=>{},or=({contents:e})=>e,ir=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)},sr=e=>e.length;async function ur(e,t){return ve(e,_d,t)}var Md=()=>({contents:[]}),Pd=()=>1,Ld=(e,{contents:t})=>(t.push(e),t),_d={init:Md,convertChunk:{string:ee,buffer:ee,arrayBuffer:ee,dataView:ee,typedArray:ee,others:ee},getSize:Pd,truncateChunk:Qe,addChunk:Ld,getFinalChunk:Qe,finalize:or};async function ar(e,t){return ve(e,Yd,t)}var Nd=()=>({contents:new ArrayBuffer(0)}),kd=e=>jd.encode(e),jd=new TextEncoder,Aa=e=>new Uint8Array(e),Ta=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Ud=(e,t)=>e.slice(0,t),Gd=(e,{contents:t,length:r},n)=>{let i=Oa()?zd(t,n):Wd(t,n);return new Uint8Array(i).set(e,r),i},Wd=(e,t)=>{if(t<=e.byteLength)return e;let r=new ArrayBuffer(va(t));return new Uint8Array(r).set(new Uint8Array(e),0),r},zd=(e,t)=>{if(t<=e.maxByteLength)return e.resize(t),e;let r=new ArrayBuffer(t,{maxByteLength:va(t)});return new Uint8Array(r).set(new Uint8Array(e),0),r},va=e=>$a**Math.ceil(Math.log(e)/Math.log($a)),$a=2,Vd=({contents:e,length:t})=>Oa()?e:e.slice(0,t),Oa=()=>"resize"in ArrayBuffer.prototype,Yd={init:Nd,convertChunk:{string:kd,buffer:Aa,arrayBuffer:Aa,dataView:Ta,typedArray:Ta,others:ir},getSize:sr,truncateChunk:Ud,addChunk:Gd,getFinalChunk:Qe,finalize:Vd};async function lr(e,t){return ve(e,Xd,t)}var qd=()=>({contents:"",textDecoder:new TextDecoder}),cr=(e,{textDecoder:t})=>t.decode(e,{stream:!0}),Hd=(e,{contents:t})=>t+e,Kd=(e,t)=>e.slice(0,t),Zd=({textDecoder:e})=>{let t=e.decode();return t===""?void 0:t},Xd={init:qd,convertChunk:{string:ee,buffer:cr,arrayBuffer:cr,dataView:cr,typedArray:cr,others:ir},getSize:sr,truncateChunk:Kd,addChunk:Hd,getFinalChunk:Zd,finalize:or};Object.assign(Je,{on:Ra.on,finished:Ia.finished});var Ma=({error:e,stream:t,readableObjectMode:r,lines:n,encoding:i,fdNumber:s})=>{if(!(e instanceof H))throw e;if(s==="all")return e;let o=Jd(r,n,i);throw e.maxBufferInfo={fdNumber:s,unit:o},t.destroy(),e},Jd=(e,t,r)=>e?"objects":t?"lines":r==="buffer"?"bytes":"characters",Pa=(e,t,r)=>{if(t.length!==r)return;let n=new H;throw n.maxBufferInfo={fdNumber:"ipc"},n},La=(e,t)=>{let{streamName:r,threshold:n,unit:i}=Qd(e,t);return`Command's ${r} was larger than ${n} ${i}`},Qd=(e,t)=>{if(e?.maxBufferInfo===void 0)return{streamName:"output",threshold:t[1],unit:"bytes"};let{maxBufferInfo:{fdNumber:r,unit:n}}=e;delete e.maxBufferInfo;let i=Q(t,r);return r==="ipc"?{streamName:"IPC output",threshold:i,unit:"messages"}:{streamName:Tt(r),threshold:i,unit:n}},_a=(e,t,r)=>e?.code==="ENOBUFS"&&t!==null&&t.some(n=>n!==null&&n.length>Dr(r)),Na=(e,t,r)=>{if(!t)return e;let n=Dr(r);return e.length>n?e.slice(0,n):e},Dr=([,e])=>e;var Ua=({stdio:e,all:t,ipcOutput:r,originalError:n,signal:i,signalDescription:s,exitCode:o,escapedCommand:u,timedOut:a,isCanceled:c,isGracefullyCanceled:l,isMaxBuffer:D,isForcefullyTerminated:f,forceKillAfterDelay:p,killSignal:m,maxBuffer:g,timeout:B,cwd:b})=>{let T=n?.code,v=em({originalError:n,timedOut:a,timeout:B,isMaxBuffer:D,maxBuffer:g,errorCode:T,signal:i,signalDescription:s,exitCode:o,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:f,forceKillAfterDelay:p,killSignal:m}),M=rm(n,b),X=M===void 0?"":`
${M}`,re=`${v}: ${u}${X}`,le=t===void 0?[e[2],e[1]]:[t],ge=[re,...le,...e.slice(3),r.map(ne=>nm(ne)).join(`
`)].map(ne=>Ye($e(om(ne)))).filter(Boolean).join(`

`);return{originalMessage:M,shortMessage:re,message:ge}},em=({originalError:e,timedOut:t,timeout:r,isMaxBuffer:n,maxBuffer:i,errorCode:s,signal:o,signalDescription:u,exitCode:a,isCanceled:c,isGracefullyCanceled:l,isForcefullyTerminated:D,forceKillAfterDelay:f,killSignal:p})=>{let m=tm(D,f);return t?`Command timed out after ${r} milliseconds${m}`:l?o===void 0?`Command was gracefully canceled with exit code ${a}`:D?`Command was gracefully canceled${m}`:`Command was gracefully canceled with ${o} (${u})`:c?`Command was canceled${m}`:n?`${La(e,i)}${m}`:s!==void 0?`Command failed with ${s}${m}`:D?`Command was killed with ${p} (${Ut(p)})${m}`:o!==void 0?`Command was killed with ${o} (${u})`:a!==void 0?`Command failed with exit code ${a}`:"Command failed"},tm=(e,t)=>e?` and was forcefully terminated after ${t} milliseconds`:"",rm=(e,t)=>{if(e instanceof G)return;let r=Js(e)?e.originalMessage:String(e?.message??e),n=Ye(ha(r,t));return n===""?void 0:n},nm=e=>typeof e=="string"?e:(0,ja.inspect)(e),om=e=>Array.isArray(e)?e.map(t=>$e(ka(t))).filter(Boolean).join(`
`):ka(e),ka=e=>typeof e=="string"?e:A(e)?xt(e):"";var fr=({command:e,escapedCommand:t,stdio:r,all:n,ipcOutput:i,options:{cwd:s},startTime:o})=>Ga({command:e,escapedCommand:t,cwd:s,durationMs:fn(o),failed:!1,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isTerminated:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,exitCode:0,stdout:r[1],stderr:r[2],all:n,stdio:r,ipcOutput:i,pipedFrom:[]}),Oe=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,isSync:o})=>et({error:e,command:t,escapedCommand:r,startTime:s,timedOut:!1,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:!1,isForcefullyTerminated:!1,stdio:Array.from({length:n.length}),ipcOutput:[],options:i,isSync:o}),et=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:c,signal:l,stdio:D,all:f,ipcOutput:p,options:{timeoutDuration:m,timeout:g=m,forceKillAfterDelay:B,killSignal:b,cwd:T,maxBuffer:v},isSync:M})=>{let{exitCode:X,signal:re,signalDescription:le}=sm(c,l),{originalMessage:ge,shortMessage:ne,message:Nr}=Ua({stdio:D,all:f,ipcOutput:p,originalError:e,signal:re,signalDescription:le,exitCode:X,escapedCommand:r,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,forceKillAfterDelay:B,killSignal:b,maxBuffer:v,timeout:g,cwd:T}),Ne=Zs(e,Nr,M);return Object.assign(Ne,im({error:Ne,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:X,signal:re,signalDescription:le,stdio:D,all:f,ipcOutput:p,cwd:T,originalMessage:ge,shortMessage:ne})),Ne},im=({error:e,command:t,escapedCommand:r,startTime:n,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:c,signal:l,signalDescription:D,stdio:f,all:p,ipcOutput:m,cwd:g,originalMessage:B,shortMessage:b})=>Ga({shortMessage:b,originalMessage:B,command:t,escapedCommand:r,cwd:g,durationMs:fn(n),failed:!0,timedOut:i,isCanceled:s,isGracefullyCanceled:o,isTerminated:l!==void 0,isMaxBuffer:u,isForcefullyTerminated:a,exitCode:c,signal:l,signalDescription:D,code:e.cause?.code,stdout:f[1],stderr:f[2],all:p,stdio:f,ipcOutput:m,pipedFrom:[]}),Ga=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),sm=(e,t)=>{let r=e===null?void 0:e,n=t===null?void 0:t,i=n===void 0?void 0:Ut(t);return{exitCode:r,signal:n,signalDescription:i}};var Wa=e=>Number.isFinite(e)?e:0;function um(e){return{days:Math.trunc(e/864e5),hours:Math.trunc(e/36e5%24),minutes:Math.trunc(e/6e4%60),seconds:Math.trunc(e/1e3%60),milliseconds:Math.trunc(e%1e3),microseconds:Math.trunc(Wa(e*1e3)%1e3),nanoseconds:Math.trunc(Wa(e*1e6)%1e3)}}function am(e){return{days:e/86400000n,hours:e/3600000n%24n,minutes:e/60000n%60n,seconds:e/1000n%60n,milliseconds:e%1000n,microseconds:0n,nanoseconds:0n}}function Gn(e){switch(typeof e){case"number":{if(Number.isFinite(e))return um(e);break}case"bigint":return am(e)}throw new TypeError("Expected a finite number or bigint")}var cm=e=>e===0||e===0n,lm=(e,t)=>t===1||t===1n?e:`${e}s`,Dm=1e-7,fm=24n*60n*60n*1000n;function Wn(e,t){let r=typeof e=="bigint";if(!r&&!Number.isFinite(e))throw new TypeError("Expected a finite number or bigint");t={...t};let n=e<0?"-":"";e=e<0?-e:e,t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.unitCount=1,t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);let i=[],s=(l,D)=>{let f=Math.floor(l*10**D+Dm);return(Math.round(f)/10**D).toFixed(D)},o=(l,D,f,p)=>{if(!((i.length===0||!t.colonNotation)&&cm(l)&&!(t.colonNotation&&f==="m"))){if(p??=String(l),t.colonNotation){let m=p.includes(".")?p.split(".")[0].length:p.length,g=i.length>0?2:1;p="0".repeat(Math.max(0,g-m))+p}else p+=t.verbose?" "+lm(D,l):f;i.push(p)}},u=Gn(e),a=BigInt(u.days);if(o(a/365n,"year","y"),o(a%365n,"day","d"),o(Number(u.hours),"hour","h"),o(Number(u.minutes),"minute","m"),t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3){let l=Number(u.seconds),D=Number(u.milliseconds),f=Number(u.microseconds),p=Number(u.nanoseconds);if(o(l,"second","s"),t.formatSubMilliseconds)o(D,"millisecond","ms"),o(f,"microsecond","\xB5s"),o(p,"nanosecond","ns");else{let m=D+f/1e3+p/1e6,g=typeof t.millisecondsDecimalDigits=="number"?t.millisecondsDecimalDigits:0,B=m>=1?Math.round(m):Math.ceil(m),b=g?m.toFixed(g):B;o(Number.parseFloat(b),"millisecond","ms",b)}}else{let l=(r?Number(e%fm):e)/1e3%60,D=typeof t.secondsDecimalDigits=="number"?t.secondsDecimalDigits:1,f=s(l,D),p=t.keepDecimalsOnWholeSeconds?f:f.replace(/\.0+$/,"");o(Number.parseFloat(p),"second","s",p)}if(i.length===0)return n+"0"+(t.verbose?" milliseconds":"ms");let c=t.colonNotation?":":" ";return typeof t.unitCount=="number"&&(i=i.slice(0,Math.max(t.unitCount,1))),n+i.join(c)}var za=(e,t)=>{e.failed&&V({type:"error",verboseMessage:e.shortMessage,verboseInfo:t,result:e})};var Va=(e,t)=>{Ce(t)&&(za(e,t),pm(e,t))},pm=(e,t)=>{let r=`(done in ${Wn(e.durationMs)})`;V({type:"duration",verboseMessage:r,verboseInfo:t,result:e})};var Re=(e,t,{reject:r})=>{if(Va(e,t),e.failed&&r)throw e;return e};var Xn=require("node:fs");var Ha=(e,t)=>pe(e)?"asyncGenerator":Xa(e)?"generator":pr(e)?"fileUrl":bm(e)?"filePath":ym(e)?"webStream":z(e,{checkOpen:!1})?"native":A(e)?"uint8Array":Cm(e)?"asyncIterable":Fm(e)?"iterable":Yn(e)?Ka({transform:e},t):gm(e)?dm(e,t):"native",dm=(e,t)=>Nn(e.transform,{checkOpen:!1})?mm(e,t):Yn(e.transform)?Ka(e,t):hm(e,t),mm=(e,t)=>(Za(e,t,"Duplex stream"),"duplex"),Ka=(e,t)=>(Za(e,t,"web TransformStream"),"webTransform"),Za=({final:e,binary:t,objectMode:r},n,i)=>{Ya(e,`${n}.final`,i),Ya(t,`${n}.binary`,i),zn(r,`${n}.objectMode`)},Ya=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${t}\` option can only be defined when using a generator, not a ${r}.`)},hm=({transform:e,final:t,binary:r,objectMode:n},i)=>{if(e!==void 0&&!qa(e))throw new TypeError(`The \`${i}.transform\` option must be a generator, a Duplex stream or a web TransformStream.`);if(Nn(t,{checkOpen:!1}))throw new TypeError(`The \`${i}.final\` option must not be a Duplex stream.`);if(Yn(t))throw new TypeError(`The \`${i}.final\` option must not be a web TransformStream.`);if(t!==void 0&&!qa(t))throw new TypeError(`The \`${i}.final\` option must be a generator.`);return zn(r,`${i}.binary`),zn(n,`${i}.objectMode`),pe(e)||pe(t)?"asyncGenerator":"generator"},zn=(e,t)=>{if(e!==void 0&&typeof e!="boolean")throw new TypeError(`The \`${t}\` option must use a boolean.`)},qa=e=>pe(e)||Xa(e),pe=e=>Object.prototype.toString.call(e)==="[object AsyncGeneratorFunction]",Xa=e=>Object.prototype.toString.call(e)==="[object GeneratorFunction]",gm=e=>x(e)&&(e.transform!==void 0||e.final!==void 0),pr=e=>Object.prototype.toString.call(e)==="[object URL]",Ja=e=>pr(e)&&e.protocol!=="file:",bm=e=>x(e)&&Object.keys(e).length===1&&Vn(e.file),Vn=e=>typeof e=="string",Qa=(e,t)=>e==="native"&&typeof t=="string"&&!Em.has(t),Em=new Set(["ipc","ignore","inherit","overlapped","pipe"]),ec=e=>Object.prototype.toString.call(e)==="[object ReadableStream]",dr=e=>Object.prototype.toString.call(e)==="[object WritableStream]",ym=e=>ec(e)||dr(e),Yn=e=>ec(e?.readable)&&dr(e?.writable),Cm=e=>tc(e)&&typeof e[Symbol.asyncIterator]=="function",Fm=e=>tc(e)&&typeof e[Symbol.iterator]=="function",tc=e=>typeof e=="object"&&e!==null,k=new Set(["generator","asyncGenerator","duplex","webTransform"]),mr=new Set(["fileUrl","filePath","fileNumber"]),qn=new Set(["fileUrl","filePath"]),rc=new Set([...qn,"webStream","nodeStream"]),nc=new Set(["webTransform","duplex"]),ue={generator:"a generator",asyncGenerator:"an async generator",fileUrl:"a file URL",filePath:"a file path string",fileNumber:"a file descriptor number",webStream:"a web stream",nodeStream:"a Node.js stream",webTransform:"a web TransformStream",duplex:"a Duplex stream",native:"any value",iterable:"an iterable",asyncIterable:"an async iterable",string:"a string",uint8Array:"a Uint8Array"};var Hn=(e,t,r,n)=>n==="output"?wm(e,t,r):Sm(e,t,r),wm=(e,t,r)=>{let n=t!==0&&r[t-1].value.readableObjectMode;return{writableObjectMode:n,readableObjectMode:e??n}},Sm=(e,t,r)=>{let n=t===0?e===!0:r[t-1].value.readableObjectMode,i=t!==r.length-1&&(e??n);return{writableObjectMode:n,readableObjectMode:i}},oc=(e,t)=>{let r=e.findLast(({type:n})=>k.has(n));return r===void 0?!1:t==="input"?r.value.writableObjectMode:r.value.readableObjectMode};var ic=(e,t,r,n)=>[...e.filter(({type:i})=>!k.has(i)),...xm(e,t,r,n)],xm=(e,t,r,{encoding:n})=>{let i=e.filter(({type:o})=>k.has(o)),s=Array.from({length:i.length});for(let[o,u]of Object.entries(i))s[o]=Bm({stdioItem:u,index:Number(o),newTransforms:s,optionName:t,direction:r,encoding:n});return vm(s,r)},Bm=({stdioItem:e,stdioItem:{type:t},index:r,newTransforms:n,optionName:i,direction:s,encoding:o})=>t==="duplex"?Am({stdioItem:e,optionName:i}):t==="webTransform"?Tm({stdioItem:e,index:r,newTransforms:n,direction:s}):$m({stdioItem:e,index:r,newTransforms:n,direction:s,encoding:o}),Am=({stdioItem:e,stdioItem:{value:{transform:t,transform:{writableObjectMode:r,readableObjectMode:n},objectMode:i=n}},optionName:s})=>{if(i&&!n)throw new TypeError(`The \`${s}.objectMode\` option can only be \`true\` if \`new Duplex({objectMode: true})\` is used.`);if(!i&&n)throw new TypeError(`The \`${s}.objectMode\` option cannot be \`false\` if \`new Duplex({objectMode: true})\` is used.`);return{...e,value:{transform:t,writableObjectMode:r,readableObjectMode:n}}},Tm=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:i})=>{let{transform:s,objectMode:o}=x(t)?t:{transform:t},{writableObjectMode:u,readableObjectMode:a}=Hn(o,r,n,i);return{...e,value:{transform:s,writableObjectMode:u,readableObjectMode:a}}},$m=({stdioItem:e,stdioItem:{value:t},index:r,newTransforms:n,direction:i,encoding:s})=>{let{transform:o,final:u,binary:a=!1,preserveNewlines:c=!1,objectMode:l}=x(t)?t:{transform:t},D=a||I.has(s),{writableObjectMode:f,readableObjectMode:p}=Hn(l,r,n,i);return{...e,value:{transform:o,final:u,binary:D,preserveNewlines:c,writableObjectMode:f,readableObjectMode:p}}},vm=(e,t)=>t==="input"?e.reverse():e;var hr=E(require("node:process"),1);var sc=(e,t,r)=>{let n=e.map(i=>Om(i,t));if(n.includes("input")&&n.includes("output"))throw new TypeError(`The \`${r}\` option must not be an array of both readable and writable values.`);return n.find(Boolean)??Mm},Om=({type:e,value:t},r)=>Rm[r]??uc[e](t),Rm=["input","output","output"],Ie=()=>{},Kn=()=>"input",uc={generator:Ie,asyncGenerator:Ie,fileUrl:Ie,filePath:Ie,iterable:Kn,asyncIterable:Kn,uint8Array:Kn,webStream:e=>dr(e)?"output":"input",nodeStream(e){return fe(e,{checkOpen:!1})?_n(e,{checkOpen:!1})?void 0:"input":"output"},webTransform:Ie,duplex:Ie,native(e){let t=Im(e);if(t!==void 0)return t;if(z(e,{checkOpen:!1}))return uc.nodeStream(e)}},Im=e=>{if([0,hr.default.stdin].includes(e))return"input";if([1,2,hr.default.stdout,hr.default.stderr].includes(e))return"output"},Mm="output";var ac=(e,t)=>t&&!e.includes("ipc")?[...e,"ipc"]:e;var cc=({stdio:e,ipc:t,buffer:r,...n},i,s)=>{let o=Pm(e,n).map((u,a)=>lc(u,a));return s?_m(o,r,i):ac(o,t)},Pm=(e,t)=>{if(e===void 0)return N.map(n=>t[n]);if(Lm(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${N.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return[e,e,e];if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,N.length);return Array.from({length:r},(n,i)=>e[i])},Lm=e=>N.some(t=>e[t]!==void 0),lc=(e,t)=>Array.isArray(e)?e.map(r=>lc(r,t)):e??(t>=N.length?"ignore":"pipe"),_m=(e,t,r)=>e.map((n,i)=>!t[i]&&i!==0&&!Fe(r,i)&&Nm(n)?"ignore":n),Nm=e=>e==="pipe"||Array.isArray(e)&&e.every(t=>t==="pipe");var fc=require("node:fs"),pc=E(require("node:tty"),1);var dc=({stdioItem:e,stdioItem:{type:t},isStdioArray:r,fdNumber:n,direction:i,isSync:s})=>!r||t!=="native"?e:s?km({stdioItem:e,fdNumber:n,direction:i}):Gm({stdioItem:e,fdNumber:n}),km=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n,direction:i})=>{let s=jm({value:t,optionName:r,fdNumber:n,direction:i});if(s!==void 0)return s;if(z(t,{checkOpen:!1}))throw new TypeError(`The \`${r}: Stream\` option cannot both be an array and include a stream with synchronous methods.`);return e},jm=({value:e,optionName:t,fdNumber:r,direction:n})=>{let i=Um(e,r);if(i!==void 0){if(n==="output")return{type:"fileNumber",value:i,optionName:t};if(pc.default.isatty(i))throw new TypeError(`The \`${t}: ${zt(e)}\` option is invalid: it cannot be a TTY with synchronous methods.`);return{type:"uint8Array",value:J((0,fc.readFileSync)(i)),optionName:t}}},Um=(e,t)=>{if(e==="inherit")return t;if(typeof e=="number")return e;let r=At.indexOf(e);if(r!==-1)return r},Gm=({stdioItem:e,stdioItem:{value:t,optionName:r},fdNumber:n})=>t==="inherit"?{type:"nodeStream",value:Dc(n,t,r),optionName:r}:typeof t=="number"?{type:"nodeStream",value:Dc(t,t,r),optionName:r}:z(t,{checkOpen:!1})?{type:"nodeStream",value:t,optionName:r}:e,Dc=(e,t,r)=>{let n=At[e];if(n===void 0)throw new TypeError(`The \`${r}: ${t}\` option is invalid: no such standard stream.`);return n};var mc=({input:e,inputFile:t},r)=>r===0?[...Wm(e),...Vm(t)]:[],Wm=e=>e===void 0?[]:[{type:zm(e),value:e,optionName:"input"}],zm=e=>{if(fe(e,{checkOpen:!1}))return"nodeStream";if(typeof e=="string")return"string";if(A(e))return"uint8Array";throw new Error("The `input` option must be a string, a Uint8Array or a Node.js Readable stream.")},Vm=e=>e===void 0?[]:[{...Ym(e),optionName:"inputFile"}],Ym=e=>{if(pr(e))return{type:"fileUrl",value:e};if(Vn(e))return{type:"filePath",value:{file:e}};throw new Error("The `inputFile` option must be a file path string or a file URL.")};var hc=e=>e.filter((t,r)=>e.every((n,i)=>t.value!==n.value||r>=i||t.type==="generator"||t.type==="asyncGenerator")),gc=({stdioItem:{type:e,value:t,optionName:r},direction:n,fileDescriptors:i,isSync:s})=>{let o=qm(i,e);if(o.length!==0){if(s){Hm({otherStdioItems:o,type:e,value:t,optionName:r,direction:n});return}if(rc.has(e))return bc({otherStdioItems:o,type:e,value:t,optionName:r,direction:n});nc.has(e)&&Zm({otherStdioItems:o,type:e,value:t,optionName:r})}},qm=(e,t)=>e.flatMap(({direction:r,stdioItems:n})=>n.filter(i=>i.type===t).map(i=>({...i,direction:r}))),Hm=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{qn.has(t)&&bc({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})},bc=({otherStdioItems:e,type:t,value:r,optionName:n,direction:i})=>{let s=e.filter(u=>Km(u,r));if(s.length===0)return;let o=s.find(u=>u.direction!==i);return Ec(o,n,t),i==="output"?s[0].stream:void 0},Km=({type:e,value:t},r)=>e==="filePath"?t.file===r.file:e==="fileUrl"?t.href===r.href:t===r,Zm=({otherStdioItems:e,type:t,value:r,optionName:n})=>{let i=e.find(({value:{transform:s}})=>s===r.transform);Ec(i,n,t)},Ec=(e,t,r)=>{if(e!==void 0)throw new TypeError(`The \`${e.optionName}\` and \`${t}\` options must not target ${ue[r]} that is the same.`)};var gr=(e,t,r,n)=>{let s=cc(t,r,n).map((u,a)=>Xm({stdioOption:u,fdNumber:a,options:t,isSync:n})),o=ih({initialFileDescriptors:s,addProperties:e,options:t,isSync:n});return t.stdio=o.map(({stdioItems:u})=>ah(u)),o},Xm=({stdioOption:e,fdNumber:t,options:r,isSync:n})=>{let i=Tt(t),{stdioItems:s,isStdioArray:o}=Jm({stdioOption:e,fdNumber:t,options:r,optionName:i}),u=sc(s,t,i),a=s.map(D=>dc({stdioItem:D,isStdioArray:o,fdNumber:t,direction:u,isSync:n})),c=ic(a,i,u,r),l=oc(c,u);return oh(c,l),{direction:u,objectMode:l,stdioItems:c}},Jm=({stdioOption:e,fdNumber:t,options:r,optionName:n})=>{let s=[...(Array.isArray(e)?e:[e]).map(a=>Qm(a,n)),...mc(r,t)],o=hc(s),u=o.length>1;return eh(o,u,n),rh(o),{stdioItems:o,isStdioArray:u}},Qm=(e,t)=>({type:Ha(e,t),value:e,optionName:t}),eh=(e,t,r)=>{if(e.length===0)throw new TypeError(`The \`${r}\` option must not be an empty array.`);if(t){for(let{value:n,optionName:i}of e)if(th.has(n))throw new Error(`The \`${i}\` option must not include \`${n}\`.`)}},th=new Set(["ignore","ipc"]),rh=e=>{for(let t of e)nh(t)},nh=({type:e,value:t,optionName:r})=>{if(Ja(t))throw new TypeError(`The \`${r}: URL\` option must use the \`file:\` scheme.
For example, you can use the \`pathToFileURL()\` method of the \`url\` core module.`);if(Qa(e,t))throw new TypeError(`The \`${r}: { file: '...' }\` option must be used instead of \`${r}: '...'\`.`)},oh=(e,t)=>{if(!t)return;let r=e.find(({type:n})=>mr.has(n));if(r!==void 0)throw new TypeError(`The \`${r.optionName}\` option cannot use both files and transforms in objectMode.`)},ih=({initialFileDescriptors:e,addProperties:t,options:r,isSync:n})=>{let i=[];try{for(let s of e)i.push(sh({fileDescriptor:s,fileDescriptors:i,addProperties:t,options:r,isSync:n}));return i}catch(s){throw Zn(i),s}},sh=({fileDescriptor:{direction:e,objectMode:t,stdioItems:r},fileDescriptors:n,addProperties:i,options:s,isSync:o})=>{let u=r.map(a=>uh({stdioItem:a,addProperties:i,direction:e,options:s,fileDescriptors:n,isSync:o}));return{direction:e,objectMode:t,stdioItems:u}},uh=({stdioItem:e,addProperties:t,direction:r,options:n,fileDescriptors:i,isSync:s})=>{let o=gc({stdioItem:e,direction:r,fileDescriptors:i,isSync:s});return o!==void 0?{...e,stream:o}:{...e,...t[r][e.type](e,n)}},Zn=e=>{for(let{stdioItems:t}of e)for(let{stream:r}of t)r!==void 0&&!U(r)&&r.destroy()},ah=e=>{if(e.length>1)return e.some(({value:n})=>n==="overlapped")?"overlapped":"pipe";let[{type:t,value:r}]=e;return t==="native"?r:"pipe"};var Cc=(e,t)=>gr(lh,e,t,!0),K=({type:e,optionName:t})=>{Fc(t,ue[e])},ch=({optionName:e,value:t})=>((t==="ipc"||t==="overlapped")&&Fc(e,`"${t}"`),{}),Fc=(e,t)=>{throw new TypeError(`The \`${e}\` option cannot be ${t} with synchronous methods.`)},yc={generator(){},asyncGenerator:K,webStream:K,nodeStream:K,webTransform:K,duplex:K,asyncIterable:K,native:ch},lh={input:{...yc,fileUrl:({value:e})=>({contents:[J((0,Xn.readFileSync)(e))]}),filePath:({value:{file:e}})=>({contents:[J((0,Xn.readFileSync)(e))]}),fileNumber:K,iterable:({value:e})=>({contents:[...e]}),string:({value:e})=>({contents:[e]}),uint8Array:({value:e})=>({contents:[e]})},output:{...yc,fileUrl:({value:e})=>({path:e}),filePath:({value:{file:e}})=>({path:e}),fileNumber:({value:e})=>({path:e}),iterable:K,string:K,uint8Array:K}};var te=(e,{stripFinalNewline:t},r)=>Jn(t,r)&&e!==void 0&&!Array.isArray(e)?$e(e):e,Jn=(e,t)=>t==="all"?e[1]||e[2]:e[t];var rt=require("node:stream");var br=(e,t,r,n)=>e||r?void 0:Sc(t,n),eo=(e,t,r)=>r?e.flatMap(n=>wc(n,t)):wc(e,t),wc=(e,t)=>{let{transform:r,final:n}=Sc(t,{});return[...r(e),...n()]},Sc=(e,t)=>(t.previousChunks="",{transform:Dh.bind(void 0,t,e),final:ph.bind(void 0,t)}),Dh=function*(e,t,r){if(typeof r!="string"){yield r;return}let{previousChunks:n}=e,i=-1;for(let s=0;s<r.length;s+=1)if(r[s]===`
`){let o=fh(r,s,t,e),u=r.slice(i+1,s+1-o);n.length>0&&(u=Qn(n,u),n=""),yield u,i=s}i!==r.length-1&&(n=Qn(n,r.slice(i+1))),e.previousChunks=n},fh=(e,t,r,n)=>r?0:(n.isWindowsNewline=t!==0&&e[t-1]==="\r",n.isWindowsNewline?2:1),ph=function*({previousChunks:e}){e.length>0&&(yield e)},xc=({binary:e,preserveNewlines:t,readableObjectMode:r,state:n})=>e||t||r?void 0:{transform:dh.bind(void 0,n)},dh=function*({isWindowsNewline:e=!1},t){let{unixNewline:r,windowsNewline:n,LF:i,concatBytes:s}=typeof t=="string"?mh:gh;if(t.at(-1)===i){yield t;return}yield s(t,e?n:r)},Qn=(e,t)=>`${e}${t}`,mh={windowsNewline:`\r
`,unixNewline:`
`,LF:`
`,concatBytes:Qn},hh=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r},gh={windowsNewline:new Uint8Array([13,10]),unixNewline:new Uint8Array([10]),LF:10,concatBytes:hh};var Bc=require("node:buffer");var Ac=(e,t)=>e?void 0:bh.bind(void 0,t),bh=function*(e,t){if(typeof t!="string"&&!A(t)&&!Bc.Buffer.isBuffer(t))throw new TypeError(`The \`${e}\` option's transform must use "objectMode: true" to receive as input: ${typeof t}.`);yield t},Tc=(e,t)=>e?Eh.bind(void 0,t):yh.bind(void 0,t),Eh=function*(e,t){$c(e,t),yield t},yh=function*(e,t){if($c(e,t),typeof t!="string"&&!A(t))throw new TypeError(`The \`${e}\` option's function must yield a string or an Uint8Array, not ${typeof t}.`);yield t},$c=(e,t)=>{if(t==null)throw new TypeError(`The \`${e}\` option's function must not call \`yield ${t}\`.
Instead, \`yield\` should either be called with a value, or not be called at all. For example:
  if (condition) { yield value; }`)};var vc=require("node:buffer"),Oc=require("node:string_decoder");var Er=(e,t,r)=>{if(r)return;if(e)return{transform:Ch.bind(void 0,new TextEncoder)};let n=new Oc.StringDecoder(t);return{transform:Fh.bind(void 0,n),final:wh.bind(void 0,n)}},Ch=function*(e,t){vc.Buffer.isBuffer(t)?yield J(t):typeof t=="string"?yield e.encode(t):yield t},Fh=function*(e,t){yield A(t)?e.write(t):t},wh=function*(e){let t=e.end();t!==""&&(yield t)};var to=require("node:util"),ro=(0,to.callbackify)(async(e,t,r,n)=>{t.currentIterable=e(...r);try{for await(let i of t.currentIterable)n.push(i)}finally{delete t.currentIterable}}),yr=async function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=xh}=t[r];for await(let i of n(e))yield*yr(i,t,r+1)},Rc=async function*(e){for(let[t,{final:r}]of Object.entries(e))yield*Sh(r,Number(t),e)},Sh=async function*(e,t,r){if(e!==void 0)for await(let n of e())yield*yr(n,r,t+1)},Ic=(0,to.callbackify)(async({currentIterable:e},t)=>{if(e!==void 0){await(t?e.throw(t):e.return());return}if(t)throw t}),xh=function*(e){yield e};var no=(e,t,r,n)=>{try{for(let i of e(...t))r.push(i);n()}catch(i){n(i)}},Mc=(e,t)=>[...t.flatMap(r=>[...de(r,e,0)]),...tt(e)],de=function*(e,t,r){if(r===t.length){yield e;return}let{transform:n=Ah}=t[r];for(let i of n(e))yield*de(i,t,r+1)},tt=function*(e){for(let[t,{final:r}]of Object.entries(e))yield*Bh(r,Number(t),e)},Bh=function*(e,t,r){if(e!==void 0)for(let n of e())yield*de(n,r,t+1)},Ah=function*(e){yield e};var oo=({value:e,value:{transform:t,final:r,writableObjectMode:n,readableObjectMode:i},optionName:s},{encoding:o})=>{let u={},a=Pc(e,o,s),c=pe(t),l=pe(r),D=c?ro.bind(void 0,yr,u):no.bind(void 0,de),f=c||l?ro.bind(void 0,Rc,u):no.bind(void 0,tt),p=c||l?Ic.bind(void 0,u):void 0;return{stream:new rt.Transform({writableObjectMode:n,writableHighWaterMark:(0,rt.getDefaultHighWaterMark)(n),readableObjectMode:i,readableHighWaterMark:(0,rt.getDefaultHighWaterMark)(i),transform(g,B,b){D([g,a,0],this,b)},flush(g){f([a],this,g)},destroy:p})}},Cr=(e,t,r,n)=>{let i=t.filter(({type:o})=>o==="generator"),s=n?i.reverse():i;for(let{value:o,optionName:u}of s){let a=Pc(o,r,u);e=Mc(a,e)}return e},Pc=({transform:e,final:t,binary:r,writableObjectMode:n,readableObjectMode:i,preserveNewlines:s},o,u)=>{let a={};return[{transform:Ac(n,u)},Er(r,o,n),br(r,s,n,a),{transform:e,final:t},{transform:Tc(i,u)},xc({binary:r,preserveNewlines:s,readableObjectMode:i,state:a})].filter(Boolean)};var Lc=(e,t)=>{for(let r of Th(e))$h(e,r,t)},Th=e=>new Set(Object.entries(e).filter(([,{direction:t}])=>t==="input").map(([t])=>Number(t))),$h=(e,t,r)=>{let{stdioItems:n}=e[t],i=n.filter(({contents:u})=>u!==void 0);if(i.length===0)return;if(t!==0){let[{type:u,optionName:a}]=i;throw new TypeError(`Only the \`stdin\` option, not \`${a}\`, can be ${ue[u]} with synchronous methods.`)}let o=i.map(({contents:u})=>u).map(u=>vh(u,n));r.input=Ve(o)},vh=(e,t)=>{let r=Cr(e,t,"utf8",!0);return Oh(r),Ve(r)},Oh=e=>{let t=e.find(r=>typeof r!="string"&&!A(r));if(t!==void 0)throw new TypeError(`The \`stdin\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${t}.`)};var wr=require("node:fs");var Fr=({stdioItems:e,encoding:t,verboseInfo:r,fdNumber:n})=>n!=="all"&&Fe(r,n)&&!I.has(t)&&Rh(n)&&(e.some(({type:i,value:s})=>i==="native"&&Ih.has(s))||e.every(({type:i})=>k.has(i))),Rh=e=>e===1||e===2,Ih=new Set(["pipe","overlapped"]),_c=async(e,t,r,n)=>{for await(let i of e)Mh(t)||kc(i,r,n)},Nc=(e,t,r)=>{for(let n of e)kc(n,t,r)},Mh=e=>e._readableState.pipes.length>0,kc=(e,t,r)=>{let n=Mt(e);V({type:"output",verboseMessage:n,fdNumber:t,verboseInfo:r})};var jc=({fileDescriptors:e,syncResult:{output:t},options:r,isMaxBuffer:n,verboseInfo:i})=>{if(t===null)return{output:Array.from({length:3})};let s={},o=new Set([]);return{output:t.map((a,c)=>Ph({result:a,fileDescriptors:e,fdNumber:c,state:s,outputFiles:o,isMaxBuffer:n,verboseInfo:i},r)),...s}},Ph=({result:e,fileDescriptors:t,fdNumber:r,state:n,outputFiles:i,isMaxBuffer:s,verboseInfo:o},{buffer:u,encoding:a,lines:c,stripFinalNewline:l,maxBuffer:D})=>{if(e===null)return;let f=Na(e,s,D),p=J(f),{stdioItems:m,objectMode:g}=t[r],B=Lh([p],m,a,n),{serializedResult:b,finalResult:T=b}=_h({chunks:B,objectMode:g,encoding:a,lines:c,stripFinalNewline:l,fdNumber:r});Nh({serializedResult:b,fdNumber:r,state:n,verboseInfo:o,encoding:a,stdioItems:m,objectMode:g});let v=u[r]?T:void 0;try{return n.error===void 0&&kh(b,m,i),v}catch(M){return n.error=M,v}},Lh=(e,t,r,n)=>{try{return Cr(e,t,r,!1)}catch(i){return n.error=i,e}},_h=({chunks:e,objectMode:t,encoding:r,lines:n,stripFinalNewline:i,fdNumber:s})=>{if(t)return{serializedResult:e};if(r==="buffer")return{serializedResult:Ve(e)};let o=$i(e,r);return n[s]?{serializedResult:o,finalResult:eo(o,!i[s],t)}:{serializedResult:o}},Nh=({serializedResult:e,fdNumber:t,state:r,verboseInfo:n,encoding:i,stdioItems:s,objectMode:o})=>{if(!Fr({stdioItems:s,encoding:i,verboseInfo:n,fdNumber:t}))return;let u=eo(e,!1,o);try{Nc(u,t,n)}catch(a){r.error??=a}},kh=(e,t,r)=>{for(let{path:n}of t.filter(({type:i})=>mr.has(i))){let i=typeof n=="string"?n:n.toString();r.has(i)?(0,wr.appendFileSync)(n,e):(r.add(i),(0,wr.writeFileSync)(n,e))}};var Uc=([,e,t],r)=>{if(r.all)return e===void 0?t:t===void 0?e:Array.isArray(e)?Array.isArray(t)?[...e,...t]:[...e,te(t,r,"all")]:Array.isArray(t)?[te(e,r,"all"),...t]:A(e)&&A(t)?nn([e,t]):`${e}${t}`};var Sr=require("node:events");var Gc=async(e,t)=>{let[r,n]=await jh(e);return t.isForcefullyTerminated??=!1,[r,n]},jh=async e=>{let[t,r]=await Promise.allSettled([(0,Sr.once)(e,"spawn"),(0,Sr.once)(e,"exit")]);return t.status==="rejected"?[]:r.status==="rejected"?Wc(e):r.value},Wc=async e=>{try{return await(0,Sr.once)(e,"exit")}catch{return Wc(e)}},zc=async e=>{let[t,r]=await e;if(!Uh(t,r)&&io(t,r))throw new G;return[t,r]},Uh=(e,t)=>e===void 0&&t===void 0,io=(e,t)=>e!==0||t!==null;var Vc=({error:e,status:t,signal:r,output:n},{maxBuffer:i})=>{let s=Gh(e,t,r),o=s?.code==="ETIMEDOUT",u=_a(s,n,i);return{resultError:s,exitCode:t,signal:r,timedOut:o,isMaxBuffer:u}},Gh=(e,t,r)=>e!==void 0?e:io(t,r)?new G:void 0;var qc=(e,t,r)=>{let{file:n,commandArguments:i,command:s,escapedCommand:o,startTime:u,verboseInfo:a,options:c,fileDescriptors:l}=Wh(e,t,r),D=Yh({file:n,commandArguments:i,options:c,command:s,escapedCommand:o,verboseInfo:a,fileDescriptors:l,startTime:u});return Re(D,a,c)},Wh=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:s,verboseInfo:o}=Lt(e,t,r),u=zh(r),{file:a,commandArguments:c,options:l}=nr(e,t,u);Vh(l);let D=Cc(l,o);return{file:a,commandArguments:c,command:n,escapedCommand:i,startTime:s,verboseInfo:o,options:l,fileDescriptors:D}},zh=e=>e.node&&!e.ipc?{...e,ipc:!1}:e,Vh=({ipc:e,ipcInput:t,detached:r,cancelSignal:n})=>{t&&xr("ipcInput"),e&&xr("ipc: true"),r&&xr("detached: true"),n&&xr("cancelSignal")},xr=e=>{throw new TypeError(`The "${e}" option cannot be used with synchronous methods.`)},Yh=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,verboseInfo:s,fileDescriptors:o,startTime:u})=>{let a=qh({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:o,startTime:u});if(a.failed)return a;let{resultError:c,exitCode:l,signal:D,timedOut:f,isMaxBuffer:p}=Vc(a,r),{output:m,error:g=c}=jc({fileDescriptors:o,syncResult:a,options:r,isMaxBuffer:p,verboseInfo:s}),B=m.map((T,v)=>te(T,r,v)),b=te(Uc(m,r),r,"all");return Kh({error:g,exitCode:l,signal:D,timedOut:f,isMaxBuffer:p,stdio:B,all:b,options:r,command:n,escapedCommand:i,startTime:u})},qh=({file:e,commandArguments:t,options:r,command:n,escapedCommand:i,fileDescriptors:s,startTime:o})=>{try{Lc(s,r);let u=Hh(r);return(0,Yc.spawnSync)(e,t,u)}catch(u){return Oe({error:u,command:n,escapedCommand:i,fileDescriptors:s,options:r,startTime:o,isSync:!0})}},Hh=({encoding:e,maxBuffer:t,...r})=>({...r,encoding:"buffer",maxBuffer:Dr(t)}),Kh=({error:e,exitCode:t,signal:r,timedOut:n,isMaxBuffer:i,stdio:s,all:o,options:u,command:a,escapedCommand:c,startTime:l})=>e===void 0?fr({command:a,escapedCommand:c,stdio:s,all:o,ipcOutput:[],options:u,startTime:l}):et({error:e,command:a,escapedCommand:c,timedOut:n,isCanceled:!1,isGracefullyCanceled:!1,isMaxBuffer:i,isForcefullyTerminated:!1,exitCode:t,signal:r,stdio:s,all:o,ipcOutput:[],options:u,startTime:l,isSync:!0});var tD=require("node:events"),rD=require("node:child_process");var uo=E(require("node:process"),1);var Me=require("node:events");var Hc=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0,filter:s}={})=>(Be({methodName:"getOneMessage",isSubprocess:r,ipc:n,isConnected:Zt(e)}),Zh({anyProcess:e,channel:t,isSubprocess:r,filter:s,reference:i})),Zh=async({anyProcess:e,channel:t,isSubprocess:r,filter:n,reference:i})=>{Yt(t,i);let s=se(e,t,r),o=new AbortController;try{return await Promise.race([Xh(s,n,o),Jh(s,r,o),Qh(s,r,o)])}catch(u){throw Ae(e),u}finally{o.abort(),qt(t,i)}},Xh=async(e,t,{signal:r})=>{if(t===void 0){let[n]=await(0,Me.once)(e,"message",{signal:r});return n}for await(let[n]of(0,Me.on)(e,"message",{signal:r}))if(t(n))return n},Jh=async(e,t,{signal:r})=>{await(0,Me.once)(e,"disconnect",{signal:r}),gu(t)},Qh=async(e,t,{signal:r})=>{let[n]=await(0,Me.once)(e,"strict:error",{signal:r});throw Wt(n,t)};var nt=require("node:events");var Zc=({anyProcess:e,channel:t,isSubprocess:r,ipc:n},{reference:i=!0}={})=>so({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:!r,reference:i}),so=({anyProcess:e,channel:t,isSubprocess:r,ipc:n,shouldAwait:i,reference:s})=>{Be({methodName:"getEachMessage",isSubprocess:r,ipc:n,isConnected:Zt(e)}),Yt(t,s);let o=se(e,t,r),u=new AbortController,a={};return eg(e,o,u),tg({ipcEmitter:o,isSubprocess:r,controller:u,state:a}),rg({anyProcess:e,channel:t,ipcEmitter:o,isSubprocess:r,shouldAwait:i,controller:u,state:a,reference:s})},eg=async(e,t,r)=>{try{await(0,nt.once)(t,"disconnect",{signal:r.signal}),r.abort()}catch{}},tg=async({ipcEmitter:e,isSubprocess:t,controller:r,state:n})=>{try{let[i]=await(0,nt.once)(e,"strict:error",{signal:r.signal});n.error=Wt(i,t),r.abort()}catch{}},rg=async function*({anyProcess:e,channel:t,ipcEmitter:r,isSubprocess:n,shouldAwait:i,controller:s,state:o,reference:u}){try{for await(let[a]of(0,nt.on)(r,"message",{signal:s.signal}))Kc(o),yield a}catch{Kc(o)}finally{s.abort(),qt(t,u),n||Ae(e),i&&await e}},Kc=({error:e})=>{if(e)throw e};var Xc=(e,{ipc:t})=>{Object.assign(e,Qc(e,!1,t))},Jc=()=>{let e=uo.default,t=!0,r=uo.default.channel!==void 0;return{...Qc(e,t,r),getCancelSignal:Xu.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})}},Qc=(e,t,r)=>({sendMessage:er.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getOneMessage:Hc.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r}),getEachMessage:Zc.bind(void 0,{anyProcess:e,channel:e.channel,isSubprocess:t,ipc:r})});var el=require("node:child_process"),ae=require("node:stream");var tl=({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,verboseInfo:o})=>{Zn(n);let u=new el.ChildProcess;ng(u,n),Object.assign(u,{readable:og,writable:ig,duplex:sg});let a=Oe({error:e,command:t,escapedCommand:r,fileDescriptors:n,options:i,startTime:s,isSync:!1}),c=ug(a,o,i);return{subprocess:u,promise:c}},ng=(e,t)=>{let r=ot(),n=ot(),i=ot(),s=Array.from({length:t.length-3},ot),o=ot(),u=[r,n,i,...s];Object.assign(e,{stdin:r,stdout:n,stderr:i,all:o,stdio:u})},ot=()=>{let e=new ae.PassThrough;return e.end(),e},og=()=>new ae.Readable({read(){}}),ig=()=>new ae.Writable({write(){}}),sg=()=>new ae.Duplex({read(){},write(){}}),ug=async(e,t,r)=>Re(e,t,r);var Pe=require("node:fs"),nl=require("node:buffer"),Z=require("node:stream");var ol=(e,t)=>gr(ag,e,t,!1),it=({type:e,optionName:t})=>{throw new TypeError(`The \`${t}\` option cannot be ${ue[e]}.`)},rl={fileNumber:it,generator:oo,asyncGenerator:oo,nodeStream:({value:e})=>({stream:e}),webTransform({value:{transform:e,writableObjectMode:t,readableObjectMode:r}}){let n=t||r;return{stream:Z.Duplex.fromWeb(e,{objectMode:n})}},duplex:({value:{transform:e}})=>({stream:e}),native(){}},ag={input:{...rl,fileUrl:({value:e})=>({stream:(0,Pe.createReadStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,Pe.createReadStream)(e)}),webStream:({value:e})=>({stream:Z.Readable.fromWeb(e)}),iterable:({value:e})=>({stream:Z.Readable.from(e)}),asyncIterable:({value:e})=>({stream:Z.Readable.from(e)}),string:({value:e})=>({stream:Z.Readable.from(e)}),uint8Array:({value:e})=>({stream:Z.Readable.from(nl.Buffer.from(e))})},output:{...rl,fileUrl:({value:e})=>({stream:(0,Pe.createWriteStream)(e)}),filePath:({value:{file:e}})=>({stream:(0,Pe.createWriteStream)(e)}),webStream:({value:e})=>({stream:Z.Writable.fromWeb(e)}),iterable:it,asyncIterable:it,string:it,uint8Array:it}};var st=require("node:events"),Ar=require("node:stream"),lo=require("node:stream/promises");function me(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let i of e)co(i);let t=e.some(({readableObjectMode:i})=>i),r=cg(e,t),n=new ao({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let i of e)n.add(i);return n}var cg=(e,t)=>{if(e.length===0)return(0,Ar.getDefaultHighWaterMark)(t);let r=e.filter(({readableObjectMode:n})=>n===t).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},ao=class extends Ar.PassThrough{#t=new Set([]);#r=new Set([]);#e=new Set([]);#n;#i=Symbol("unpipe");#o=new WeakMap;add(t){if(co(t),this.#t.has(t))return;this.#t.add(t),this.#n??=lg(this,this.#t,this.#i);let r=pg({passThroughStream:this,stream:t,streams:this.#t,ended:this.#r,aborted:this.#e,onFinished:this.#n,unpipeEvent:this.#i});this.#o.set(t,r),t.pipe(this,{end:!1})}async remove(t){if(co(t),!this.#t.has(t))return!1;let r=this.#o.get(t);return r===void 0?!1:(this.#o.delete(t),t.unpipe(this),await r,!0)}},lg=async(e,t,r)=>{Br(e,il);let n=new AbortController;try{await Promise.race([Dg(e,n),fg(e,t,r,n)])}finally{n.abort(),Br(e,-il)}},Dg=async(e,{signal:t})=>{try{await(0,lo.finished)(e,{signal:t,cleanup:!0})}catch(r){throw ul(e,r),r}},fg=async(e,t,r,{signal:n})=>{for await(let[i]of(0,st.on)(e,"unpipe",{signal:n}))t.has(i)&&i.emit(r)},co=e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},pg=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,onFinished:s,unpipeEvent:o})=>{Br(e,sl);let u=new AbortController;try{await Promise.race([dg(s,t,u),mg({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:u}),hg({stream:t,streams:r,ended:n,aborted:i,unpipeEvent:o,controller:u})])}finally{u.abort(),Br(e,-sl)}r.size>0&&r.size===n.size+i.size&&(n.size===0&&i.size>0?Do(e):gg(e))},dg=async(e,t,{signal:r})=>{try{await e,r.aborted||Do(t)}catch(n){r.aborted||ul(t,n)}},mg=async({passThroughStream:e,stream:t,streams:r,ended:n,aborted:i,controller:{signal:s}})=>{try{await(0,lo.finished)(t,{signal:s,cleanup:!0,readable:!0,writable:!1}),r.has(t)&&n.add(t)}catch(o){if(s.aborted||!r.has(t))return;al(o)?i.add(t):cl(e,o)}},hg=async({stream:e,streams:t,ended:r,aborted:n,unpipeEvent:i,controller:{signal:s}})=>{if(await(0,st.once)(e,i,{signal:s}),!e.readable)return(0,st.once)(s,"abort",{signal:s});t.delete(e),r.delete(e),n.delete(e)},gg=e=>{e.writable&&e.end()},ul=(e,t)=>{al(t)?Do(e):cl(e,t)},al=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",Do=e=>{(e.readable||e.writable)&&e.destroy()},cl=(e,t)=>{e.destroyed||(e.once("error",bg),e.destroy(t))},bg=()=>{},Br=(e,t)=>{let r=e.getMaxListeners();r!==0&&r!==Number.POSITIVE_INFINITY&&e.setMaxListeners(r+t)},il=2,sl=1;var fo=require("node:stream/promises");var Le=(e,t)=>{e.pipe(t),Eg(e,t),yg(e,t)},Eg=async(e,t)=>{if(!(U(e)||U(t))){try{await(0,fo.finished)(e,{cleanup:!0,readable:!0,writable:!1})}catch{}po(t)}},po=e=>{e.writable&&e.end()},yg=async(e,t)=>{if(!(U(e)||U(t))){try{await(0,fo.finished)(t,{cleanup:!0,readable:!1,writable:!0})}catch{}mo(e)}},mo=e=>{e.readable&&e.destroy()};var ll=(e,t,r)=>{let n=new Map;for(let[i,{stdioItems:s,direction:o}]of Object.entries(t)){for(let{stream:u}of s.filter(({type:a})=>k.has(a)))Cg(e,u,o,i);for(let{stream:u}of s.filter(({type:a})=>!k.has(a)))wg({subprocess:e,stream:u,direction:o,fdNumber:i,pipeGroups:n,controller:r})}for(let[i,s]of n.entries()){let o=s.length===1?s[0]:me(s);Le(o,i)}},Cg=(e,t,r,n)=>{r==="output"?Le(e.stdio[n],t):Le(t,e.stdio[n]);let i=Fg[n];i!==void 0&&(e[i]=t),e.stdio[n]=t},Fg=["stdin","stdout","stderr"],wg=({subprocess:e,stream:t,direction:r,fdNumber:n,pipeGroups:i,controller:s})=>{if(t===void 0)return;Sg(t,s);let[o,u]=r==="output"?[t,e.stdio[n]]:[e.stdio[n],t],a=i.get(o)??[];i.set(o,[...a,u])},Sg=(e,{signal:t})=>{U(e)&&De(e,xg,t)},xg=2;var fl=require("node:events");var he=[];he.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&he.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&he.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var Tr=e=>!!e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function",ho=Symbol.for("signal-exit emitter"),go=globalThis,Bg=Object.defineProperty.bind(Object),bo=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(go[ho])return go[ho];Bg(go,ho,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(t,r){this.listeners[t].push(r)}removeListener(t,r){let n=this.listeners[t],i=n.indexOf(r);i!==-1&&(i===0&&n.length===1?n.length=0:n.splice(i,1))}emit(t,r,n){if(this.emitted[t])return!1;this.emitted[t]=!0;let i=!1;for(let s of this.listeners[t])i=s(r,n)===!0||i;return t==="exit"&&(i=this.emit("afterExit",r,n)||i),i}},$r=class{},Ag=e=>({onExit(t,r){return e.onExit(t,r)},load(){return e.load()},unload(){return e.unload()}}),Eo=class extends $r{onExit(){return()=>{}}load(){}unload(){}},yo=class extends $r{#t=Co.platform==="win32"?"SIGINT":"SIGHUP";#r=new bo;#e;#n;#i;#o={};#s=!1;constructor(t){super(),this.#e=t,this.#o={};for(let r of he)this.#o[r]=()=>{let n=this.#e.listeners(r),{count:i}=this.#r,s=t;if(typeof s.__signal_exit_emitter__=="object"&&typeof s.__signal_exit_emitter__.count=="number"&&(i+=s.__signal_exit_emitter__.count),n.length===i){this.unload();let o=this.#r.emit("exit",null,r),u=r==="SIGHUP"?this.#t:r;o||t.kill(t.pid,u)}};this.#i=t.reallyExit,this.#n=t.emit}onExit(t,r){if(!Tr(this.#e))return()=>{};this.#s===!1&&this.load();let n=r?.alwaysLast?"afterExit":"exit";return this.#r.on(n,t),()=>{this.#r.removeListener(n,t),this.#r.listeners.exit.length===0&&this.#r.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#s){this.#s=!0,this.#r.count+=1;for(let t of he)try{let r=this.#o[t];r&&this.#e.on(t,r)}catch{}this.#e.emit=(t,...r)=>this.#a(t,...r),this.#e.reallyExit=t=>this.#u(t)}}unload(){this.#s&&(this.#s=!1,he.forEach(t=>{let r=this.#o[t];if(!r)throw new Error("Listener not defined for signal: "+t);try{this.#e.removeListener(t,r)}catch{}}),this.#e.emit=this.#n,this.#e.reallyExit=this.#i,this.#r.count-=1)}#u(t){return Tr(this.#e)?(this.#e.exitCode=t||0,this.#r.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#a(t,...r){let n=this.#n;if(t==="exit"&&Tr(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let i=n.call(this.#e,t,...r);return this.#r.emit("exit",this.#e.exitCode,null),i}else return n.call(this.#e,t,...r)}},Co=globalThis.process,{onExit:Dl,load:eS,unload:tS}=Ag(Tr(Co)?new yo(Co):new Eo);var pl=(e,{cleanup:t,detached:r},{signal:n})=>{if(!t||r)return;let i=Dl(()=>{e.kill()});(0,fl.addAbortListener)(n,()=>{i()})};var ml=({source:e,sourcePromise:t,boundOptions:r,createNested:n},...i)=>{let s=Pt(),{destination:o,destinationStream:u,destinationError:a,from:c,unpipeSignal:l}=Tg(r,n,i),{sourceStream:D,sourceError:f}=vg(e,c),{options:p,fileDescriptors:m}=q.get(e);return{sourcePromise:t,sourceStream:D,sourceOptions:p,sourceError:f,destination:o,destinationStream:u,destinationError:a,unpipeSignal:l,fileDescriptors:m,startTime:s}},Tg=(e,t,r)=>{try{let{destination:n,pipeOptions:{from:i,to:s,unpipeSignal:o}={}}=$g(e,t,...r),u=Vt(n,s);return{destination:n,destinationStream:u,from:i,unpipeSignal:o}}catch(n){return{destinationError:n}}},$g=(e,t,r,...n)=>{if(Array.isArray(r))return{destination:t(dl,e)(r,...n),pipeOptions:e};if(typeof r=="string"||r instanceof URL){if(Object.keys(e).length>0)throw new TypeError('Please use .pipe("file", ..., options) or .pipe(execa("file", ..., options)) instead of .pipe(options)("file", ...).');let[i,s,o]=St(r,...n);return{destination:t(dl)(i,s,o),pipeOptions:o}}if(q.has(r)){if(Object.keys(e).length>0)throw new TypeError("Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).");return{destination:r,pipeOptions:n[0]}}throw new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${r}`)},dl=({options:e})=>({options:{...e,stdin:"pipe",piped:!0}}),vg=(e,t)=>{try{return{sourceStream:Te(e,t)}}catch(r){return{sourceError:r}}};var gl=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n,fileDescriptors:i,sourceOptions:s,startTime:o})=>{let u=Og({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n});if(u!==void 0)throw Fo({error:u,fileDescriptors:i,sourceOptions:s,startTime:o})},Og=({sourceStream:e,sourceError:t,destinationStream:r,destinationError:n})=>{if(t!==void 0&&n!==void 0)return n;if(n!==void 0)return mo(e),n;if(t!==void 0)return po(r),t},Fo=({error:e,fileDescriptors:t,sourceOptions:r,startTime:n})=>Oe({error:e,command:hl,escapedCommand:hl,fileDescriptors:t,options:r,startTime:n,isSync:!1}),hl="source.pipe(destination)";var bl=async e=>{let[{status:t,reason:r,value:n=r},{status:i,reason:s,value:o=s}]=await e;if(o.pipedFrom.includes(n)||o.pipedFrom.push(n),i==="rejected")throw o;if(t==="rejected")throw n;return o};var El=require("node:stream/promises");var yl=(e,t,r)=>{let n=vr.has(t)?Ig(e,t):Rg(e,t);return De(e,Pg,r.signal),De(t,Lg,r.signal),Mg(t),n},Rg=(e,t)=>{let r=me([e]);return Le(r,t),vr.set(t,r),r},Ig=(e,t)=>{let r=vr.get(t);return r.add(e),r},Mg=async e=>{try{await(0,El.finished)(e,{cleanup:!0,readable:!1,writable:!0})}catch{}vr.delete(e)},vr=new WeakMap,Pg=2,Lg=1;var Cl=require("node:util");var Fl=(e,t)=>e===void 0?[]:[_g(e,t)],_g=async(e,{sourceStream:t,mergedStream:r,fileDescriptors:n,sourceOptions:i,startTime:s})=>{await(0,Cl.aborted)(e,t),await r.remove(t);let o=new Error("Pipe canceled by `unpipeSignal` option.");throw Fo({error:o,fileDescriptors:n,sourceOptions:i,startTime:s})};var Or=(e,...t)=>{if(x(t[0]))return Or.bind(void 0,{...e,boundOptions:{...e.boundOptions,...t[0]}});let{destination:r,...n}=ml(e,...t),i=Ng({...n,destination:r});return i.pipe=Or.bind(void 0,{...e,source:r,sourcePromise:i,boundOptions:{}}),i},Ng=async({sourcePromise:e,sourceStream:t,sourceOptions:r,sourceError:n,destination:i,destinationStream:s,destinationError:o,unpipeSignal:u,fileDescriptors:a,startTime:c})=>{let l=kg(e,i);gl({sourceStream:t,sourceError:n,destinationStream:s,destinationError:o,fileDescriptors:a,sourceOptions:r,startTime:c});let D=new AbortController;try{let f=yl(t,s,D);return await Promise.race([bl(l),...Fl(u,{sourceStream:t,mergedStream:f,sourceOptions:r,fileDescriptors:a,startTime:c})])}finally{D.abort()}},kg=(e,t)=>Promise.allSettled([e,t]);var Al=require("node:timers/promises");var Sl=require("node:events"),xl=require("node:stream");var Rr=({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:n,encoding:i,preserveNewlines:s})=>{let o=new AbortController;return jg(t,o),Bl({stream:e,controller:o,binary:r,shouldEncode:!e.readableObjectMode&&n,encoding:i,shouldSplit:!e.readableObjectMode,preserveNewlines:s})},jg=async(e,t)=>{try{await e}catch{}finally{t.abort()}},wo=({stream:e,onStreamEnd:t,lines:r,encoding:n,stripFinalNewline:i,allMixed:s})=>{let o=new AbortController;Ug(t,o,e);let u=e.readableObjectMode&&!s;return Bl({stream:e,controller:o,binary:n==="buffer",shouldEncode:!u,encoding:n,shouldSplit:!u&&r,preserveNewlines:!i})},Ug=async(e,t,r)=>{try{await e}catch{r.destroy()}finally{t.abort()}},Bl=({stream:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o})=>{let u=(0,Sl.on)(e,"data",{signal:t.signal,highWaterMark:wl,highWatermark:wl});return Gg({onStdoutChunk:u,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o})},So=(0,xl.getDefaultHighWaterMark)(!0),wl=So,Gg=async function*({onStdoutChunk:e,controller:t,binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o}){let u=Wg({binary:r,shouldEncode:n,encoding:i,shouldSplit:s,preserveNewlines:o});try{for await(let[a]of e)yield*de(a,u,0)}catch(a){if(!t.signal.aborted)throw a}finally{yield*tt(u)}},Wg=({binary:e,shouldEncode:t,encoding:r,shouldSplit:n,preserveNewlines:i})=>[Er(e,r,!t),br(e,i,!n,{})].filter(Boolean);var Tl=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,buffer:i,maxBuffer:s,lines:o,allMixed:u,stripFinalNewline:a,verboseInfo:c,streamInfo:l})=>{let D=zg({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:u,verboseInfo:c,streamInfo:l});if(!i){await Promise.all([Vg(e),D]);return}let f=Jn(a,r),p=wo({stream:e,onStreamEnd:t,lines:o,encoding:n,stripFinalNewline:f,allMixed:u}),[m]=await Promise.all([Yg({stream:e,iterable:p,fdNumber:r,encoding:n,maxBuffer:s,lines:o}),D]);return m},zg=async({stream:e,onStreamEnd:t,fdNumber:r,encoding:n,allMixed:i,verboseInfo:s,streamInfo:{fileDescriptors:o}})=>{if(!Fr({stdioItems:o[r]?.stdioItems,encoding:n,verboseInfo:s,fdNumber:r}))return;let u=wo({stream:e,onStreamEnd:t,lines:!0,encoding:n,stripFinalNewline:!0,allMixed:i});await _c(u,e,r,s)},Vg=async e=>{await(0,Al.setImmediate)(),e.readableFlowing===null&&e.resume()},Yg=async({stream:e,stream:{readableObjectMode:t},iterable:r,fdNumber:n,encoding:i,maxBuffer:s,lines:o})=>{try{return t||o?await ur(r,{maxBuffer:s}):i==="buffer"?new Uint8Array(await ar(r,{maxBuffer:s})):await lr(r,{maxBuffer:s})}catch(u){return $l(Ma({error:u,stream:e,readableObjectMode:t,lines:o,encoding:i,fdNumber:n}))}},xo=async e=>{try{return await e}catch(t){return $l(t)}},$l=({bufferedData:e})=>Ai(e)?new Uint8Array(e):e;var Ol=require("node:stream/promises"),ut=async(e,t,r,{isSameDirection:n,stopOnExit:i=!1}={})=>{let s=qg(e,r),o=new AbortController;try{await Promise.race([...i?[r.exitPromise]:[],(0,Ol.finished)(e,{cleanup:!0,signal:o.signal})])}catch(u){s.stdinCleanedUp||Zg(u,t,r,n)}finally{o.abort()}},qg=(e,{originalStreams:[t],subprocess:r})=>{let n={stdinCleanedUp:!1};return e===t&&Hg(e,r,n),n},Hg=(e,t,r)=>{let{_destroy:n}=e;e._destroy=(...i)=>{Kg(t,r),n.call(e,...i)}},Kg=({exitCode:e,signalCode:t},r)=>{(e!==null||t!==null)&&(r.stdinCleanedUp=!0)},Zg=(e,t,r,n)=>{if(!Xg(e,t,r,n))throw e},Xg=(e,t,r,n=!0)=>r.propagating?vl(e)||Ir(e):(r.propagating=!0,Bo(r,t)===n?vl(e):Ir(e)),Bo=({fileDescriptors:e},t)=>t!=="all"&&e[t].direction==="input",Ir=e=>e?.code==="ERR_STREAM_PREMATURE_CLOSE",vl=e=>e?.code==="EPIPE";var Rl=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:s,verboseInfo:o,streamInfo:u})=>e.stdio.map((a,c)=>Ao({stream:a,fdNumber:c,encoding:t,buffer:r[c],maxBuffer:n[c],lines:i[c],allMixed:!1,stripFinalNewline:s,verboseInfo:o,streamInfo:u})),Ao=async({stream:e,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:s,allMixed:o,stripFinalNewline:u,verboseInfo:a,streamInfo:c})=>{if(!e)return;let l=ut(e,t,c);if(Bo(c,t)){await l;return}let[D]=await Promise.all([Tl({stream:e,onStreamEnd:l,fdNumber:t,encoding:r,buffer:n,maxBuffer:i,lines:s,allMixed:o,stripFinalNewline:u,verboseInfo:a,streamInfo:c}),l]);return D};var Il=({stdout:e,stderr:t},{all:r})=>r&&(e||t)?me([e,t].filter(Boolean)):void 0,Ml=({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:s,verboseInfo:o,streamInfo:u})=>Ao({...Jg(e,r),fdNumber:"all",encoding:t,maxBuffer:n[1]+n[2],lines:i[1]||i[2],allMixed:Qg(e),stripFinalNewline:s,verboseInfo:o,streamInfo:u}),Jg=({stdout:e,stderr:t,all:r},[,n,i])=>{let s=n||i;return s?n?i?{stream:r,buffer:s}:{stream:e,buffer:s}:{stream:t,buffer:s}:{stream:r,buffer:s}},Qg=({all:e,stdout:t,stderr:r})=>e&&t&&r&&t.readableObjectMode!==r.readableObjectMode;var kl=require("node:events");var Pl=e=>Fe(e,"ipc"),Ll=(e,t)=>{let r=Mt(e);V({type:"ipc",verboseMessage:r,fdNumber:"ipc",verboseInfo:t})};var _l=async({subprocess:e,buffer:t,maxBuffer:r,ipc:n,ipcOutput:i,verboseInfo:s})=>{if(!n)return i;let o=Pl(s),u=Q(t,"ipc"),a=Q(r,"ipc");for await(let c of so({anyProcess:e,channel:e.channel,isSubprocess:!1,ipc:n,shouldAwait:!1,reference:!0}))u&&(Pa(e,i,a),i.push(c)),o&&Ll(c,s);return i},Nl=async(e,t)=>(await Promise.allSettled([e]),t);var jl=async({subprocess:e,options:{encoding:t,buffer:r,maxBuffer:n,lines:i,timeoutDuration:s,cancelSignal:o,gracefulCancel:u,forceKillAfterDelay:a,stripFinalNewline:c,ipc:l,ipcInput:D},context:f,verboseInfo:p,fileDescriptors:m,originalStreams:g,onInternalError:B,controller:b})=>{let T=Gc(e,f),v={originalStreams:g,fileDescriptors:m,subprocess:e,exitPromise:T,propagating:!1},M=Rl({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:c,verboseInfo:p,streamInfo:v}),X=Ml({subprocess:e,encoding:t,buffer:r,maxBuffer:n,lines:i,stripFinalNewline:c,verboseInfo:p,streamInfo:v}),re=[],le=_l({subprocess:e,buffer:r,maxBuffer:n,ipc:l,ipcOutput:re,verboseInfo:p}),ge=eb(g,e,v),ne=tb(m,v);try{return await Promise.race([Promise.all([{},zc(T),Promise.all(M),X,le,aa(e,D),...ge,...ne]),B,rb(e,b),...na(e,s,f,b),...hu({subprocess:e,cancelSignal:o,gracefulCancel:u,context:f,controller:b}),...ea({subprocess:e,cancelSignal:o,gracefulCancel:u,forceKillAfterDelay:a,context:f,controller:b})])}catch(Nr){return f.terminationReason??="other",Promise.all([{error:Nr},T,Promise.all(M.map(Ne=>xo(Ne))),xo(X),Nl(le,re),Promise.allSettled(ge),Promise.allSettled(ne)])}},eb=(e,t,r)=>e.map((n,i)=>n===t.stdio[i]?void 0:ut(n,i,r)),tb=(e,t)=>e.flatMap(({stdioItems:r},n)=>r.filter(({value:i,stream:s=i})=>z(s,{checkOpen:!1})&&!U(s)).map(({type:i,value:s,stream:o=s})=>ut(o,n,t,{isSameDirection:k.has(i),stopOnExit:i==="native"}))),rb=async(e,{signal:t})=>{let[r]=await(0,kl.once)(e,"error",{signal:t});throw r};var Ul=()=>({readableDestroy:new WeakMap,writableFinal:new WeakMap,writableDestroy:new WeakMap}),at=(e,t,r)=>{let n=e[r];n.has(t)||n.set(t,[]);let i=n.get(t),s=Y();return i.push(s),{resolve:s.resolve.bind(s),promises:i}},_e=async({resolve:e,promises:t},r)=>{e();let[n]=await Promise.race([Promise.allSettled([!0,r]),Promise.all([!1,...t])]);return!n};var Wl=require("node:stream"),zl=require("node:util");var To=require("node:stream/promises");var $o=async e=>{if(e!==void 0)try{await vo(e)}catch{}},Gl=async e=>{if(e!==void 0)try{await Oo(e)}catch{}},vo=async e=>{await(0,To.finished)(e,{cleanup:!0,readable:!1,writable:!0})},Oo=async e=>{await(0,To.finished)(e,{cleanup:!0,readable:!0,writable:!1})},Mr=async(e,t)=>{if(await e,t)throw t},Pr=(e,t,r)=>{r&&!Ir(r)?e.destroy(r):t&&e.destroy()};var Vl=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,binary:i=!0,preserveNewlines:s=!0}={})=>{let o=i||I.has(r),{subprocessStdout:u,waitReadableDestroy:a}=Ro(e,n,t),{readableEncoding:c,readableObjectMode:l,readableHighWaterMark:D}=Io(u,o),{read:f,onStdoutDataDone:p}=Mo({subprocessStdout:u,subprocess:e,binary:o,encoding:r,preserveNewlines:s}),m=new Wl.Readable({read:f,destroy:(0,zl.callbackify)(Lo.bind(void 0,{subprocessStdout:u,subprocess:e,waitReadableDestroy:a})),highWaterMark:D,objectMode:l,encoding:c});return Po({subprocessStdout:u,onStdoutDataDone:p,readable:m,subprocess:e}),m},Ro=(e,t,r)=>{let n=Te(e,t),i=at(r,n,"readableDestroy");return{subprocessStdout:n,waitReadableDestroy:i}},Io=({readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r},n)=>n?{readableEncoding:e,readableObjectMode:t,readableHighWaterMark:r}:{readableEncoding:e,readableObjectMode:!0,readableHighWaterMark:So},Mo=({subprocessStdout:e,subprocess:t,binary:r,encoding:n,preserveNewlines:i})=>{let s=Y(),o=Rr({subprocessStdout:e,subprocess:t,binary:r,shouldEncode:!r,encoding:n,preserveNewlines:i});return{read(){nb(this,o,s)},onStdoutDataDone:s}},nb=async(e,t,r)=>{try{let{value:n,done:i}=await t.next();i?r.resolve():e.push(n)}catch{}},Po=async({subprocessStdout:e,onStdoutDataDone:t,readable:r,subprocess:n,subprocessStdin:i})=>{try{await Oo(e),await n,await $o(i),await t,r.readable&&r.push(null)}catch(s){await $o(i),Yl(r,s)}},Lo=async({subprocessStdout:e,subprocess:t,waitReadableDestroy:r},n)=>{await _e(r,t)&&(Yl(e,n),await Mr(t,n))},Yl=(e,t)=>{Pr(e,e.readable,t)};var ql=require("node:stream"),_o=require("node:util");var Hl=({subprocess:e,concurrentStreams:t},{to:r}={})=>{let{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:s}=No(e,r,t),o=new ql.Writable({...ko(n,e,i),destroy:(0,_o.callbackify)(Uo.bind(void 0,{subprocessStdin:n,subprocess:e,waitWritableFinal:i,waitWritableDestroy:s})),highWaterMark:n.writableHighWaterMark,objectMode:n.writableObjectMode});return jo(n,o),o},No=(e,t,r)=>{let n=Vt(e,t),i=at(r,n,"writableFinal"),s=at(r,n,"writableDestroy");return{subprocessStdin:n,waitWritableFinal:i,waitWritableDestroy:s}},ko=(e,t,r)=>({write:ob.bind(void 0,e),final:(0,_o.callbackify)(ib.bind(void 0,e,t,r))}),ob=(e,t,r,n)=>{e.write(t,r)?n():e.once("drain",n)},ib=async(e,t,r)=>{await _e(r,t)&&(e.writable&&e.end(),await t)},jo=async(e,t,r)=>{try{await vo(e),t.writable&&t.end()}catch(n){await Gl(r),Kl(t,n)}},Uo=async({subprocessStdin:e,subprocess:t,waitWritableFinal:r,waitWritableDestroy:n},i)=>{await _e(r,t),await _e(n,t)&&(Kl(e,i),await Mr(t,i))},Kl=(e,t)=>{Pr(e,e.writable,t)};var Zl=require("node:stream"),Xl=require("node:util");var Jl=({subprocess:e,concurrentStreams:t,encoding:r},{from:n,to:i,binary:s=!0,preserveNewlines:o=!0}={})=>{let u=s||I.has(r),{subprocessStdout:a,waitReadableDestroy:c}=Ro(e,n,t),{subprocessStdin:l,waitWritableFinal:D,waitWritableDestroy:f}=No(e,i,t),{readableEncoding:p,readableObjectMode:m,readableHighWaterMark:g}=Io(a,u),{read:B,onStdoutDataDone:b}=Mo({subprocessStdout:a,subprocess:e,binary:u,encoding:r,preserveNewlines:o}),T=new Zl.Duplex({read:B,...ko(l,e,D),destroy:(0,Xl.callbackify)(sb.bind(void 0,{subprocessStdout:a,subprocessStdin:l,subprocess:e,waitReadableDestroy:c,waitWritableFinal:D,waitWritableDestroy:f})),readableHighWaterMark:g,writableHighWaterMark:l.writableHighWaterMark,readableObjectMode:m,writableObjectMode:l.writableObjectMode,encoding:p});return Po({subprocessStdout:a,onStdoutDataDone:b,readable:T,subprocess:e,subprocessStdin:l}),jo(l,T,a),T},sb=async({subprocessStdout:e,subprocessStdin:t,subprocess:r,waitReadableDestroy:n,waitWritableFinal:i,waitWritableDestroy:s},o)=>{await Promise.all([Lo({subprocessStdout:e,subprocess:r,waitReadableDestroy:n},o),Uo({subprocessStdin:t,subprocess:r,waitWritableFinal:i,waitWritableDestroy:s},o)])};var Go=(e,t,{from:r,binary:n=!1,preserveNewlines:i=!1}={})=>{let s=n||I.has(t),o=Te(e,r),u=Rr({subprocessStdout:o,subprocess:e,binary:s,shouldEncode:!0,encoding:t,preserveNewlines:i});return ub(u,o,e)},ub=async function*(e,t,r){try{yield*e}finally{t.readable&&t.destroy(),await r}};var Ql=(e,{encoding:t})=>{let r=Ul();e.readable=Vl.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.writable=Hl.bind(void 0,{subprocess:e,concurrentStreams:r}),e.duplex=Jl.bind(void 0,{subprocess:e,concurrentStreams:r,encoding:t}),e.iterable=Go.bind(void 0,e,t),e[Symbol.asyncIterator]=Go.bind(void 0,e,t,{})};var eD=(e,t)=>{for(let[r,n]of cb){let i=n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}},ab=(async()=>{})().constructor.prototype,cb=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(ab,e)]);var nD=(e,t,r,n)=>{let{file:i,commandArguments:s,command:o,escapedCommand:u,startTime:a,verboseInfo:c,options:l,fileDescriptors:D}=lb(e,t,r),{subprocess:f,promise:p}=fb({file:i,commandArguments:s,options:l,startTime:a,verboseInfo:c,command:o,escapedCommand:u,fileDescriptors:D});return f.pipe=Or.bind(void 0,{source:f,sourcePromise:p,boundOptions:{},createNested:n}),eD(f,p),q.set(f,{options:l,fileDescriptors:D}),f},lb=(e,t,r)=>{let{command:n,escapedCommand:i,startTime:s,verboseInfo:o}=Lt(e,t,r),{file:u,commandArguments:a,options:c}=nr(e,t,r),l=Db(c),D=ol(l,o);return{file:u,commandArguments:a,command:n,escapedCommand:i,startTime:s,verboseInfo:o,options:l,fileDescriptors:D}},Db=({timeout:e,signal:t,...r})=>{if(t!==void 0)throw new TypeError('The "signal" option has been renamed to "cancelSignal" instead.');return{...r,timeoutDuration:e}},fb=({file:e,commandArguments:t,options:r,startTime:n,verboseInfo:i,command:s,escapedCommand:o,fileDescriptors:u})=>{let a;try{a=(0,rD.spawn)(e,t,r)}catch(m){return tl({error:m,command:s,escapedCommand:o,fileDescriptors:u,options:r,startTime:n,verboseInfo:i})}let c=new AbortController;(0,tD.setMaxListeners)(Number.POSITIVE_INFINITY,c.signal);let l=[...a.stdio];ll(a,u,c),pl(a,r,c);let D={},f=Y();a.kill=pu.bind(void 0,{kill:a.kill.bind(a),options:r,onInternalError:f,context:D,controller:c}),a.all=Il(a,r),Ql(a,r),Xc(a,r);let p=pb({subprocess:a,options:r,startTime:n,verboseInfo:i,fileDescriptors:u,originalStreams:l,command:s,escapedCommand:o,context:D,onInternalError:f,controller:c});return{subprocess:a,promise:p}},pb=async({subprocess:e,options:t,startTime:r,verboseInfo:n,fileDescriptors:i,originalStreams:s,command:o,escapedCommand:u,context:a,onInternalError:c,controller:l})=>{let[D,[f,p],m,g,B]=await jl({subprocess:e,options:t,context:a,verboseInfo:n,fileDescriptors:i,originalStreams:s,onInternalError:c,controller:l});l.abort(),c.resolve();let b=m.map((M,X)=>te(M,t,X)),T=te(g,t,"all"),v=db({errorInfo:D,exitCode:f,signal:p,stdio:b,all:T,ipcOutput:B,context:a,options:t,command:o,escapedCommand:u,startTime:r});return Re(v,n,t)},db=({errorInfo:e,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:s,context:o,options:u,command:a,escapedCommand:c,startTime:l})=>"error"in e?et({error:e.error,command:a,escapedCommand:c,timedOut:o.terminationReason==="timeout",isCanceled:o.terminationReason==="cancel"||o.terminationReason==="gracefulCancel",isGracefullyCanceled:o.terminationReason==="gracefulCancel",isMaxBuffer:e.error instanceof H,isForcefullyTerminated:o.isForcefullyTerminated,exitCode:t,signal:r,stdio:n,all:i,ipcOutput:s,options:u,startTime:l,isSync:!1}):fr({command:a,escapedCommand:c,stdio:n,all:i,ipcOutput:s,options:u,startTime:l});var Lr=(e,t)=>{let r=Object.fromEntries(Object.entries(t).map(([n,i])=>[n,mb(n,e[n],i)]));return{...e,...r}},mb=(e,t,r)=>hb.has(e)&&x(t)&&x(r)?{...t,...r}:r,hb=new Set(["env",...un]);var ce=(e,t,r,n)=>{let i=(o,u,a)=>ce(o,u,r,a),s=(...o)=>gb({mapArguments:e,deepOptions:r,boundOptions:t,setBoundExeca:n,createNested:i},...o);return n!==void 0&&n(s,i,t),s},gb=({mapArguments:e,deepOptions:t={},boundOptions:r={},setBoundExeca:n,createNested:i},s,...o)=>{if(x(s))return i(e,Lr(r,s),n);let{file:u,commandArguments:a,options:c,isSync:l}=bb({mapArguments:e,firstArgument:s,nextArguments:o,deepOptions:t,boundOptions:r});return l?qc(u,a,c):nD(u,a,c,i)},bb=({mapArguments:e,firstArgument:t,nextArguments:r,deepOptions:n,boundOptions:i})=>{let s=Mi(t)?Pi(t,r):[t,...r],[o,u,a]=St(...s),c=Lr(Lr(n,i),a),{file:l=o,commandArguments:D=u,options:f=c,isSync:p=!1}=e({file:o,commandArguments:u,options:c});return{file:l,commandArguments:D,options:f,isSync:p}};var oD=({file:e,commandArguments:t})=>sD(e,t),iD=({file:e,commandArguments:t})=>({...sD(e,t),isSync:!0}),sD=(e,t)=>{if(t.length>0)throw new TypeError(`The command and its arguments must be passed as a single string: ${e} ${t}.`);let[r,...n]=Eb(e);return{file:r,commandArguments:n}},Eb=e=>{if(typeof e!="string")throw new TypeError(`The command must be a string: ${String(e)}.`);let t=e.trim();if(t==="")return[];let r=[];for(let n of t.split(yb)){let i=r.at(-1);i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${n}`:r.push(n)}return r},yb=/ +/g;var uD=(e,t,r)=>{e.sync=t(Cb,r),e.s=e.sync},aD=({options:e})=>cD(e),Cb=({options:e})=>({...cD(e),isSync:!0}),cD=e=>({options:{...Fb(e),...e}}),Fb=({input:e,inputFile:t,stdio:r})=>e===void 0&&t===void 0&&r===void 0?{stdin:"inherit"}:{},lD={preferLocal:!0};var _r=ce(()=>({})),x1=ce(()=>({isSync:!0})),B1=ce(oD),A1=ce(iD),T1=ce(oa),$1=ce(aD,{},lD,uD),{sendMessage:v1,getOneMessage:O1,getEachMessage:R1,getCancelSignal:I1}=Jc();var DD=E(require("fs/promises"),1);async function wb(){let e=await DD.default.stat(".husky").then(()=>!0).catch(()=>!1),[,,...t]=process.argv,r=t.includes("--verbose")||e,n=t.includes("--no-breaking"),i=t.includes("--no-task"),s=t.includes("--no-wip"),{stdout:o}=await _r`git diff --cached --numstat`.pipe`wc -l`,u=Number(o);u<=0&&(Ge("No staged files."),process.exit()),fi(`Committing ${u} staged file${u>1?"s":""}`);let a=await Sb(),c=n?!1:await xb(),l=await Bb(),D=i?void 0:await Ab(),f=s?!1:await Tb();c&&(a=`${a}!`);let p=`${a.toString()}: ${l.toString()}${f?" (WIP)":""}${D?` (${D.toString()})`:""}`;await _r({stdout:r?process.stdout:"ignore",stderr:r?process.stdout:"ignore"})`git commit -m ${p}`,Ge(`Committed "${p}"`);let{stdout:m}=await _r`git status`;console.log(m)}async function Sb(){return await ct(Di({message:"Select the type of change you are commiting",options:[{value:"feat",label:"feat: New feature implementation"},{value:"fix",label:"fix: Bug fixes"},{value:"chore",label:"chore: Maintenance tasks, housekeeping, etc."},{value:"test",label:"test: Adding or modifying tests"},{value:"build",label:"build: Build related changes"},{value:"ci",label:"ci: Changes to CI configuration or scripts"},{value:"docs",label:"docs: Documentation changes"},{value:"perf",label:"perf: Performance improvements"},{value:"refactor",label:"refactor: Code refactoring"},{value:"revert",label:"revert: Reverting changes"},{value:"style",label:"style: Code style changes (e.g formatting)"}],initialValue:"feat"}))}async function xb(){return await ct(Et({message:`Does this change introduce a breaking change? (press ${wt.cyan("[enter]")} to skip)`}))}async function Bb(){return await ct(Et({message:"Write a short & imperative summary of the code changes (lower case and no period)",validate:e=>{if(e.length===0)return"Commit message is required"}})).then(e=>`${e}`.toLowerCase().trim())}async function Ab(){return await ct(Et({message:`Provide task number, (press ${wt.cyan("[enter]")} to skip)`}))}async function Tb(){return await ct(li({message:"Is this task a WIP?",initialValue:!1}))}async function ct(e){let t=await e;return bt(t)&&(Ge("Cancelled"),process.exit()),t}wb().catch(e=>{console.error(e),Ge(`${wt.red("CATASTROPHIC FAILURE")}: Something went wrong committing your spaghetti`)});
